(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function bg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Op={exports:{}},Hl={},Mp={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function Z2(){if(yw)return De;yw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function I($,Z,ge){this.props=$,this.context=Z,this.refs=R,this.updater=ge||S}I.prototype.isReactComponent={},I.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function L(){}L.prototype=I.prototype;function B($,Z,ge){this.props=$,this.context=Z,this.refs=R,this.updater=ge||S}var V=B.prototype=new L;V.constructor=B,A(V,I.prototype),V.isPureReactComponent=!0;var K=Array.isArray,X=Object.prototype.hasOwnProperty,te={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C($,Z,ge){var Pe,Ne={},Me=null,ze=null;if(Z!=null)for(Pe in Z.ref!==void 0&&(ze=Z.ref),Z.key!==void 0&&(Me=""+Z.key),Z)X.call(Z,Pe)&&!D.hasOwnProperty(Pe)&&(Ne[Pe]=Z[Pe]);var $e=arguments.length-2;if($e===1)Ne.children=ge;else if(1<$e){for(var Qe=Array($e),Pt=0;Pt<$e;Pt++)Qe[Pt]=arguments[Pt+2];Ne.children=Qe}if($&&$.defaultProps)for(Pe in $e=$.defaultProps,$e)Ne[Pe]===void 0&&(Ne[Pe]=$e[Pe]);return{$$typeof:t,type:$,key:Me,ref:ze,props:Ne,_owner:te.current}}function k($,Z){return{$$typeof:t,type:$.type,key:Z,ref:$.ref,props:$.props,_owner:$._owner}}function M($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function F($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ge){return Z[ge]})}var z=/\/+/g;function O($,Z){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):Z.toString(36)}function tt($,Z,ge,Pe,Ne){var Me=typeof $;(Me==="undefined"||Me==="boolean")&&($=null);var ze=!1;if($===null)ze=!0;else switch(Me){case"string":case"number":ze=!0;break;case"object":switch($.$$typeof){case t:case e:ze=!0}}if(ze)return ze=$,Ne=Ne(ze),$=Pe===""?"."+O(ze,0):Pe,K(Ne)?(ge="",$!=null&&(ge=$.replace(z,"$&/")+"/"),tt(Ne,Z,ge,"",function(Pt){return Pt})):Ne!=null&&(M(Ne)&&(Ne=k(Ne,ge+(!Ne.key||ze&&ze.key===Ne.key?"":(""+Ne.key).replace(z,"$&/")+"/")+$)),Z.push(Ne)),1;if(ze=0,Pe=Pe===""?".":Pe+":",K($))for(var $e=0;$e<$.length;$e++){Me=$[$e];var Qe=Pe+O(Me,$e);ze+=tt(Me,Z,ge,Qe,Ne)}else if(Qe=x($),typeof Qe=="function")for($=Qe.call($),$e=0;!(Me=$.next()).done;)Me=Me.value,Qe=Pe+O(Me,$e++),ze+=tt(Me,Z,ge,Qe,Ne);else if(Me==="object")throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ze}function xt($,Z,ge){if($==null)return $;var Pe=[],Ne=0;return tt($,Pe,"","",function(Me){return Z.call(ge,Me,Ne++)}),Pe}function jt($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(ge){($._status===0||$._status===-1)&&($._status=1,$._result=ge)},function(ge){($._status===0||$._status===-1)&&($._status=2,$._result=ge)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var be={current:null},se={transition:null},pe={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:se,ReactCurrentOwner:te};function le(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:xt,forEach:function($,Z,ge){xt($,function(){Z.apply(this,arguments)},ge)},count:function($){var Z=0;return xt($,function(){Z++}),Z},toArray:function($){return xt($,function(Z){return Z})||[]},only:function($){if(!M($))throw Error("React.Children.only expected to receive a single React element child.");return $}},De.Component=I,De.Fragment=n,De.Profiler=s,De.PureComponent=B,De.StrictMode=r,De.Suspense=d,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,De.act=le,De.cloneElement=function($,Z,ge){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Pe=A({},$.props),Ne=$.key,Me=$.ref,ze=$._owner;if(Z!=null){if(Z.ref!==void 0&&(Me=Z.ref,ze=te.current),Z.key!==void 0&&(Ne=""+Z.key),$.type&&$.type.defaultProps)var $e=$.type.defaultProps;for(Qe in Z)X.call(Z,Qe)&&!D.hasOwnProperty(Qe)&&(Pe[Qe]=Z[Qe]===void 0&&$e!==void 0?$e[Qe]:Z[Qe])}var Qe=arguments.length-2;if(Qe===1)Pe.children=ge;else if(1<Qe){$e=Array(Qe);for(var Pt=0;Pt<Qe;Pt++)$e[Pt]=arguments[Pt+2];Pe.children=$e}return{$$typeof:t,type:$.type,key:Ne,ref:Me,props:Pe,_owner:ze}},De.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},De.createElement=C,De.createFactory=function($){var Z=C.bind(null,$);return Z.type=$,Z},De.createRef=function(){return{current:null}},De.forwardRef=function($){return{$$typeof:c,render:$}},De.isValidElement=M,De.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:jt}},De.memo=function($,Z){return{$$typeof:p,type:$,compare:Z===void 0?null:Z}},De.startTransition=function($){var Z=se.transition;se.transition={};try{$()}finally{se.transition=Z}},De.unstable_act=le,De.useCallback=function($,Z){return be.current.useCallback($,Z)},De.useContext=function($){return be.current.useContext($)},De.useDebugValue=function(){},De.useDeferredValue=function($){return be.current.useDeferredValue($)},De.useEffect=function($,Z){return be.current.useEffect($,Z)},De.useId=function(){return be.current.useId()},De.useImperativeHandle=function($,Z,ge){return be.current.useImperativeHandle($,Z,ge)},De.useInsertionEffect=function($,Z){return be.current.useInsertionEffect($,Z)},De.useLayoutEffect=function($,Z){return be.current.useLayoutEffect($,Z)},De.useMemo=function($,Z){return be.current.useMemo($,Z)},De.useReducer=function($,Z,ge){return be.current.useReducer($,Z,ge)},De.useRef=function($){return be.current.useRef($)},De.useState=function($){return be.current.useState($)},De.useSyncExternalStore=function($,Z,ge){return be.current.useSyncExternalStore($,Z,ge)},De.useTransition=function(){return be.current.useTransition()},De.version="18.3.1",De}var vw;function Cg(){return vw||(vw=1,Mp.exports=Z2()),Mp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function eC(){if(ww)return Hl;ww=1;var t=Cg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,y={},x=null,S=null;p!==void 0&&(x=""+p),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:x,ref:S,props:y,_owner:s.current}}return Hl.Fragment=n,Hl.jsx=l,Hl.jsxs=l,Hl}var _w;function tC(){return _w||(_w=1,Op.exports=eC()),Op.exports}var w=tC(),P=Cg();const Ht=bg(P);var jp={exports:{}},yn={},Fp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function nC(){return xw||(xw=1,function(t){function e(se,pe){var le=se.length;se.push(pe);e:for(;0<le;){var $=le-1>>>1,Z=se[$];if(0<s(Z,pe))se[$]=pe,se[le]=Z,le=$;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var pe=se[0],le=se.pop();if(le!==pe){se[0]=le;e:for(var $=0,Z=se.length,ge=Z>>>1;$<ge;){var Pe=2*($+1)-1,Ne=se[Pe],Me=Pe+1,ze=se[Me];if(0>s(Ne,le))Me<Z&&0>s(ze,Ne)?(se[$]=ze,se[Me]=le,$=Me):(se[$]=Ne,se[Pe]=le,$=Pe);else if(Me<Z&&0>s(ze,le))se[$]=ze,se[Me]=le,$=Me;else break e}}return pe}function s(se,pe){var le=se.sortIndex-pe.sortIndex;return le!==0?le:se.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,y=null,x=3,S=!1,A=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(se){for(var pe=n(p);pe!==null;){if(pe.callback===null)r(p);else if(pe.startTime<=se)r(p),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=n(p)}}function K(se){if(R=!1,V(se),!A)if(n(d)!==null)A=!0,jt(X);else{var pe=n(p);pe!==null&&be(K,pe.startTime-se)}}function X(se,pe){A=!1,R&&(R=!1,L(C),C=-1),S=!0;var le=x;try{for(V(pe),y=n(d);y!==null&&(!(y.expirationTime>pe)||se&&!F());){var $=y.callback;if(typeof $=="function"){y.callback=null,x=y.priorityLevel;var Z=$(y.expirationTime<=pe);pe=t.unstable_now(),typeof Z=="function"?y.callback=Z:y===n(d)&&r(d),V(pe)}else r(d);y=n(d)}if(y!==null)var ge=!0;else{var Pe=n(p);Pe!==null&&be(K,Pe.startTime-pe),ge=!1}return ge}finally{y=null,x=le,S=!1}}var te=!1,D=null,C=-1,k=5,M=-1;function F(){return!(t.unstable_now()-M<k)}function z(){if(D!==null){var se=t.unstable_now();M=se;var pe=!0;try{pe=D(!0,se)}finally{pe?O():(te=!1,D=null)}}else te=!1}var O;if(typeof B=="function")O=function(){B(z)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,xt=tt.port2;tt.port1.onmessage=z,O=function(){xt.postMessage(null)}}else O=function(){I(z,0)};function jt(se){D=se,te||(te=!0,O())}function be(se,pe){C=I(function(){se(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){A||S||(A=!0,jt(X))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(se){switch(x){case 1:case 2:case 3:var pe=3;break;default:pe=x}var le=x;x=pe;try{return se()}finally{x=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,pe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=x;x=se;try{return pe()}finally{x=le}},t.unstable_scheduleCallback=function(se,pe,le){var $=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?$+le:$):le=$,se){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,se={id:m++,callback:pe,priorityLevel:se,startTime:le,expirationTime:Z,sortIndex:-1},le>$?(se.sortIndex=le,e(p,se),n(d)===null&&se===n(p)&&(R?(L(C),C=-1):R=!0,be(K,le-$))):(se.sortIndex=Z,e(d,se),A||S||(A=!0,jt(X))),se},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(se){var pe=x;return function(){var le=x;x=pe;try{return se.apply(this,arguments)}finally{x=le}}}}(Up)),Up}var Ew;function rC(){return Ew||(Ew=1,Fp.exports=nC()),Fp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function iC(){if(Tw)return yn;Tw=1;var t=Cg(),e=rC();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function x(i){return d.call(y,i)?!0:d.call(m,i)?!1:p.test(i)?y[i]=!0:(m[i]=!0,!1)}function S(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,o,u,f){if(o===null||typeof o>"u"||S(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(i,o,u,f,g,_,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=_,this.removeEmptyString=T}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){I[i]=new R(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];I[o]=new R(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){I[i]=new R(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){I[i]=new R(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){I[i]=new R(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){I[i]=new R(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){I[i]=new R(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){I[i]=new R(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){I[i]=new R(i,5,!1,i.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function B(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(L,B);I[o]=new R(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(L,B);I[o]=new R(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(L,B);I[o]=new R(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){I[i]=new R(i,1,!1,i.toLowerCase(),null,!1,!1)}),I.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){I[i]=new R(i,1,!1,i.toLowerCase(),null,!0,!0)});function V(i,o,u,f){var g=I.hasOwnProperty(o)?I[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,u,g,f)&&(u=null),f||g===null?x(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var K=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),te=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),jt=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),se=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,$;function Z(i){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var ge=!1;function Pe(i,o){if(!i||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var f=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){f=G}i.call(o.prototype)}else{try{throw Error()}catch(G){f=G}i()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var g=G.stack.split(`
`),_=f.stack.split(`
`),T=g.length-1,N=_.length-1;1<=T&&0<=N&&g[T]!==_[N];)N--;for(;1<=T&&0<=N;T--,N--)if(g[T]!==_[N]){if(T!==1||N!==1)do if(T--,N--,0>N||g[T]!==_[N]){var j=`
`+g[T].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=T&&0<=N);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Z(i):""}function Ne(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case te:return"Portal";case k:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case tt:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case xt:return o=i.displayName||null,o!==null?o:Me(i.type)||"Memo";case jt:o=i._payload,i=i._init;try{return Me(i(o))}catch{}}return null}function ze(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Pt(i){var o=Qe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Fr(i){i._valueTracker||(i._valueTracker=Pt(i))}function mo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Qe(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function gi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function gs(i,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function go(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=$e(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ya(i,o){o=o.checked,o!=null&&V(i,"checked",o,!1)}function Xa(i,o){Ya(i,o);var u=$e(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?yo(i,o.type,u):o.hasOwnProperty("defaultValue")&&yo(i,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Yu(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function yo(i,o,u){(o!=="number"||gi(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ur=Array.isArray;function Br(i,o,u,f){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+$e(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function Ja(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function vo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Ur(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:$e(u)}}function wo(i,o){var u=$e(o.value),f=$e(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Za(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Et(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Et(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var zr,el=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,g)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(zr=zr||document.createElement("div"),zr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=zr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function yi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vs=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(i){vs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ys[o]=ys[i]})});function tl(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ys.hasOwnProperty(i)&&ys[i]?(""+o).trim():o+"px"}function nl(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=tl(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,g):i[u]=g}}var rl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function il(i,o){if(o){if(rl[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function sl(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ws=null;function _o(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xo=null,Dn=null,gr=null;function Eo(i){if(i=Rl(i)){if(typeof xo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=bc(o),xo(i.stateNode,i.type,o))}}function yr(i){Dn?gr?gr.push(i):gr=[i]:Dn=i}function ol(){if(Dn){var i=Dn,o=gr;if(gr=Dn=null,Eo(i),o)for(i=0;i<o.length;i++)Eo(o[i])}}function _s(i,o){return i(o)}function al(){}var $r=!1;function ll(i,o,u){if($r)return i(o,u);$r=!0;try{return _s(i,o,u)}finally{$r=!1,(Dn!==null||gr!==null)&&(al(),ol())}}function dt(i,o){var u=i.stateNode;if(u===null)return null;var f=bc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var To=!1;if(c)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){To=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{To=!1}function xs(i,o,u,f,g,_,T,N,j){var G=Array.prototype.slice.call(arguments,3);try{o.apply(u,G)}catch(ne){this.onError(ne)}}var Es=!1,So=null,Gn=!1,ul=null,cf={onError:function(i){Es=!0,So=i}};function Io(i,o,u,f,g,_,T,N,j){Es=!1,So=null,xs.apply(cf,arguments)}function Xu(i,o,u,f,g,_,T,N,j){if(Io.apply(this,arguments),Es){if(Es){var G=So;Es=!1,So=null}else throw Error(n(198));Gn||(Gn=!0,ul=G)}}function Qn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ts(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Yn(i){if(Qn(i)!==i)throw Error(n(188))}function Ju(i){var o=i.alternate;if(!o){if(o=Qn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return Yn(g),i;if(_===f)return Yn(g),o;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=_;else{for(var T=!1,N=g.child;N;){if(N===u){T=!0,u=g,f=_;break}if(N===f){T=!0,f=g,u=_;break}N=N.sibling}if(!T){for(N=_.child;N;){if(N===u){T=!0,u=_,f=g;break}if(N===f){T=!0,f=_,u=g;break}N=N.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function cl(i){return i=Ju(i),i!==null?bo(i):null}function bo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=bo(i);if(o!==null)return o;i=i.sibling}return null}var Co=e.unstable_scheduleCallback,hl=e.unstable_cancelCallback,Zu=e.unstable_shouldYield,hf=e.unstable_requestPaint,Ye=e.unstable_now,ec=e.unstable_getCurrentPriorityLevel,Ss=e.unstable_ImmediatePriority,vi=e.unstable_UserBlockingPriority,Ln=e.unstable_NormalPriority,dl=e.unstable_LowPriority,tc=e.unstable_IdlePriority,Is=null,Tn=null;function nc(i){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Is,i,void 0,(i.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:ic,fl=Math.log,rc=Math.LN2;function ic(i){return i>>>=0,i===0?32:31-(fl(i)/rc|0)|0}var Ao=64,Ro=4194304;function wi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function bs(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,_=i.pingedLanes,T=u&268435455;if(T!==0){var N=T&~g;N!==0?f=wi(N):(_&=T,_!==0&&(f=wi(_)))}else T=u&~g,T!==0?f=wi(T):_!==0&&(f=wi(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,_=o&-o,g>=_||g===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-rn(o),g=1<<u,f|=i[u],o&=~g;return f}function df(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hr(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes;0<_;){var T=31-rn(_),N=1<<T,j=g[T];j===-1?((N&u)===0||(N&f)!==0)&&(g[T]=df(N,o)):j<=o&&(i.expiredLanes|=N),_&=~N}}function Sn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Cs(){var i=Ao;return Ao<<=1,(Ao&4194240)===0&&(Ao=64),i}function _i(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function xi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-rn(o),i[o]=u}function Ge(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-rn(u),_=1<<g;o[g]=0,f[g]=-1,i[g]=-1,u&=~_}}function Ei(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-rn(u),g=1<<f;g&o|i[f]&o&&(i[f]|=o),u&=~g}}var Oe=0;function Ti(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var sc,Po,oc,ac,lc,pl=!1,vr=[],Ft=null,Xn=null,Jn=null,Si=new Map,Vn=new Map,wr=[],ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(i,o){switch(i){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Si.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vn.delete(o.pointerId)}}function cn(i,o,u,f,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Rl(o),o!==null&&Po(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function pf(i,o,u,f,g){switch(o){case"focusin":return Ft=cn(Ft,i,o,u,f,g),!0;case"dragenter":return Xn=cn(Xn,i,o,u,f,g),!0;case"mouseover":return Jn=cn(Jn,i,o,u,f,g),!0;case"pointerover":var _=g.pointerId;return Si.set(_,cn(Si.get(_)||null,i,o,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,Vn.set(_,cn(Vn.get(_)||null,i,o,u,f,g)),!0}return!1}function cc(i){var o=Ns(i.target);if(o!==null){var u=Qn(o);if(u!==null){if(o=u.tag,o===13){if(o=Ts(u),o!==null){i.blockedOn=o,lc(i.priority,function(){oc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=ko(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);ws=f,u.target.dispatchEvent(f),ws=null}else return o=Rl(u),o!==null&&Po(o),i.blockedOn=u,!1;o.shift()}return!0}function As(i,o,u){Wr(i)&&u.delete(o)}function hc(){pl=!1,Ft!==null&&Wr(Ft)&&(Ft=null),Xn!==null&&Wr(Xn)&&(Xn=null),Jn!==null&&Wr(Jn)&&(Jn=null),Si.forEach(As),Vn.forEach(As)}function Zn(i,o){i.blockedOn===o&&(i.blockedOn=null,pl||(pl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hc)))}function er(i){function o(g){return Zn(g,i)}if(0<vr.length){Zn(vr[0],i);for(var u=1;u<vr.length;u++){var f=vr[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Ft!==null&&Zn(Ft,i),Xn!==null&&Zn(Xn,i),Jn!==null&&Zn(Jn,i),Si.forEach(o),Vn.forEach(o),u=0;u<wr.length;u++)f=wr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<wr.length&&(u=wr[0],u.blockedOn===null);)cc(u),u.blockedOn===null&&wr.shift()}var qr=K.ReactCurrentBatchConfig,Ii=!0;function nt(i,o,u,f){var g=Oe,_=qr.transition;qr.transition=null;try{Oe=1,ml(i,o,u,f)}finally{Oe=g,qr.transition=_}}function mf(i,o,u,f){var g=Oe,_=qr.transition;qr.transition=null;try{Oe=4,ml(i,o,u,f)}finally{Oe=g,qr.transition=_}}function ml(i,o,u,f){if(Ii){var g=ko(i,o,u,f);if(g===null)bf(i,o,f,Rs,u),uc(i,f);else if(pf(g,i,o,u,f))f.stopPropagation();else if(uc(i,f),o&4&&-1<ff.indexOf(i)){for(;g!==null;){var _=Rl(g);if(_!==null&&sc(_),_=ko(i,o,u,f),_===null&&bf(i,o,f,Rs,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else bf(i,o,f,null,u)}}var Rs=null;function ko(i,o,u,f){if(Rs=null,i=_o(f),i=Ns(i),i!==null)if(o=Qn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ts(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Rs=i,null}function gl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case Ss:return 1;case vi:return 4;case Ln:case dl:return 16;case tc:return 536870912;default:return 16}default:return 16}}var In=null,No=null,hn=null;function yl(){if(hn)return hn;var i,o=No,u=o.length,f,g="value"in In?In.value:In.textContent,_=g.length;for(i=0;i<u&&o[i]===g[i];i++);var T=u-i;for(f=1;f<=T&&o[u-f]===g[_-f];f++);return hn=g.slice(i,1<f?1-f:void 0)}function Do(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function _r(){return!0}function vl(){return!1}function Ut(i){function o(u,f,g,_,T){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(_):_[N]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?_r:vl,this.isPropagationStopped=vl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),o}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=Ut(tr),xr=le({},tr,{view:0,detail:0}),gf=Ut(xr),Vo,Kr,bi,Ps=le({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==bi&&(bi&&i.type==="mousemove"?(Vo=i.screenX-bi.screenX,Kr=i.screenY-bi.screenY):Kr=Vo=0,bi=i),Vo)},movementY:function(i){return"movementY"in i?i.movementY:Kr}}),Oo=Ut(Ps),wl=le({},Ps,{dataTransfer:0}),dc=Ut(wl),Mo=le({},xr,{relatedTarget:0}),jo=Ut(Mo),fc=le({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gr=Ut(fc),pc=le({},tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),mc=Ut(pc),gc=le({},tr,{data:0}),_l=Ut(gc),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=yc[i])?!!o[i]:!1}function Er(){return vc}var h=le({},xr,{key:function(i){if(i.key){var o=Fo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Do(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(i){return i.type==="keypress"?Do(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Do(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=Ut(h),E=le({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=Ut(E),H=le({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),Q=Ut(H),ae=le({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Ut(ae),St=le({},Ps,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Ut(St),kt=[9,13,27,32],yt=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var bn=c&&"TextEvent"in window&&!On,ks=c&&(!yt||On&&8<On&&11>=On),Uo=" ",hv=!1;function dv(i,o){switch(i){case"keyup":return kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bo=!1;function Yb(i,o){switch(i){case"compositionend":return fv(o);case"keypress":return o.which!==32?null:(hv=!0,Uo);case"textInput":return i=o.data,i===Uo&&hv?null:i;default:return null}}function Xb(i,o){if(Bo)return i==="compositionend"||!yt&&dv(i,o)?(i=yl(),hn=No=In=null,Bo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ks&&o.locale!=="ko"?null:o.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Jb[i.type]:o==="textarea"}function mv(i,o,u,f){yr(f),o=Tc(o,"onChange"),0<o.length&&(u=new Lo("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var xl=null,El=null;function Zb(i){Dv(i,0)}function wc(i){var o=qo(i);if(mo(o))return i}function e2(i,o){if(i==="change")return o}var gv=!1;if(c){var yf;if(c){var vf="oninput"in document;if(!vf){var yv=document.createElement("div");yv.setAttribute("oninput","return;"),vf=typeof yv.oninput=="function"}yf=vf}else yf=!1;gv=yf&&(!document.documentMode||9<document.documentMode)}function vv(){xl&&(xl.detachEvent("onpropertychange",wv),El=xl=null)}function wv(i){if(i.propertyName==="value"&&wc(El)){var o=[];mv(o,El,i,_o(i)),ll(Zb,o)}}function t2(i,o,u){i==="focusin"?(vv(),xl=o,El=u,xl.attachEvent("onpropertychange",wv)):i==="focusout"&&vv()}function n2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wc(El)}function r2(i,o){if(i==="click")return wc(o)}function i2(i,o){if(i==="input"||i==="change")return wc(o)}function s2(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var nr=typeof Object.is=="function"?Object.is:s2;function Tl(i,o){if(nr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!d.call(o,g)||!nr(i[g],o[g]))return!1}return!0}function _v(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xv(i,o){var u=_v(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=_v(u)}}function Ev(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Ev(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Tv(){for(var i=window,o=gi();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=gi(i.document)}return o}function wf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function o2(i){var o=Tv(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Ev(u.ownerDocument.documentElement,u)){if(f!==null&&wf(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!i.extend&&_>f&&(g=f,f=_,_=g),g=xv(u,_);var T=xv(u,f);g&&T&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),_>f?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var a2=c&&"documentMode"in document&&11>=document.documentMode,zo=null,_f=null,Sl=null,xf=!1;function Sv(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;xf||zo==null||zo!==gi(f)||(f=zo,"selectionStart"in f&&wf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Sl&&Tl(Sl,f)||(Sl=f,f=Tc(_f,"onSelect"),0<f.length&&(o=new Lo("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=zo)))}function _c(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var $o={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},Ef={},Iv={};c&&(Iv=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function xc(i){if(Ef[i])return Ef[i];if(!$o[i])return i;var o=$o[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Iv)return Ef[i]=o[u];return i}var bv=xc("animationend"),Cv=xc("animationiteration"),Av=xc("animationstart"),Rv=xc("transitionend"),Pv=new Map,kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(i,o){Pv.set(i,o),a(o,[i])}for(var Tf=0;Tf<kv.length;Tf++){var Sf=kv[Tf],l2=Sf.toLowerCase(),u2=Sf[0].toUpperCase()+Sf.slice(1);Ci(l2,"on"+u2)}Ci(bv,"onAnimationEnd"),Ci(Cv,"onAnimationIteration"),Ci(Av,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(Rv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function Nv(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,Xu(f,o,void 0,i),i.currentTarget=null}function Dv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var T=f.length-1;0<=T;T--){var N=f[T],j=N.instance,G=N.currentTarget;if(N=N.listener,j!==_&&g.isPropagationStopped())break e;Nv(g,N,G),_=j}else for(T=0;T<f.length;T++){if(N=f[T],j=N.instance,G=N.currentTarget,N=N.listener,j!==_&&g.isPropagationStopped())break e;Nv(g,N,G),_=j}}}if(Gn)throw i=ul,Gn=!1,ul=null,i}function Ze(i,o){var u=o[Nf];u===void 0&&(u=o[Nf]=new Set);var f=i+"__bubble";u.has(f)||(Lv(o,i,2,!1),u.add(f))}function If(i,o,u){var f=0;o&&(f|=4),Lv(u,i,f,o)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function bl(i){if(!i[Ec]){i[Ec]=!0,r.forEach(function(u){u!=="selectionchange"&&(c2.has(u)||If(u,!1,i),If(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ec]||(o[Ec]=!0,If("selectionchange",!1,o))}}function Lv(i,o,u,f){switch(gl(o)){case 1:var g=nt;break;case 4:g=mf;break;default:g=ml}u=g.bind(null,o,u,i),g=void 0,!To||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function bf(i,o,u,f,g){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var N=f.stateNode.containerInfo;if(N===g||N.nodeType===8&&N.parentNode===g)break;if(T===4)for(T=f.return;T!==null;){var j=T.tag;if((j===3||j===4)&&(j=T.stateNode.containerInfo,j===g||j.nodeType===8&&j.parentNode===g))return;T=T.return}for(;N!==null;){if(T=Ns(N),T===null)return;if(j=T.tag,j===5||j===6){f=_=T;continue e}N=N.parentNode}}f=f.return}ll(function(){var G=_,ne=_o(u),ie=[];e:{var ee=Pv.get(i);if(ee!==void 0){var ue=Lo,de=i;switch(i){case"keypress":if(Do(u)===0)break e;case"keydown":case"keyup":ue=v;break;case"focusin":de="focus",ue=jo;break;case"focusout":de="blur",ue=jo;break;case"beforeblur":case"afterblur":ue=jo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Q;break;case bv:case Cv:case Av:ue=Gr;break;case Rv:ue=Ke;break;case"scroll":ue=gf;break;case"wheel":ue=je;break;case"copy":case"cut":case"paste":ue=mc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=b}var fe=(o&4)!==0,ft=!fe&&i==="scroll",W=fe?ee!==null?ee+"Capture":null:ee;fe=[];for(var U=G,q;U!==null;){q=U;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,W!==null&&(oe=dt(U,W),oe!=null&&fe.push(Cl(U,oe,q)))),ft)break;U=U.return}0<fe.length&&(ee=new ue(ee,de,null,u,ne),ie.push({event:ee,listeners:fe}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ee&&u!==ws&&(de=u.relatedTarget||u.fromElement)&&(Ns(de)||de[Qr]))break e;if((ue||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(de=u.relatedTarget||u.toElement,ue=G,de=de?Ns(de):null,de!==null&&(ft=Qn(de),de!==ft||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=G),ue!==de)){if(fe=Oo,oe="onMouseLeave",W="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(fe=b,oe="onPointerLeave",W="onPointerEnter",U="pointer"),ft=ue==null?ee:qo(ue),q=de==null?ee:qo(de),ee=new fe(oe,U+"leave",ue,u,ne),ee.target=ft,ee.relatedTarget=q,oe=null,Ns(ne)===G&&(fe=new fe(W,U+"enter",de,u,ne),fe.target=q,fe.relatedTarget=ft,oe=fe),ft=oe,ue&&de)t:{for(fe=ue,W=de,U=0,q=fe;q;q=Ho(q))U++;for(q=0,oe=W;oe;oe=Ho(oe))q++;for(;0<U-q;)fe=Ho(fe),U--;for(;0<q-U;)W=Ho(W),q--;for(;U--;){if(fe===W||W!==null&&fe===W.alternate)break t;fe=Ho(fe),W=Ho(W)}fe=null}else fe=null;ue!==null&&Vv(ie,ee,ue,fe,!1),de!==null&&ft!==null&&Vv(ie,ft,de,fe,!0)}}e:{if(ee=G?qo(G):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var me=e2;else if(pv(ee))if(gv)me=i2;else{me=n2;var ve=t2}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(me=r2);if(me&&(me=me(i,G))){mv(ie,me,u,ne);break e}ve&&ve(i,ee,G),i==="focusout"&&(ve=ee._wrapperState)&&ve.controlled&&ee.type==="number"&&yo(ee,"number",ee.value)}switch(ve=G?qo(G):window,i){case"focusin":(pv(ve)||ve.contentEditable==="true")&&(zo=ve,_f=G,Sl=null);break;case"focusout":Sl=_f=zo=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Sv(ie,u,ne);break;case"selectionchange":if(a2)break;case"keydown":case"keyup":Sv(ie,u,ne)}var we;if(yt)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Bo?dv(i,u)&&(Ie="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ie="onCompositionStart");Ie&&(ks&&u.locale!=="ko"&&(Bo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Bo&&(we=yl()):(In=ne,No="value"in In?In.value:In.textContent,Bo=!0)),ve=Tc(G,Ie),0<ve.length&&(Ie=new _l(Ie,i,null,u,ne),ie.push({event:Ie,listeners:ve}),we?Ie.data=we:(we=fv(u),we!==null&&(Ie.data=we)))),(we=bn?Yb(i,u):Xb(i,u))&&(G=Tc(G,"onBeforeInput"),0<G.length&&(ne=new _l("onBeforeInput","beforeinput",null,u,ne),ie.push({event:ne,listeners:G}),ne.data=we))}Dv(ie,o)})}function Cl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Tc(i,o){for(var u=o+"Capture",f=[];i!==null;){var g=i,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=dt(i,u),_!=null&&f.unshift(Cl(i,_,g)),_=dt(i,o),_!=null&&f.push(Cl(i,_,g))),i=i.return}return f}function Ho(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Vv(i,o,u,f,g){for(var _=o._reactName,T=[];u!==null&&u!==f;){var N=u,j=N.alternate,G=N.stateNode;if(j!==null&&j===f)break;N.tag===5&&G!==null&&(N=G,g?(j=dt(u,_),j!=null&&T.unshift(Cl(u,j,N))):g||(j=dt(u,_),j!=null&&T.push(Cl(u,j,N)))),u=u.return}T.length!==0&&i.push({event:o,listeners:T})}var h2=/\r\n?/g,d2=/\u0000|\uFFFD/g;function Ov(i){return(typeof i=="string"?i:""+i).replace(h2,`
`).replace(d2,"")}function Sc(i,o,u){if(o=Ov(o),Ov(i)!==o&&u)throw Error(n(425))}function Ic(){}var Cf=null,Af=null;function Rf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Pf=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,p2=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(i){return Mv.resolve(null).then(i).catch(m2)}:Pf;function m2(i){setTimeout(function(){throw i})}function kf(i,o){var u=o,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){i.removeChild(g),er(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);er(o)}function Ai(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function jv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Wo,Al="__reactProps$"+Wo,Qr="__reactContainer$"+Wo,Nf="__reactEvents$"+Wo,g2="__reactListeners$"+Wo,y2="__reactHandles$"+Wo;function Ns(i){var o=i[Tr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Qr]||u[Tr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=jv(i);i!==null;){if(u=i[Tr])return u;i=jv(i)}return o}i=u,u=i.parentNode}return null}function Rl(i){return i=i[Tr]||i[Qr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function qo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function bc(i){return i[Al]||null}var Df=[],Ko=-1;function Ri(i){return{current:i}}function et(i){0>Ko||(i.current=Df[Ko],Df[Ko]=null,Ko--)}function Xe(i,o){Ko++,Df[Ko]=i.current,i.current=o}var Pi={},Gt=Ri(Pi),dn=Ri(!1),Ds=Pi;function Go(i,o){var u=i.type.contextTypes;if(!u)return Pi;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=o[_];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function fn(i){return i=i.childContextTypes,i!=null}function Cc(){et(dn),et(Gt)}function Fv(i,o,u){if(Gt.current!==Pi)throw Error(n(168));Xe(Gt,o),Xe(dn,u)}function Uv(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,ze(i)||"Unknown",g));return le({},u,f)}function Ac(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Pi,Ds=Gt.current,Xe(Gt,i),Xe(dn,dn.current),!0}function Bv(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=Uv(i,o,Ds),f.__reactInternalMemoizedMergedChildContext=i,et(dn),et(Gt),Xe(Gt,i)):et(dn),Xe(dn,u)}var Yr=null,Rc=!1,Lf=!1;function zv(i){Yr===null?Yr=[i]:Yr.push(i)}function v2(i){Rc=!0,zv(i)}function ki(){if(!Lf&&Yr!==null){Lf=!0;var i=0,o=Oe;try{var u=Yr;for(Oe=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Yr=null,Rc=!1}catch(g){throw Yr!==null&&(Yr=Yr.slice(i+1)),Co(Ss,ki),g}finally{Oe=o,Lf=!1}}return null}var Qo=[],Yo=0,Pc=null,kc=0,Mn=[],jn=0,Ls=null,Xr=1,Jr="";function Vs(i,o){Qo[Yo++]=kc,Qo[Yo++]=Pc,Pc=i,kc=o}function $v(i,o,u){Mn[jn++]=Xr,Mn[jn++]=Jr,Mn[jn++]=Ls,Ls=i;var f=Xr;i=Jr;var g=32-rn(f)-1;f&=~(1<<g),u+=1;var _=32-rn(o)+g;if(30<_){var T=g-g%5;_=(f&(1<<T)-1).toString(32),f>>=T,g-=T,Xr=1<<32-rn(o)+g|u<<g|f,Jr=_+i}else Xr=1<<_|u<<g|f,Jr=i}function Vf(i){i.return!==null&&(Vs(i,1),$v(i,1,0))}function Of(i){for(;i===Pc;)Pc=Qo[--Yo],Qo[Yo]=null,kc=Qo[--Yo],Qo[Yo]=null;for(;i===Ls;)Ls=Mn[--jn],Mn[jn]=null,Jr=Mn[--jn],Mn[jn]=null,Xr=Mn[--jn],Mn[jn]=null}var Cn=null,An=null,rt=!1,rr=null;function Hv(i,o){var u=zn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Wv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Cn=i,An=Ai(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Cn=i,An=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ls!==null?{id:Xr,overflow:Jr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=zn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Cn=i,An=null,!0):!1;default:return!1}}function Mf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function jf(i){if(rt){var o=An;if(o){var u=o;if(!Wv(i,o)){if(Mf(i))throw Error(n(418));o=Ai(u.nextSibling);var f=Cn;o&&Wv(i,o)?Hv(f,u):(i.flags=i.flags&-4097|2,rt=!1,Cn=i)}}else{if(Mf(i))throw Error(n(418));i.flags=i.flags&-4097|2,rt=!1,Cn=i}}}function qv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Cn=i}function Nc(i){if(i!==Cn)return!1;if(!rt)return qv(i),rt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Rf(i.type,i.memoizedProps)),o&&(o=An)){if(Mf(i))throw Kv(),Error(n(418));for(;o;)Hv(i,o),o=Ai(o.nextSibling)}if(qv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){An=Ai(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}An=null}}else An=Cn?Ai(i.stateNode.nextSibling):null;return!0}function Kv(){for(var i=An;i;)i=Ai(i.nextSibling)}function Xo(){An=Cn=null,rt=!1}function Ff(i){rr===null?rr=[i]:rr.push(i)}var w2=K.ReactCurrentBatchConfig;function Pl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var g=f,_=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(T){var N=g.refs;T===null?delete N[_]:N[_]=T},o._stringRef=_,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Dc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Gv(i){var o=i._init;return o(i._payload)}function Qv(i){function o(W,U){if(i){var q=W.deletions;q===null?(W.deletions=[U],W.flags|=16):q.push(U)}}function u(W,U){if(!i)return null;for(;U!==null;)o(W,U),U=U.sibling;return null}function f(W,U){for(W=new Map;U!==null;)U.key!==null?W.set(U.key,U):W.set(U.index,U),U=U.sibling;return W}function g(W,U){return W=Fi(W,U),W.index=0,W.sibling=null,W}function _(W,U,q){return W.index=q,i?(q=W.alternate,q!==null?(q=q.index,q<U?(W.flags|=2,U):q):(W.flags|=2,U)):(W.flags|=1048576,U)}function T(W){return i&&W.alternate===null&&(W.flags|=2),W}function N(W,U,q,oe){return U===null||U.tag!==6?(U=Pp(q,W.mode,oe),U.return=W,U):(U=g(U,q),U.return=W,U)}function j(W,U,q,oe){var me=q.type;return me===D?ne(W,U,q.props.children,oe,q.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===jt&&Gv(me)===U.type)?(oe=g(U,q.props),oe.ref=Pl(W,U,q),oe.return=W,oe):(oe=rh(q.type,q.key,q.props,null,W.mode,oe),oe.ref=Pl(W,U,q),oe.return=W,oe)}function G(W,U,q,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=kp(q,W.mode,oe),U.return=W,U):(U=g(U,q.children||[]),U.return=W,U)}function ne(W,U,q,oe,me){return U===null||U.tag!==7?(U=$s(q,W.mode,oe,me),U.return=W,U):(U=g(U,q),U.return=W,U)}function ie(W,U,q){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Pp(""+U,W.mode,q),U.return=W,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case X:return q=rh(U.type,U.key,U.props,null,W.mode,q),q.ref=Pl(W,null,U),q.return=W,q;case te:return U=kp(U,W.mode,q),U.return=W,U;case jt:var oe=U._init;return ie(W,oe(U._payload),q)}if(Ur(U)||pe(U))return U=$s(U,W.mode,q,null),U.return=W,U;Dc(W,U)}return null}function ee(W,U,q,oe){var me=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return me!==null?null:N(W,U,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case X:return q.key===me?j(W,U,q,oe):null;case te:return q.key===me?G(W,U,q,oe):null;case jt:return me=q._init,ee(W,U,me(q._payload),oe)}if(Ur(q)||pe(q))return me!==null?null:ne(W,U,q,oe,null);Dc(W,q)}return null}function ue(W,U,q,oe,me){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return W=W.get(q)||null,N(U,W,""+oe,me);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case X:return W=W.get(oe.key===null?q:oe.key)||null,j(U,W,oe,me);case te:return W=W.get(oe.key===null?q:oe.key)||null,G(U,W,oe,me);case jt:var ve=oe._init;return ue(W,U,q,ve(oe._payload),me)}if(Ur(oe)||pe(oe))return W=W.get(q)||null,ne(U,W,oe,me,null);Dc(U,oe)}return null}function de(W,U,q,oe){for(var me=null,ve=null,we=U,Ie=U=0,Lt=null;we!==null&&Ie<q.length;Ie++){we.index>Ie?(Lt=we,we=null):Lt=we.sibling;var Be=ee(W,we,q[Ie],oe);if(Be===null){we===null&&(we=Lt);break}i&&we&&Be.alternate===null&&o(W,we),U=_(Be,U,Ie),ve===null?me=Be:ve.sibling=Be,ve=Be,we=Lt}if(Ie===q.length)return u(W,we),rt&&Vs(W,Ie),me;if(we===null){for(;Ie<q.length;Ie++)we=ie(W,q[Ie],oe),we!==null&&(U=_(we,U,Ie),ve===null?me=we:ve.sibling=we,ve=we);return rt&&Vs(W,Ie),me}for(we=f(W,we);Ie<q.length;Ie++)Lt=ue(we,W,Ie,q[Ie],oe),Lt!==null&&(i&&Lt.alternate!==null&&we.delete(Lt.key===null?Ie:Lt.key),U=_(Lt,U,Ie),ve===null?me=Lt:ve.sibling=Lt,ve=Lt);return i&&we.forEach(function(Ui){return o(W,Ui)}),rt&&Vs(W,Ie),me}function fe(W,U,q,oe){var me=pe(q);if(typeof me!="function")throw Error(n(150));if(q=me.call(q),q==null)throw Error(n(151));for(var ve=me=null,we=U,Ie=U=0,Lt=null,Be=q.next();we!==null&&!Be.done;Ie++,Be=q.next()){we.index>Ie?(Lt=we,we=null):Lt=we.sibling;var Ui=ee(W,we,Be.value,oe);if(Ui===null){we===null&&(we=Lt);break}i&&we&&Ui.alternate===null&&o(W,we),U=_(Ui,U,Ie),ve===null?me=Ui:ve.sibling=Ui,ve=Ui,we=Lt}if(Be.done)return u(W,we),rt&&Vs(W,Ie),me;if(we===null){for(;!Be.done;Ie++,Be=q.next())Be=ie(W,Be.value,oe),Be!==null&&(U=_(Be,U,Ie),ve===null?me=Be:ve.sibling=Be,ve=Be);return rt&&Vs(W,Ie),me}for(we=f(W,we);!Be.done;Ie++,Be=q.next())Be=ue(we,W,Ie,Be.value,oe),Be!==null&&(i&&Be.alternate!==null&&we.delete(Be.key===null?Ie:Be.key),U=_(Be,U,Ie),ve===null?me=Be:ve.sibling=Be,ve=Be);return i&&we.forEach(function(J2){return o(W,J2)}),rt&&Vs(W,Ie),me}function ft(W,U,q,oe){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case X:e:{for(var me=q.key,ve=U;ve!==null;){if(ve.key===me){if(me=q.type,me===D){if(ve.tag===7){u(W,ve.sibling),U=g(ve,q.props.children),U.return=W,W=U;break e}}else if(ve.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===jt&&Gv(me)===ve.type){u(W,ve.sibling),U=g(ve,q.props),U.ref=Pl(W,ve,q),U.return=W,W=U;break e}u(W,ve);break}else o(W,ve);ve=ve.sibling}q.type===D?(U=$s(q.props.children,W.mode,oe,q.key),U.return=W,W=U):(oe=rh(q.type,q.key,q.props,null,W.mode,oe),oe.ref=Pl(W,U,q),oe.return=W,W=oe)}return T(W);case te:e:{for(ve=q.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){u(W,U.sibling),U=g(U,q.children||[]),U.return=W,W=U;break e}else{u(W,U);break}else o(W,U);U=U.sibling}U=kp(q,W.mode,oe),U.return=W,W=U}return T(W);case jt:return ve=q._init,ft(W,U,ve(q._payload),oe)}if(Ur(q))return de(W,U,q,oe);if(pe(q))return fe(W,U,q,oe);Dc(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,U!==null&&U.tag===6?(u(W,U.sibling),U=g(U,q),U.return=W,W=U):(u(W,U),U=Pp(q,W.mode,oe),U.return=W,W=U),T(W)):u(W,U)}return ft}var Jo=Qv(!0),Yv=Qv(!1),Lc=Ri(null),Vc=null,Zo=null,Uf=null;function Bf(){Uf=Zo=Vc=null}function zf(i){var o=Lc.current;et(Lc),i._currentValue=o}function $f(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function ea(i,o){Vc=i,Uf=Zo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(pn=!0),i.firstContext=null)}function Fn(i){var o=i._currentValue;if(Uf!==i)if(i={context:i,memoizedValue:o,next:null},Zo===null){if(Vc===null)throw Error(n(308));Zo=i,Vc.dependencies={lanes:0,firstContext:i}}else Zo=Zo.next=i;return o}var Os=null;function Hf(i){Os===null?Os=[i]:Os.push(i)}function Xv(i,o,u,f){var g=o.interleaved;return g===null?(u.next=u,Hf(o)):(u.next=g.next,g.next=u),o.interleaved=u,Zr(i,f)}function Zr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ni=!1;function Wf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ei(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Di(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ue&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,Zr(i,u)}return g=f.interleaved,g===null?(o.next=o,Hf(f)):(o.next=g.next,g.next=o),f.interleaved=o,Zr(i,u)}function Oc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ei(i,u)}}function Zv(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=T:_=_.next=T,u=u.next}while(u!==null);_===null?g=_=o:_=_.next=o}else g=_=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Mc(i,o,u,f){var g=i.updateQueue;Ni=!1;var _=g.firstBaseUpdate,T=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var j=N,G=j.next;j.next=null,T===null?_=G:T.next=G,T=j;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==T&&(N===null?ne.firstBaseUpdate=G:N.next=G,ne.lastBaseUpdate=j))}if(_!==null){var ie=g.baseState;T=0,ne=G=j=null,N=_;do{var ee=N.lane,ue=N.eventTime;if((f&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var de=i,fe=N;switch(ee=o,ue=u,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ie=de.call(ue,ie,ee);break e}ie=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,ee=typeof de=="function"?de.call(ue,ie,ee):de,ee==null)break e;ie=le({},ie,ee);break e;case 2:Ni=!0}}N.callback!==null&&N.lane!==0&&(i.flags|=64,ee=g.effects,ee===null?g.effects=[N]:ee.push(N))}else ue={eventTime:ue,lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(G=ne=ue,j=ie):ne=ne.next=ue,T|=ee;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;ee=N,N=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(ne===null&&(j=ie),g.baseState=j,g.firstBaseUpdate=G,g.lastBaseUpdate=ne,o=g.shared.interleaved,o!==null){g=o;do T|=g.lane,g=g.next;while(g!==o)}else _===null&&(g.shared.lanes=0);Fs|=T,i.lanes=T,i.memoizedState=ie}}function e0(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var kl={},Sr=Ri(kl),Nl=Ri(kl),Dl=Ri(kl);function Ms(i){if(i===kl)throw Error(n(174));return i}function qf(i,o){switch(Xe(Dl,o),Xe(Nl,i),Xe(Sr,kl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Tt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Tt(o,i)}et(Sr),Xe(Sr,o)}function ta(){et(Sr),et(Nl),et(Dl)}function t0(i){Ms(Dl.current);var o=Ms(Sr.current),u=Tt(o,i.type);o!==u&&(Xe(Nl,i),Xe(Sr,u))}function Kf(i){Nl.current===i&&(et(Sr),et(Nl))}var st=Ri(0);function jc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Gf=[];function Qf(){for(var i=0;i<Gf.length;i++)Gf[i]._workInProgressVersionPrimary=null;Gf.length=0}var Fc=K.ReactCurrentDispatcher,Yf=K.ReactCurrentBatchConfig,js=0,ot=null,It=null,Nt=null,Uc=!1,Ll=!1,Vl=0,_2=0;function Qt(){throw Error(n(321))}function Xf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!nr(i[u],o[u]))return!1;return!0}function Jf(i,o,u,f,g,_){if(js=_,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fc.current=i===null||i.memoizedState===null?S2:I2,i=u(f,g),Ll){_=0;do{if(Ll=!1,Vl=0,25<=_)throw Error(n(301));_+=1,Nt=It=null,o.updateQueue=null,Fc.current=b2,i=u(f,g)}while(Ll)}if(Fc.current=$c,o=It!==null&&It.next!==null,js=0,Nt=It=ot=null,Uc=!1,o)throw Error(n(300));return i}function Zf(){var i=Vl!==0;return Vl=0,i}function Ir(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ot.memoizedState=Nt=i:Nt=Nt.next=i,Nt}function Un(){if(It===null){var i=ot.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var o=Nt===null?ot.memoizedState:Nt.next;if(o!==null)Nt=o,It=i;else{if(i===null)throw Error(n(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Nt===null?ot.memoizedState=Nt=i:Nt=Nt.next=i}return Nt}function Ol(i,o){return typeof o=="function"?o(i):o}function ep(i){var o=Un(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=It,g=f.baseQueue,_=u.pending;if(_!==null){if(g!==null){var T=g.next;g.next=_.next,_.next=T}f.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,f=f.baseState;var N=T=null,j=null,G=_;do{var ne=G.lane;if((js&ne)===ne)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:i(f,G.action);else{var ie={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(N=j=ie,T=f):j=j.next=ie,ot.lanes|=ne,Fs|=ne}G=G.next}while(G!==null&&G!==_);j===null?T=f:j.next=N,nr(f,o.memoizedState)||(pn=!0),o.memoizedState=f,o.baseState=T,o.baseQueue=j,u.lastRenderedState=f}if(i=u.interleaved,i!==null){g=i;do _=g.lane,ot.lanes|=_,Fs|=_,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function tp(i){var o=Un(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,_=o.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do _=i(_,T.action),T=T.next;while(T!==g);nr(_,o.memoizedState)||(pn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function n0(){}function r0(i,o){var u=ot,f=Un(),g=o(),_=!nr(f.memoizedState,g);if(_&&(f.memoizedState=g,pn=!0),f=f.queue,np(o0.bind(null,u,f,i),[i]),f.getSnapshot!==o||_||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,Ml(9,s0.bind(null,u,f,g,o),void 0,null),Dt===null)throw Error(n(349));(js&30)!==0||i0(u,o,g)}return g}function i0(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function s0(i,o,u,f){o.value=u,o.getSnapshot=f,a0(o)&&l0(i)}function o0(i,o,u){return u(function(){a0(o)&&l0(i)})}function a0(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!nr(i,u)}catch{return!0}}function l0(i){var o=Zr(i,1);o!==null&&ar(o,i,1,-1)}function u0(i){var o=Ir();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:i},o.queue=i,i=i.dispatch=T2.bind(null,ot,i),[o.memoizedState,i]}function Ml(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function c0(){return Un().memoizedState}function Bc(i,o,u,f){var g=Ir();ot.flags|=i,g.memoizedState=Ml(1|o,u,void 0,f===void 0?null:f)}function zc(i,o,u,f){var g=Un();f=f===void 0?null:f;var _=void 0;if(It!==null){var T=It.memoizedState;if(_=T.destroy,f!==null&&Xf(f,T.deps)){g.memoizedState=Ml(o,u,_,f);return}}ot.flags|=i,g.memoizedState=Ml(1|o,u,_,f)}function h0(i,o){return Bc(8390656,8,i,o)}function np(i,o){return zc(2048,8,i,o)}function d0(i,o){return zc(4,2,i,o)}function f0(i,o){return zc(4,4,i,o)}function p0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function m0(i,o,u){return u=u!=null?u.concat([i]):null,zc(4,4,p0.bind(null,o,i),u)}function rp(){}function g0(i,o){var u=Un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Xf(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function y0(i,o){var u=Un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Xf(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function v0(i,o,u){return(js&21)===0?(i.baseState&&(i.baseState=!1,pn=!0),i.memoizedState=u):(nr(u,o)||(u=Cs(),ot.lanes|=u,Fs|=u,i.baseState=!0),o)}function x2(i,o){var u=Oe;Oe=u!==0&&4>u?u:4,i(!0);var f=Yf.transition;Yf.transition={};try{i(!1),o()}finally{Oe=u,Yf.transition=f}}function w0(){return Un().memoizedState}function E2(i,o,u){var f=Mi(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},_0(i))x0(o,u);else if(u=Xv(i,o,u,f),u!==null){var g=an();ar(u,i,f,g),E0(u,o,f)}}function T2(i,o,u){var f=Mi(i),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(_0(i))x0(o,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var T=o.lastRenderedState,N=_(T,u);if(g.hasEagerState=!0,g.eagerState=N,nr(N,T)){var j=o.interleaved;j===null?(g.next=g,Hf(o)):(g.next=j.next,j.next=g),o.interleaved=g;return}}catch{}finally{}u=Xv(i,o,g,f),u!==null&&(g=an(),ar(u,i,f,g),E0(u,o,f))}}function _0(i){var o=i.alternate;return i===ot||o!==null&&o===ot}function x0(i,o){Ll=Uc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function E0(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ei(i,u)}}var $c={readContext:Fn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},S2={readContext:Fn,useCallback:function(i,o){return Ir().memoizedState=[i,o===void 0?null:o],i},useContext:Fn,useEffect:h0,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Bc(4194308,4,p0.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Bc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Bc(4,2,i,o)},useMemo:function(i,o){var u=Ir();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Ir();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=E2.bind(null,ot,i),[f.memoizedState,i]},useRef:function(i){var o=Ir();return i={current:i},o.memoizedState=i},useState:u0,useDebugValue:rp,useDeferredValue:function(i){return Ir().memoizedState=i},useTransition:function(){var i=u0(!1),o=i[0];return i=x2.bind(null,i[1]),Ir().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=ot,g=Ir();if(rt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Dt===null)throw Error(n(349));(js&30)!==0||i0(f,o,u)}g.memoizedState=u;var _={value:u,getSnapshot:o};return g.queue=_,h0(o0.bind(null,f,_,i),[i]),f.flags|=2048,Ml(9,s0.bind(null,f,_,u,o),void 0,null),u},useId:function(){var i=Ir(),o=Dt.identifierPrefix;if(rt){var u=Jr,f=Xr;u=(f&~(1<<32-rn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Vl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=_2++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},I2={readContext:Fn,useCallback:g0,useContext:Fn,useEffect:np,useImperativeHandle:m0,useInsertionEffect:d0,useLayoutEffect:f0,useMemo:y0,useReducer:ep,useRef:c0,useState:function(){return ep(Ol)},useDebugValue:rp,useDeferredValue:function(i){var o=Un();return v0(o,It.memoizedState,i)},useTransition:function(){var i=ep(Ol)[0],o=Un().memoizedState;return[i,o]},useMutableSource:n0,useSyncExternalStore:r0,useId:w0,unstable_isNewReconciler:!1},b2={readContext:Fn,useCallback:g0,useContext:Fn,useEffect:np,useImperativeHandle:m0,useInsertionEffect:d0,useLayoutEffect:f0,useMemo:y0,useReducer:tp,useRef:c0,useState:function(){return tp(Ol)},useDebugValue:rp,useDeferredValue:function(i){var o=Un();return It===null?o.memoizedState=i:v0(o,It.memoizedState,i)},useTransition:function(){var i=tp(Ol)[0],o=Un().memoizedState;return[i,o]},useMutableSource:n0,useSyncExternalStore:r0,useId:w0,unstable_isNewReconciler:!1};function ir(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function ip(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:le({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Hc={isMounted:function(i){return(i=i._reactInternals)?Qn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=an(),g=Mi(i),_=ei(f,g);_.payload=o,u!=null&&(_.callback=u),o=Di(i,_,g),o!==null&&(ar(o,i,g,f),Oc(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=an(),g=Mi(i),_=ei(f,g);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Di(i,_,g),o!==null&&(ar(o,i,g,f),Oc(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=an(),f=Mi(i),g=ei(u,f);g.tag=2,o!=null&&(g.callback=o),o=Di(i,g,f),o!==null&&(ar(o,i,f,u),Oc(o,i,f))}};function T0(i,o,u,f,g,_,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,_,T):o.prototype&&o.prototype.isPureReactComponent?!Tl(u,f)||!Tl(g,_):!0}function S0(i,o,u){var f=!1,g=Pi,_=o.contextType;return typeof _=="object"&&_!==null?_=Fn(_):(g=fn(o)?Ds:Gt.current,f=o.contextTypes,_=(f=f!=null)?Go(i,g):Pi),o=new o(u,_),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Hc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=_),o}function I0(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Hc.enqueueReplaceState(o,o.state,null)}function sp(i,o,u,f){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Wf(i);var _=o.contextType;typeof _=="object"&&_!==null?g.context=Fn(_):(_=fn(o)?Ds:Gt.current,g.context=Go(i,_)),g.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(ip(i,o,_,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Hc.enqueueReplaceState(g,g.state,null),Mc(i,u,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function na(i,o){try{var u="",f=o;do u+=Ne(f),f=f.return;while(f);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:o,stack:g,digest:null}}function op(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function ap(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var C2=typeof WeakMap=="function"?WeakMap:Map;function b0(i,o,u){u=ei(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Xc||(Xc=!0,Ep=f),ap(i,o)},u}function C0(i,o,u){u=ei(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){ap(i,o)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){ap(i,o),typeof f!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function A0(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new C2;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),i=B2.bind(null,i,o,u),o.then(i,i))}function R0(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function P0(i,o,u,f,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ei(-1,1),o.tag=2,Di(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var A2=K.ReactCurrentOwner,pn=!1;function on(i,o,u,f){o.child=i===null?Yv(o,null,u,f):Jo(o,i.child,u,f)}function k0(i,o,u,f,g){u=u.render;var _=o.ref;return ea(o,g),f=Jf(i,o,u,f,_,g),u=Zf(),i!==null&&!pn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ti(i,o,g)):(rt&&u&&Vf(o),o.flags|=1,on(i,o,f,g),o.child)}function N0(i,o,u,f,g){if(i===null){var _=u.type;return typeof _=="function"&&!Rp(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,D0(i,o,_,f,g)):(i=rh(u.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,(i.lanes&g)===0){var T=_.memoizedProps;if(u=u.compare,u=u!==null?u:Tl,u(T,f)&&i.ref===o.ref)return ti(i,o,g)}return o.flags|=1,i=Fi(_,f),i.ref=o.ref,i.return=o,o.child=i}function D0(i,o,u,f,g){if(i!==null){var _=i.memoizedProps;if(Tl(_,f)&&i.ref===o.ref)if(pn=!1,o.pendingProps=f=_,(i.lanes&g)!==0)(i.flags&131072)!==0&&(pn=!0);else return o.lanes=i.lanes,ti(i,o,g)}return lp(i,o,u,f,g)}function L0(i,o,u){var f=o.pendingProps,g=f.children,_=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ia,Rn),Rn|=u;else{if((u&1073741824)===0)return i=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Xe(ia,Rn),Rn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,Xe(ia,Rn),Rn|=f}else _!==null?(f=_.baseLanes|u,o.memoizedState=null):f=u,Xe(ia,Rn),Rn|=f;return on(i,o,g,u),o.child}function V0(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function lp(i,o,u,f,g){var _=fn(u)?Ds:Gt.current;return _=Go(o,_),ea(o,g),u=Jf(i,o,u,f,_,g),f=Zf(),i!==null&&!pn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ti(i,o,g)):(rt&&f&&Vf(o),o.flags|=1,on(i,o,u,g),o.child)}function O0(i,o,u,f,g){if(fn(u)){var _=!0;Ac(o)}else _=!1;if(ea(o,g),o.stateNode===null)qc(i,o),S0(o,u,f),sp(o,u,f,g),f=!0;else if(i===null){var T=o.stateNode,N=o.memoizedProps;T.props=N;var j=T.context,G=u.contextType;typeof G=="object"&&G!==null?G=Fn(G):(G=fn(u)?Ds:Gt.current,G=Go(o,G));var ne=u.getDerivedStateFromProps,ie=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";ie||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==f||j!==G)&&I0(o,T,f,G),Ni=!1;var ee=o.memoizedState;T.state=ee,Mc(o,f,T,g),j=o.memoizedState,N!==f||ee!==j||dn.current||Ni?(typeof ne=="function"&&(ip(o,u,ne,f),j=o.memoizedState),(N=Ni||T0(o,u,N,f,ee,j,G))?(ie||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=j),T.props=f,T.state=j,T.context=G,f=N):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{T=o.stateNode,Jv(i,o),N=o.memoizedProps,G=o.type===o.elementType?N:ir(o.type,N),T.props=G,ie=o.pendingProps,ee=T.context,j=u.contextType,typeof j=="object"&&j!==null?j=Fn(j):(j=fn(u)?Ds:Gt.current,j=Go(o,j));var ue=u.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==ie||ee!==j)&&I0(o,T,f,j),Ni=!1,ee=o.memoizedState,T.state=ee,Mc(o,f,T,g);var de=o.memoizedState;N!==ie||ee!==de||dn.current||Ni?(typeof ue=="function"&&(ip(o,u,ue,f),de=o.memoizedState),(G=Ni||T0(o,u,G,f,ee,de,j)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,de,j),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,de,j)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=de),T.props=f,T.state=de,T.context=j,f=G):(typeof T.componentDidUpdate!="function"||N===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),f=!1)}return up(i,o,u,f,_,g)}function up(i,o,u,f,g,_){V0(i,o);var T=(o.flags&128)!==0;if(!f&&!T)return g&&Bv(o,u,!1),ti(i,o,_);f=o.stateNode,A2.current=o;var N=T&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&T?(o.child=Jo(o,i.child,null,_),o.child=Jo(o,null,N,_)):on(i,o,N,_),o.memoizedState=f.state,g&&Bv(o,u,!0),o.child}function M0(i){var o=i.stateNode;o.pendingContext?Fv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Fv(i,o.context,!1),qf(i,o.containerInfo)}function j0(i,o,u,f,g){return Xo(),Ff(g),o.flags|=256,on(i,o,u,f),o.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function hp(i){return{baseLanes:i,cachePool:null,transitions:null}}function F0(i,o,u){var f=o.pendingProps,g=st.current,_=!1,T=(o.flags&128)!==0,N;if((N=T)||(N=i!==null&&i.memoizedState===null?!1:(g&2)!==0),N?(_=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Xe(st,g&1),i===null)return jf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=f.children,i=f.fallback,_?(f=o.mode,_=o.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=ih(T,f,0,null),i=$s(i,f,u,null),_.return=o,i.return=o,_.sibling=i,o.child=_,o.child.memoizedState=hp(u),o.memoizedState=cp,i):dp(o,T));if(g=i.memoizedState,g!==null&&(N=g.dehydrated,N!==null))return R2(i,o,T,f,N,g,u);if(_){_=f.fallback,T=o.mode,g=i.child,N=g.sibling;var j={mode:"hidden",children:f.children};return(T&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=j,o.deletions=null):(f=Fi(g,j),f.subtreeFlags=g.subtreeFlags&14680064),N!==null?_=Fi(N,_):(_=$s(_,T,u,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,T=i.child.memoizedState,T=T===null?hp(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=i.childLanes&~u,o.memoizedState=cp,f}return _=i.child,i=_.sibling,f=Fi(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function dp(i,o){return o=ih({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Wc(i,o,u,f){return f!==null&&Ff(f),Jo(o,i.child,null,u),i=dp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function R2(i,o,u,f,g,_,T){if(u)return o.flags&256?(o.flags&=-257,f=op(Error(n(422))),Wc(i,o,T,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(_=f.fallback,g=o.mode,f=ih({mode:"visible",children:f.children},g,0,null),_=$s(_,g,T,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&Jo(o,i.child,null,T),o.child.memoizedState=hp(T),o.memoizedState=cp,_);if((o.mode&1)===0)return Wc(i,o,T,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var N=f.dgst;return f=N,_=Error(n(419)),f=op(_,f,void 0),Wc(i,o,T,f)}if(N=(T&i.childLanes)!==0,pn||N){if(f=Dt,f!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|T))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Zr(i,g),ar(f,i,g,-1))}return Ap(),f=op(Error(n(421))),Wc(i,o,T,f)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=z2.bind(null,i),g._reactRetry=o,null):(i=_.treeContext,An=Ai(g.nextSibling),Cn=o,rt=!0,rr=null,i!==null&&(Mn[jn++]=Xr,Mn[jn++]=Jr,Mn[jn++]=Ls,Xr=i.id,Jr=i.overflow,Ls=o),o=dp(o,f.children),o.flags|=4096,o)}function U0(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),$f(i.return,o,u)}function fp(i,o,u,f,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function B0(i,o,u){var f=o.pendingProps,g=f.revealOrder,_=f.tail;if(on(i,o,f.children,u),f=st.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&U0(i,u,o);else if(i.tag===19)U0(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Xe(st,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&jc(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),fp(o,!1,g,u,_);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&jc(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}fp(o,!0,u,null,_);break;case"together":fp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ti(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Fs|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Fi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Fi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function P2(i,o,u){switch(o.tag){case 3:M0(o),Xo();break;case 5:t0(o);break;case 1:fn(o.type)&&Ac(o);break;case 4:qf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;Xe(Lc,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Xe(st,st.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?F0(i,o,u):(Xe(st,st.current&1),i=ti(i,o,u),i!==null?i.sibling:null);Xe(st,st.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return B0(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Xe(st,st.current),f)break;return null;case 22:case 23:return o.lanes=0,L0(i,o,u)}return ti(i,o,u)}var z0,pp,$0,H0;z0=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},pp=function(){},$0=function(i,o,u,f){var g=i.memoizedProps;if(g!==f){i=o.stateNode,Ms(Sr.current);var _=null;switch(u){case"input":g=gs(i,g),f=gs(i,f),_=[];break;case"select":g=le({},g,{value:void 0}),f=le({},f,{value:void 0}),_=[];break;case"textarea":g=Ja(i,g),f=Ja(i,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Ic)}il(u,f);var T;u=null;for(G in g)if(!f.hasOwnProperty(G)&&g.hasOwnProperty(G)&&g[G]!=null)if(G==="style"){var N=g[G];for(T in N)N.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?_||(_=[]):(_=_||[]).push(G,null));for(G in f){var j=f[G];if(N=g!=null?g[G]:void 0,f.hasOwnProperty(G)&&j!==N&&(j!=null||N!=null))if(G==="style")if(N){for(T in N)!N.hasOwnProperty(T)||j&&j.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in j)j.hasOwnProperty(T)&&N[T]!==j[T]&&(u||(u={}),u[T]=j[T])}else u||(_||(_=[]),_.push(G,u)),u=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,N=N?N.__html:void 0,j!=null&&N!==j&&(_=_||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(_=_||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&Ze("scroll",i),_||N===j||(_=[])):(_=_||[]).push(G,j))}u&&(_=_||[]).push("style",u);var G=_;(o.updateQueue=G)&&(o.flags|=4)}},H0=function(i,o,u,f){u!==f&&(o.flags|=4)};function jl(i,o){if(!rt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Yt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function k2(i,o,u){var f=o.pendingProps;switch(Of(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(o),null;case 1:return fn(o.type)&&Cc(),Yt(o),null;case 3:return f=o.stateNode,ta(),et(dn),et(Gt),Qf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Nc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,rr!==null&&(Ip(rr),rr=null))),pp(i,o),Yt(o),null;case 5:Kf(o);var g=Ms(Dl.current);if(u=o.type,i!==null&&o.stateNode!=null)$0(i,o,u,f,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Yt(o),null}if(i=Ms(Sr.current),Nc(o)){f=o.stateNode,u=o.type;var _=o.memoizedProps;switch(f[Tr]=o,f[Al]=_,i=(o.mode&1)!==0,u){case"dialog":Ze("cancel",f),Ze("close",f);break;case"iframe":case"object":case"embed":Ze("load",f);break;case"video":case"audio":for(g=0;g<Il.length;g++)Ze(Il[g],f);break;case"source":Ze("error",f);break;case"img":case"image":case"link":Ze("error",f),Ze("load",f);break;case"details":Ze("toggle",f);break;case"input":go(f,_),Ze("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Ze("invalid",f);break;case"textarea":vo(f,_),Ze("invalid",f)}il(u,_),g=null;for(var T in _)if(_.hasOwnProperty(T)){var N=_[T];T==="children"?typeof N=="string"?f.textContent!==N&&(_.suppressHydrationWarning!==!0&&Sc(f.textContent,N,i),g=["children",N]):typeof N=="number"&&f.textContent!==""+N&&(_.suppressHydrationWarning!==!0&&Sc(f.textContent,N,i),g=["children",""+N]):s.hasOwnProperty(T)&&N!=null&&T==="onScroll"&&Ze("scroll",f)}switch(u){case"input":Fr(f),Yu(f,_,!0);break;case"textarea":Fr(f),Za(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=Ic)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Et(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=T.createElement(u,{is:f.is}):(i=T.createElement(u),u==="select"&&(T=i,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):i=T.createElementNS(i,u),i[Tr]=o,i[Al]=f,z0(i,o,!1,!1),o.stateNode=i;e:{switch(T=sl(u,f),u){case"dialog":Ze("cancel",i),Ze("close",i),g=f;break;case"iframe":case"object":case"embed":Ze("load",i),g=f;break;case"video":case"audio":for(g=0;g<Il.length;g++)Ze(Il[g],i);g=f;break;case"source":Ze("error",i),g=f;break;case"img":case"image":case"link":Ze("error",i),Ze("load",i),g=f;break;case"details":Ze("toggle",i),g=f;break;case"input":go(i,f),g=gs(i,f),Ze("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=le({},f,{value:void 0}),Ze("invalid",i);break;case"textarea":vo(i,f),g=Ja(i,f),Ze("invalid",i);break;default:g=f}il(u,g),N=g;for(_ in N)if(N.hasOwnProperty(_)){var j=N[_];_==="style"?nl(i,j):_==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&el(i,j)):_==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&yi(i,j):typeof j=="number"&&yi(i,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?j!=null&&_==="onScroll"&&Ze("scroll",i):j!=null&&V(i,_,j,T))}switch(u){case"input":Fr(i),Yu(i,f,!1);break;case"textarea":Fr(i),Za(i);break;case"option":f.value!=null&&i.setAttribute("value",""+$e(f.value));break;case"select":i.multiple=!!f.multiple,_=f.value,_!=null?Br(i,!!f.multiple,_,!1):f.defaultValue!=null&&Br(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Ic)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Yt(o),null;case 6:if(i&&o.stateNode!=null)H0(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=Ms(Dl.current),Ms(Sr.current),Nc(o)){if(f=o.stateNode,u=o.memoizedProps,f[Tr]=o,(_=f.nodeValue!==u)&&(i=Cn,i!==null))switch(i.tag){case 3:Sc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Sc(f.nodeValue,u,(i.mode&1)!==0)}_&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Tr]=o,o.stateNode=f}return Yt(o),null;case 13:if(et(st),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(rt&&An!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Kv(),Xo(),o.flags|=98560,_=!1;else if(_=Nc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Tr]=o}else Xo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),_=!1}else rr!==null&&(Ip(rr),rr=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(st.current&1)!==0?bt===0&&(bt=3):Ap())),o.updateQueue!==null&&(o.flags|=4),Yt(o),null);case 4:return ta(),pp(i,o),i===null&&bl(o.stateNode.containerInfo),Yt(o),null;case 10:return zf(o.type._context),Yt(o),null;case 17:return fn(o.type)&&Cc(),Yt(o),null;case 19:if(et(st),_=o.memoizedState,_===null)return Yt(o),null;if(f=(o.flags&128)!==0,T=_.rendering,T===null)if(f)jl(_,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=jc(i),T!==null){for(o.flags|=128,jl(_,!1),f=T.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)_=u,i=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,i=T.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Xe(st,st.current&1|2),o.child}i=i.sibling}_.tail!==null&&Ye()>sa&&(o.flags|=128,f=!0,jl(_,!1),o.lanes=4194304)}else{if(!f)if(i=jc(T),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),jl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!rt)return Yt(o),null}else 2*Ye()-_.renderingStartTime>sa&&u!==1073741824&&(o.flags|=128,f=!0,jl(_,!1),o.lanes=4194304);_.isBackwards?(T.sibling=o.child,o.child=T):(u=_.last,u!==null?u.sibling=T:o.child=T,_.last=T)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Ye(),o.sibling=null,u=st.current,Xe(st,f?u&1|2:u&1),o):(Yt(o),null);case 22:case 23:return Cp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Rn&1073741824)!==0&&(Yt(o),o.subtreeFlags&6&&(o.flags|=8192)):Yt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function N2(i,o){switch(Of(o),o.tag){case 1:return fn(o.type)&&Cc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ta(),et(dn),et(Gt),Qf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Kf(o),null;case 13:if(et(st),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Xo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return et(st),null;case 4:return ta(),null;case 10:return zf(o.type._context),null;case 22:case 23:return Cp(),null;case 24:return null;default:return null}}var Kc=!1,Xt=!1,D2=typeof WeakSet=="function"?WeakSet:Set,he=null;function ra(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){ct(i,o,f)}else u.current=null}function mp(i,o,u){try{u()}catch(f){ct(i,o,f)}}var W0=!1;function L2(i,o){if(Cf=Ii,i=Tv(),wf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var T=0,N=-1,j=-1,G=0,ne=0,ie=i,ee=null;t:for(;;){for(var ue;ie!==u||g!==0&&ie.nodeType!==3||(N=T+g),ie!==_||f!==0&&ie.nodeType!==3||(j=T+f),ie.nodeType===3&&(T+=ie.nodeValue.length),(ue=ie.firstChild)!==null;)ee=ie,ie=ue;for(;;){if(ie===i)break t;if(ee===u&&++G===g&&(N=T),ee===_&&++ne===f&&(j=T),(ue=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=ue}u=N===-1||j===-1?null:{start:N,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Af={focusedElem:i,selectionRange:u},Ii=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,ft=de.memoizedState,W=o.stateNode,U=W.getSnapshotBeforeUpdate(o.elementType===o.type?fe:ir(o.type,fe),ft);W.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){ct(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return de=W0,W0=!1,de}function Fl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var _=g.destroy;g.destroy=void 0,_!==void 0&&mp(o,u,_)}g=g.next}while(g!==f)}}function Gc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function gp(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function q0(i){var o=i.alternate;o!==null&&(i.alternate=null,q0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Tr],delete o[Al],delete o[Nf],delete o[g2],delete o[y2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function K0(i){return i.tag===5||i.tag===3||i.tag===4}function G0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||K0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yp(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ic));else if(f!==4&&(i=i.child,i!==null))for(yp(i,o,u),i=i.sibling;i!==null;)yp(i,o,u),i=i.sibling}function vp(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(vp(i,o,u),i=i.sibling;i!==null;)vp(i,o,u),i=i.sibling}var Bt=null,sr=!1;function Li(i,o,u){for(u=u.child;u!==null;)Q0(i,o,u),u=u.sibling}function Q0(i,o,u){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Is,u)}catch{}switch(u.tag){case 5:Xt||ra(u,o);case 6:var f=Bt,g=sr;Bt=null,Li(i,o,u),Bt=f,sr=g,Bt!==null&&(sr?(i=Bt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Bt.removeChild(u.stateNode));break;case 18:Bt!==null&&(sr?(i=Bt,u=u.stateNode,i.nodeType===8?kf(i.parentNode,u):i.nodeType===1&&kf(i,u),er(i)):kf(Bt,u.stateNode));break;case 4:f=Bt,g=sr,Bt=u.stateNode.containerInfo,sr=!0,Li(i,o,u),Bt=f,sr=g;break;case 0:case 11:case 14:case 15:if(!Xt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&mp(u,o,T),g=g.next}while(g!==f)}Li(i,o,u);break;case 1:if(!Xt&&(ra(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(N){ct(u,o,N)}Li(i,o,u);break;case 21:Li(i,o,u);break;case 22:u.mode&1?(Xt=(f=Xt)||u.memoizedState!==null,Li(i,o,u),Xt=f):Li(i,o,u);break;default:Li(i,o,u)}}function Y0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new D2),o.forEach(function(f){var g=$2.bind(null,i,f);u.has(f)||(u.add(f),f.then(g,g))})}}function or(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var _=i,T=o,N=T;e:for(;N!==null;){switch(N.tag){case 5:Bt=N.stateNode,sr=!1;break e;case 3:Bt=N.stateNode.containerInfo,sr=!0;break e;case 4:Bt=N.stateNode.containerInfo,sr=!0;break e}N=N.return}if(Bt===null)throw Error(n(160));Q0(_,T,g),Bt=null,sr=!1;var j=g.alternate;j!==null&&(j.return=null),g.return=null}catch(G){ct(g,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)X0(o,i),o=o.sibling}function X0(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(or(o,i),br(i),f&4){try{Fl(3,i,i.return),Gc(3,i)}catch(fe){ct(i,i.return,fe)}try{Fl(5,i,i.return)}catch(fe){ct(i,i.return,fe)}}break;case 1:or(o,i),br(i),f&512&&u!==null&&ra(u,u.return);break;case 5:if(or(o,i),br(i),f&512&&u!==null&&ra(u,u.return),i.flags&32){var g=i.stateNode;try{yi(g,"")}catch(fe){ct(i,i.return,fe)}}if(f&4&&(g=i.stateNode,g!=null)){var _=i.memoizedProps,T=u!==null?u.memoizedProps:_,N=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{N==="input"&&_.type==="radio"&&_.name!=null&&Ya(g,_),sl(N,T);var G=sl(N,_);for(T=0;T<j.length;T+=2){var ne=j[T],ie=j[T+1];ne==="style"?nl(g,ie):ne==="dangerouslySetInnerHTML"?el(g,ie):ne==="children"?yi(g,ie):V(g,ne,ie,G)}switch(N){case"input":Xa(g,_);break;case"textarea":wo(g,_);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ue=_.value;ue!=null?Br(g,!!_.multiple,ue,!1):ee!==!!_.multiple&&(_.defaultValue!=null?Br(g,!!_.multiple,_.defaultValue,!0):Br(g,!!_.multiple,_.multiple?[]:"",!1))}g[Al]=_}catch(fe){ct(i,i.return,fe)}}break;case 6:if(or(o,i),br(i),f&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,_=i.memoizedProps;try{g.nodeValue=_}catch(fe){ct(i,i.return,fe)}}break;case 3:if(or(o,i),br(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{er(o.containerInfo)}catch(fe){ct(i,i.return,fe)}break;case 4:or(o,i),br(i);break;case 13:or(o,i),br(i),g=i.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(xp=Ye())),f&4&&Y0(i);break;case 22:if(ne=u!==null&&u.memoizedState!==null,i.mode&1?(Xt=(G=Xt)||ne,or(o,i),Xt=G):or(o,i),br(i),f&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!ne&&(i.mode&1)!==0)for(he=i,ne=i.child;ne!==null;){for(ie=he=ne;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:Fl(4,ee,ee.return);break;case 1:ra(ee,ee.return);var de=ee.stateNode;if(typeof de.componentWillUnmount=="function"){f=ee,u=ee.return;try{o=f,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(fe){ct(f,u,fe)}}break;case 5:ra(ee,ee.return);break;case 22:if(ee.memoizedState!==null){ew(ie);continue}}ue!==null?(ue.return=ee,he=ue):ew(ie)}ne=ne.sibling}e:for(ne=null,ie=i;;){if(ie.tag===5){if(ne===null){ne=ie;try{g=ie.stateNode,G?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(N=ie.stateNode,j=ie.memoizedProps.style,T=j!=null&&j.hasOwnProperty("display")?j.display:null,N.style.display=tl("display",T))}catch(fe){ct(i,i.return,fe)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(fe){ct(i,i.return,fe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:or(o,i),br(i),f&4&&Y0(i);break;case 21:break;default:or(o,i),br(i)}}function br(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(K0(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(yi(g,""),f.flags&=-33);var _=G0(i);vp(i,_,g);break;case 3:case 4:var T=f.stateNode.containerInfo,N=G0(i);yp(i,N,T);break;default:throw Error(n(161))}}catch(j){ct(i,i.return,j)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function V2(i,o,u){he=i,J0(i)}function J0(i,o,u){for(var f=(i.mode&1)!==0;he!==null;){var g=he,_=g.child;if(g.tag===22&&f){var T=g.memoizedState!==null||Kc;if(!T){var N=g.alternate,j=N!==null&&N.memoizedState!==null||Xt;N=Kc;var G=Xt;if(Kc=T,(Xt=j)&&!G)for(he=g;he!==null;)T=he,j=T.child,T.tag===22&&T.memoizedState!==null?tw(g):j!==null?(j.return=T,he=j):tw(g);for(;_!==null;)he=_,J0(_),_=_.sibling;he=g,Kc=N,Xt=G}Z0(i)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,he=_):Z0(i)}}function Z0(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Xt||Gc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Xt)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:ir(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&e0(o,_,f);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}e0(o,T,u)}break;case 5:var N=o.stateNode;if(u===null&&o.flags&4){u=N;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&er(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xt||o.flags&512&&gp(o)}catch(ee){ct(o,o.return,ee)}}if(o===i){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function ew(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function tw(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Gc(4,o)}catch(j){ct(o,u,j)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(j){ct(o,g,j)}}var _=o.return;try{gp(o)}catch(j){ct(o,_,j)}break;case 5:var T=o.return;try{gp(o)}catch(j){ct(o,T,j)}}}catch(j){ct(o,o.return,j)}if(o===i){he=null;break}var N=o.sibling;if(N!==null){N.return=o.return,he=N;break}he=o.return}}var O2=Math.ceil,Qc=K.ReactCurrentDispatcher,wp=K.ReactCurrentOwner,Bn=K.ReactCurrentBatchConfig,Ue=0,Dt=null,vt=null,zt=0,Rn=0,ia=Ri(0),bt=0,Ul=null,Fs=0,Yc=0,_p=0,Bl=null,mn=null,xp=0,sa=1/0,ni=null,Xc=!1,Ep=null,Vi=null,Jc=!1,Oi=null,Zc=0,zl=0,Tp=null,eh=-1,th=0;function an(){return(Ue&6)!==0?Ye():eh!==-1?eh:eh=Ye()}function Mi(i){return(i.mode&1)===0?1:(Ue&2)!==0&&zt!==0?zt&-zt:w2.transition!==null?(th===0&&(th=Cs()),th):(i=Oe,i!==0||(i=window.event,i=i===void 0?16:gl(i.type)),i)}function ar(i,o,u,f){if(50<zl)throw zl=0,Tp=null,Error(n(185));xi(i,u,f),((Ue&2)===0||i!==Dt)&&(i===Dt&&((Ue&2)===0&&(Yc|=u),bt===4&&ji(i,zt)),gn(i,f),u===1&&Ue===0&&(o.mode&1)===0&&(sa=Ye()+500,Rc&&ki()))}function gn(i,o){var u=i.callbackNode;Hr(i,o);var f=bs(i,i===Dt?zt:0);if(f===0)u!==null&&hl(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&hl(u),o===1)i.tag===0?v2(rw.bind(null,i)):zv(rw.bind(null,i)),p2(function(){(Ue&6)===0&&ki()}),u=null;else{switch(Ti(f)){case 1:u=Ss;break;case 4:u=vi;break;case 16:u=Ln;break;case 536870912:u=tc;break;default:u=Ln}u=hw(u,nw.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function nw(i,o){if(eh=-1,th=0,(Ue&6)!==0)throw Error(n(327));var u=i.callbackNode;if(oa()&&i.callbackNode!==u)return null;var f=bs(i,i===Dt?zt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=nh(i,f);else{o=f;var g=Ue;Ue|=2;var _=sw();(Dt!==i||zt!==o)&&(ni=null,sa=Ye()+500,Bs(i,o));do try{F2();break}catch(N){iw(i,N)}while(!0);Bf(),Qc.current=_,Ue=g,vt!==null?o=0:(Dt=null,zt=0,o=bt)}if(o!==0){if(o===2&&(g=Sn(i),g!==0&&(f=g,o=Sp(i,g))),o===1)throw u=Ul,Bs(i,0),ji(i,f),gn(i,Ye()),u;if(o===6)ji(i,f);else{if(g=i.current.alternate,(f&30)===0&&!M2(g)&&(o=nh(i,f),o===2&&(_=Sn(i),_!==0&&(f=_,o=Sp(i,_))),o===1))throw u=Ul,Bs(i,0),ji(i,f),gn(i,Ye()),u;switch(i.finishedWork=g,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:zs(i,mn,ni);break;case 3:if(ji(i,f),(f&130023424)===f&&(o=xp+500-Ye(),10<o)){if(bs(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){an(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Pf(zs.bind(null,i,mn,ni),o);break}zs(i,mn,ni);break;case 4:if(ji(i,f),(f&4194240)===f)break;for(o=i.eventTimes,g=-1;0<f;){var T=31-rn(f);_=1<<T,T=o[T],T>g&&(g=T),f&=~_}if(f=g,f=Ye()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*O2(f/1960))-f,10<f){i.timeoutHandle=Pf(zs.bind(null,i,mn,ni),f);break}zs(i,mn,ni);break;case 5:zs(i,mn,ni);break;default:throw Error(n(329))}}}return gn(i,Ye()),i.callbackNode===u?nw.bind(null,i):null}function Sp(i,o){var u=Bl;return i.current.memoizedState.isDehydrated&&(Bs(i,o).flags|=256),i=nh(i,o),i!==2&&(o=mn,mn=u,o!==null&&Ip(o)),i}function Ip(i){mn===null?mn=i:mn.push.apply(mn,i)}function M2(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!nr(_(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ji(i,o){for(o&=~_p,o&=~Yc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-rn(o),f=1<<u;i[u]=-1,o&=~f}}function rw(i){if((Ue&6)!==0)throw Error(n(327));oa();var o=bs(i,0);if((o&1)===0)return gn(i,Ye()),null;var u=nh(i,o);if(i.tag!==0&&u===2){var f=Sn(i);f!==0&&(o=f,u=Sp(i,f))}if(u===1)throw u=Ul,Bs(i,0),ji(i,o),gn(i,Ye()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,zs(i,mn,ni),gn(i,Ye()),null}function bp(i,o){var u=Ue;Ue|=1;try{return i(o)}finally{Ue=u,Ue===0&&(sa=Ye()+500,Rc&&ki())}}function Us(i){Oi!==null&&Oi.tag===0&&(Ue&6)===0&&oa();var o=Ue;Ue|=1;var u=Bn.transition,f=Oe;try{if(Bn.transition=null,Oe=1,i)return i()}finally{Oe=f,Bn.transition=u,Ue=o,(Ue&6)===0&&ki()}}function Cp(){Rn=ia.current,et(ia)}function Bs(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,f2(u)),vt!==null)for(u=vt.return;u!==null;){var f=u;switch(Of(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Cc();break;case 3:ta(),et(dn),et(Gt),Qf();break;case 5:Kf(f);break;case 4:ta();break;case 13:et(st);break;case 19:et(st);break;case 10:zf(f.type._context);break;case 22:case 23:Cp()}u=u.return}if(Dt=i,vt=i=Fi(i.current,null),zt=Rn=o,bt=0,Ul=null,_p=Yc=Fs=0,mn=Bl=null,Os!==null){for(o=0;o<Os.length;o++)if(u=Os[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,_=u.pending;if(_!==null){var T=_.next;_.next=g,f.next=T}u.pending=f}Os=null}return i}function iw(i,o){do{var u=vt;try{if(Bf(),Fc.current=$c,Uc){for(var f=ot.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Uc=!1}if(js=0,Nt=It=ot=null,Ll=!1,Vl=0,wp.current=null,u===null||u.return===null){bt=1,Ul=o,vt=null;break}e:{var _=i,T=u.return,N=u,j=o;if(o=zt,N.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,ne=N,ie=ne.tag;if((ne.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=R0(T);if(ue!==null){ue.flags&=-257,P0(ue,T,N,_,o),ue.mode&1&&A0(_,G,o),o=ue,j=G;var de=o.updateQueue;if(de===null){var fe=new Set;fe.add(j),o.updateQueue=fe}else de.add(j);break e}else{if((o&1)===0){A0(_,G,o),Ap();break e}j=Error(n(426))}}else if(rt&&N.mode&1){var ft=R0(T);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),P0(ft,T,N,_,o),Ff(na(j,N));break e}}_=j=na(j,N),bt!==4&&(bt=2),Bl===null?Bl=[_]:Bl.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var W=b0(_,j,o);Zv(_,W);break e;case 1:N=j;var U=_.type,q=_.stateNode;if((_.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Vi===null||!Vi.has(q)))){_.flags|=65536,o&=-o,_.lanes|=o;var oe=C0(_,N,o);Zv(_,oe);break e}}_=_.return}while(_!==null)}aw(u)}catch(me){o=me,vt===u&&u!==null&&(vt=u=u.return);continue}break}while(!0)}function sw(){var i=Qc.current;return Qc.current=$c,i===null?$c:i}function Ap(){(bt===0||bt===3||bt===2)&&(bt=4),Dt===null||(Fs&268435455)===0&&(Yc&268435455)===0||ji(Dt,zt)}function nh(i,o){var u=Ue;Ue|=2;var f=sw();(Dt!==i||zt!==o)&&(ni=null,Bs(i,o));do try{j2();break}catch(g){iw(i,g)}while(!0);if(Bf(),Ue=u,Qc.current=f,vt!==null)throw Error(n(261));return Dt=null,zt=0,bt}function j2(){for(;vt!==null;)ow(vt)}function F2(){for(;vt!==null&&!Zu();)ow(vt)}function ow(i){var o=cw(i.alternate,i,Rn);i.memoizedProps=i.pendingProps,o===null?aw(i):vt=o,wp.current=null}function aw(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=k2(u,o,Rn),u!==null){vt=u;return}}else{if(u=N2(u,o),u!==null){u.flags&=32767,vt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{bt=6,vt=null;return}}if(o=o.sibling,o!==null){vt=o;return}vt=o=i}while(o!==null);bt===0&&(bt=5)}function zs(i,o,u){var f=Oe,g=Bn.transition;try{Bn.transition=null,Oe=1,U2(i,o,u,f)}finally{Bn.transition=g,Oe=f}return null}function U2(i,o,u,f){do oa();while(Oi!==null);if((Ue&6)!==0)throw Error(n(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var _=u.lanes|u.childLanes;if(Ge(i,_),i===Dt&&(vt=Dt=null,zt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Jc||(Jc=!0,hw(Ln,function(){return oa(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Bn.transition,Bn.transition=null;var T=Oe;Oe=1;var N=Ue;Ue|=4,wp.current=null,L2(i,u),X0(u,i),o2(Af),Ii=!!Cf,Af=Cf=null,i.current=u,V2(u),hf(),Ue=N,Oe=T,Bn.transition=_}else i.current=u;if(Jc&&(Jc=!1,Oi=i,Zc=g),_=i.pendingLanes,_===0&&(Vi=null),nc(u.stateNode),gn(i,Ye()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Xc)throw Xc=!1,i=Ep,Ep=null,i;return(Zc&1)!==0&&i.tag!==0&&oa(),_=i.pendingLanes,(_&1)!==0?i===Tp?zl++:(zl=0,Tp=i):zl=0,ki(),null}function oa(){if(Oi!==null){var i=Ti(Zc),o=Bn.transition,u=Oe;try{if(Bn.transition=null,Oe=16>i?16:i,Oi===null)var f=!1;else{if(i=Oi,Oi=null,Zc=0,(Ue&6)!==0)throw Error(n(331));var g=Ue;for(Ue|=4,he=i.current;he!==null;){var _=he,T=_.child;if((he.flags&16)!==0){var N=_.deletions;if(N!==null){for(var j=0;j<N.length;j++){var G=N[j];for(he=G;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:Fl(8,ne,_)}var ie=ne.child;if(ie!==null)ie.return=ne,he=ie;else for(;he!==null;){ne=he;var ee=ne.sibling,ue=ne.return;if(q0(ne),ne===G){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var de=_.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var ft=fe.sibling;fe.sibling=null,fe=ft}while(fe!==null)}}he=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,he=T;else e:for(;he!==null;){if(_=he,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Fl(9,_,_.return)}var W=_.sibling;if(W!==null){W.return=_.return,he=W;break e}he=_.return}}var U=i.current;for(he=U;he!==null;){T=he;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,he=q;else e:for(T=U;he!==null;){if(N=he,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Gc(9,N)}}catch(me){ct(N,N.return,me)}if(N===T){he=null;break e}var oe=N.sibling;if(oe!==null){oe.return=N.return,he=oe;break e}he=N.return}}if(Ue=g,ki(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Is,i)}catch{}f=!0}return f}finally{Oe=u,Bn.transition=o}}return!1}function lw(i,o,u){o=na(u,o),o=b0(i,o,1),i=Di(i,o,1),o=an(),i!==null&&(xi(i,1,o),gn(i,o))}function ct(i,o,u){if(i.tag===3)lw(i,i,u);else for(;o!==null;){if(o.tag===3){lw(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Vi===null||!Vi.has(f))){i=na(u,i),i=C0(o,i,1),o=Di(o,i,1),i=an(),o!==null&&(xi(o,1,i),gn(o,i));break}}o=o.return}}function B2(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=an(),i.pingedLanes|=i.suspendedLanes&u,Dt===i&&(zt&u)===u&&(bt===4||bt===3&&(zt&130023424)===zt&&500>Ye()-xp?Bs(i,0):_p|=u),gn(i,o)}function uw(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ro,Ro<<=1,(Ro&130023424)===0&&(Ro=4194304)));var u=an();i=Zr(i,o),i!==null&&(xi(i,o,u),gn(i,u))}function z2(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),uw(i,u)}function $2(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),uw(i,u)}var cw;cw=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||dn.current)pn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return pn=!1,P2(i,o,u);pn=(i.flags&131072)!==0}else pn=!1,rt&&(o.flags&1048576)!==0&&$v(o,kc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;qc(i,o),i=o.pendingProps;var g=Go(o,Gt.current);ea(o,u),g=Jf(null,o,f,i,g,u);var _=Zf();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,fn(f)?(_=!0,Ac(o)):_=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Wf(o),g.updater=Hc,o.stateNode=g,g._reactInternals=o,sp(o,f,i,u),o=up(null,o,f,!0,_,u)):(o.tag=0,rt&&_&&Vf(o),on(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(qc(i,o),i=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=W2(f),i=ir(f,i),g){case 0:o=lp(null,o,f,i,u);break e;case 1:o=O0(null,o,f,i,u);break e;case 11:o=k0(null,o,f,i,u);break e;case 14:o=N0(null,o,f,ir(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:ir(f,g),lp(i,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:ir(f,g),O0(i,o,f,g,u);case 3:e:{if(M0(o),i===null)throw Error(n(387));f=o.pendingProps,_=o.memoizedState,g=_.element,Jv(i,o),Mc(o,f,null,u);var T=o.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){g=na(Error(n(423)),o),o=j0(i,o,f,u,g);break e}else if(f!==g){g=na(Error(n(424)),o),o=j0(i,o,f,u,g);break e}else for(An=Ai(o.stateNode.containerInfo.firstChild),Cn=o,rt=!0,rr=null,u=Yv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xo(),f===g){o=ti(i,o,u);break e}on(i,o,f,u)}o=o.child}return o;case 5:return t0(o),i===null&&jf(o),f=o.type,g=o.pendingProps,_=i!==null?i.memoizedProps:null,T=g.children,Rf(f,g)?T=null:_!==null&&Rf(f,_)&&(o.flags|=32),V0(i,o),on(i,o,T,u),o.child;case 6:return i===null&&jf(o),null;case 13:return F0(i,o,u);case 4:return qf(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Jo(o,null,f,u):on(i,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:ir(f,g),k0(i,o,f,g,u);case 7:return on(i,o,o.pendingProps,u),o.child;case 8:return on(i,o,o.pendingProps.children,u),o.child;case 12:return on(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,_=o.memoizedProps,T=g.value,Xe(Lc,f._currentValue),f._currentValue=T,_!==null)if(nr(_.value,T)){if(_.children===g.children&&!dn.current){o=ti(i,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var N=_.dependencies;if(N!==null){T=_.child;for(var j=N.firstContext;j!==null;){if(j.context===f){if(_.tag===1){j=ei(-1,u&-u),j.tag=2;var G=_.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?j.next=j:(j.next=ne.next,ne.next=j),G.pending=j}}_.lanes|=u,j=_.alternate,j!==null&&(j.lanes|=u),$f(_.return,u,o),N.lanes|=u;break}j=j.next}}else if(_.tag===10)T=_.type===o.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(n(341));T.lanes|=u,N=T.alternate,N!==null&&(N.lanes|=u),$f(T,u,o),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===o){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}on(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,ea(o,u),g=Fn(g),f=f(g),o.flags|=1,on(i,o,f,u),o.child;case 14:return f=o.type,g=ir(f,o.pendingProps),g=ir(f.type,g),N0(i,o,f,g,u);case 15:return D0(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:ir(f,g),qc(i,o),o.tag=1,fn(f)?(i=!0,Ac(o)):i=!1,ea(o,u),S0(o,f,g),sp(o,f,g,u),up(null,o,f,!0,i,u);case 19:return B0(i,o,u);case 22:return L0(i,o,u)}throw Error(n(156,o.tag))};function hw(i,o){return Co(i,o)}function H2(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,o,u,f){return new H2(i,o,u,f)}function Rp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function W2(i){if(typeof i=="function")return Rp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===xt)return 14}return 2}function Fi(i,o){var u=i.alternate;return u===null?(u=zn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function rh(i,o,u,f,g,_){var T=2;if(f=i,typeof i=="function")Rp(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case D:return $s(u.children,g,_,o);case C:T=8,g|=8;break;case k:return i=zn(12,u,o,g|2),i.elementType=k,i.lanes=_,i;case O:return i=zn(13,u,o,g),i.elementType=O,i.lanes=_,i;case tt:return i=zn(19,u,o,g),i.elementType=tt,i.lanes=_,i;case be:return ih(u,g,_,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:T=10;break e;case F:T=9;break e;case z:T=11;break e;case xt:T=14;break e;case jt:T=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=zn(T,u,o,g),o.elementType=i,o.type=f,o.lanes=_,o}function $s(i,o,u,f){return i=zn(7,i,f,o),i.lanes=u,i}function ih(i,o,u,f){return i=zn(22,i,f,o),i.elementType=be,i.lanes=u,i.stateNode={isHidden:!1},i}function Pp(i,o,u){return i=zn(6,i,null,o),i.lanes=u,i}function kp(i,o,u){return o=zn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function q2(i,o,u,f,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_i(0),this.expirationTimes=_i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Np(i,o,u,f,g,_,T,N,j){return i=new q2(i,o,u,N,j),o===1?(o=1,_===!0&&(o|=8)):o=0,_=zn(3,null,null,o),i.current=_,_.stateNode=i,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(_),i}function K2(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function dw(i){if(!i)return Pi;i=i._reactInternals;e:{if(Qn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(fn(u))return Uv(i,u,o)}return o}function fw(i,o,u,f,g,_,T,N,j){return i=Np(u,f,!0,i,g,_,T,N,j),i.context=dw(null),u=i.current,f=an(),g=Mi(u),_=ei(f,g),_.callback=o??null,Di(u,_,g),i.current.lanes=g,xi(i,g,f),gn(i,f),i}function sh(i,o,u,f){var g=o.current,_=an(),T=Mi(g);return u=dw(u),o.context===null?o.context=u:o.pendingContext=u,o=ei(_,T),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Di(g,o,T),i!==null&&(ar(i,g,T,_),Oc(i,g,T)),T}function oh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function pw(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Dp(i,o){pw(i,o),(i=i.alternate)&&pw(i,o)}function G2(){return null}var mw=typeof reportError=="function"?reportError:function(i){console.error(i)};function Lp(i){this._internalRoot=i}ah.prototype.render=Lp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));sh(i,o,null,null)},ah.prototype.unmount=Lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Us(function(){sh(null,i,null,null)}),o[Qr]=null}};function ah(i){this._internalRoot=i}ah.prototype.unstable_scheduleHydration=function(i){if(i){var o=ac();i={blockedOn:null,target:i,priority:o};for(var u=0;u<wr.length&&o!==0&&o<wr[u].priority;u++);wr.splice(u,0,i),u===0&&cc(i)}};function Vp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function lh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function gw(){}function Q2(i,o,u,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var G=oh(T);_.call(G)}}var T=fw(o,f,i,0,null,!1,!1,"",gw);return i._reactRootContainer=T,i[Qr]=T.current,bl(i.nodeType===8?i.parentNode:i),Us(),T}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var N=f;f=function(){var G=oh(j);N.call(G)}}var j=Np(i,0,!1,null,null,!1,!1,"",gw);return i._reactRootContainer=j,i[Qr]=j.current,bl(i.nodeType===8?i.parentNode:i),Us(function(){sh(o,j,u,f)}),j}function uh(i,o,u,f,g){var _=u._reactRootContainer;if(_){var T=_;if(typeof g=="function"){var N=g;g=function(){var j=oh(T);N.call(j)}}sh(o,T,i,g)}else T=Q2(u,o,i,g,f);return oh(T)}sc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=wi(o.pendingLanes);u!==0&&(Ei(o,u|1),gn(o,Ye()),(Ue&6)===0&&(sa=Ye()+500,ki()))}break;case 13:Us(function(){var f=Zr(i,1);if(f!==null){var g=an();ar(f,i,1,g)}}),Dp(i,1)}},Po=function(i){if(i.tag===13){var o=Zr(i,134217728);if(o!==null){var u=an();ar(o,i,134217728,u)}Dp(i,134217728)}},oc=function(i){if(i.tag===13){var o=Mi(i),u=Zr(i,o);if(u!==null){var f=an();ar(u,i,o,f)}Dp(i,o)}},ac=function(){return Oe},lc=function(i,o){var u=Oe;try{return Oe=i,o()}finally{Oe=u}},xo=function(i,o,u){switch(o){case"input":if(Xa(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var g=bc(f);if(!g)throw Error(n(90));mo(f),Xa(f,g)}}}break;case"textarea":wo(i,u);break;case"select":o=u.value,o!=null&&Br(i,!!u.multiple,o,!1)}},_s=bp,al=Us;var Y2={usingClientEntryPoint:!1,Events:[Rl,qo,bc,yr,ol,bp]},$l={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X2={bundleType:$l.bundleType,version:$l.version,rendererPackageName:$l.rendererPackageName,rendererConfig:$l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=cl(i),i===null?null:i.stateNode},findFiberByHostInstance:$l.findFiberByHostInstance||G2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Is=ch.inject(X2),Tn=ch}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y2,yn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(o))throw Error(n(200));return K2(i,o,null,u)},yn.createRoot=function(i,o){if(!Vp(i))throw Error(n(299));var u=!1,f="",g=mw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Np(i,1,!1,null,null,u,!1,f,g),i[Qr]=o.current,bl(i.nodeType===8?i.parentNode:i),new Lp(o)},yn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=cl(o),i=i===null?null:i.stateNode,i},yn.flushSync=function(i){return Us(i)},yn.hydrate=function(i,o,u){if(!lh(o))throw Error(n(200));return uh(null,i,o,!0,u)},yn.hydrateRoot=function(i,o,u){if(!Vp(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,g=!1,_="",T=mw;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=fw(o,null,i,1,u??null,g,!1,_,T),i[Qr]=o.current,bl(i),f)for(i=0;i<f.length;i++)u=f[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new ah(o)},yn.render=function(i,o,u){if(!lh(o))throw Error(n(200));return uh(null,i,o,!1,u)},yn.unmountComponentAtNode=function(i){if(!lh(i))throw Error(n(40));return i._reactRootContainer?(Us(function(){uh(null,null,i,!1,function(){i._reactRootContainer=null,i[Qr]=null})}),!0):!1},yn.unstable_batchedUpdates=bp,yn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!lh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return uh(i,o,u,!1,f)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var Sw;function GE(){if(Sw)return jp.exports;Sw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jp.exports=iC(),jp.exports}var QE=GE();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Iw="popstate";function sC(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Sm("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:du(s)}return aC(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oC(){return Math.random().toString(36).substring(2,10)}function bw(t,e){return{usr:t.state,key:t.key,idx:e}}function Sm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:n,key:e&&e.key||r||oC()}}function du({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function La(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function aC(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function y(){c="POP";let I=m(),L=I==null?null:I-p;p=I,d&&d({action:c,location:R.location,delta:L})}function x(I,L){c="PUSH";let B=Sm(R.location,I,L);p=m()+1;let V=bw(B,p),K=R.createHref(B);try{l.pushState(V,"",K)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(K)}a&&d&&d({action:c,location:R.location,delta:1})}function S(I,L){c="REPLACE";let B=Sm(R.location,I,L);p=m();let V=bw(B,p),K=R.createHref(B);l.replaceState(V,"",K),a&&d&&d({action:c,location:R.location,delta:0})}function A(I){return lC(I)}let R={get action(){return c},get location(){return t(s,l)},listen(I){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Iw,y),d=I,()=>{s.removeEventListener(Iw,y),d=null}},createHref(I){return e(s,I)},createURL:A,encodeLocation(I){let L=A(I);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:x,replace:S,go(I){return l.go(I)}};return R}function lC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:du(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function YE(t,e,n="/"){return uC(t,e,n,!1)}function uC(t,e,n,r){let s=typeof e=="string"?La(e):e,a=ai(s.pathname||"/",n);if(a==null)return null;let l=XE(t);cC(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=xC(a);c=wC(l[d],p,r)}return c}function XE(t,e=[],n=[],r="",s=!1){let a=(l,c,d=s,p)=>{let m={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;lt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let y=oi([r,m.relativePath]),x=n.concat(m);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),XE(l.children,e,x,y,d)),!(l.path==null&&!l.index)&&e.push({path:y,score:yC(y,l.index),routesMeta:x})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of JE(l.path))a(l,c,!0,p)}),e}function JE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=JE(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function cC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var hC=/^:[\w-]+$/,dC=3,fC=2,pC=1,mC=10,gC=-2,Cw=t=>t==="*";function yC(t,e){let n=t.split("/"),r=n.length;return n.some(Cw)&&(r+=gC),e&&(r+=fC),n.filter(s=>!Cw(s)).reduce((s,a)=>s+(hC.test(a)?dC:a===""?pC:mC),r)}function vC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function wC(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=Gh({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),x=d.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=Gh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:oi([a,y.pathname]),pathnameBase:bC(oi([a,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(a=oi([a,y.pathnameBase]))}return l}function Gh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_C(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:y},x)=>{if(m==="*"){let A=c[x]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const S=c[x];return y&&!S?p[m]=void 0:p[m]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function _C(t,e=!1,n=!0){dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function xC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ai(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var EC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TC=t=>EC.test(t);function SC(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?La(t):t,a;if(n)if(TC(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),dr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=Aw(n.substring(1),"/"):a=Aw(n,e)}else a=e;return{pathname:a,search:CC(r),hash:AC(s)}}function Aw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZE(t){let e=IC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function eT(t,e,n,r=!1){let s;typeof t=="string"?s=La(t):(s={...t},lt(!s.pathname||!s.pathname.includes("?"),Bp("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),Bp("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),Bp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;s.pathname=x.join("/")}c=y>=0?e[y]:"/"}let d=SC(s,c),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var oi=t=>t.join("/").replace(/\/\/+/g,"/"),bC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tT=["POST","PUT","PATCH","DELETE"];new Set(tT);var PC=["GET",...tT];new Set(PC);var Va=P.createContext(null);Va.displayName="DataRouter";var Id=P.createContext(null);Id.displayName="DataRouterState";P.createContext(!1);var nT=P.createContext({isTransitioning:!1});nT.displayName="ViewTransition";var kC=P.createContext(new Map);kC.displayName="Fetchers";var NC=P.createContext(null);NC.displayName="Await";var jr=P.createContext(null);jr.displayName="Navigation";var Ru=P.createContext(null);Ru.displayName="Location";var fi=P.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var Ag=P.createContext(null);Ag.displayName="RouteError";function DC(t,{relative:e}={}){lt(Pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(jr),{hash:s,pathname:a,search:l}=ku(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:oi([n,a])),r.createHref({pathname:c,search:l,hash:s})}function Pu(){return P.useContext(Ru)!=null}function lo(){return lt(Pu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Ru).location}var rT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iT(t){P.useContext(jr).static||P.useLayoutEffect(t)}function LC(){let{isDataRoute:t}=P.useContext(fi);return t?KC():VC()}function VC(){lt(Pu(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Va),{basename:e,navigator:n}=P.useContext(jr),{matches:r}=P.useContext(fi),{pathname:s}=lo(),a=JSON.stringify(ZE(r)),l=P.useRef(!1);return iT(()=>{l.current=!0}),P.useCallback((d,p={})=>{if(dr(l.current,rT),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=eT(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:oi([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,a,s,t])}P.createContext(null);function ku(t,{relative:e}={}){let{matches:n}=P.useContext(fi),{pathname:r}=lo(),s=JSON.stringify(ZE(n));return P.useMemo(()=>eT(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function OC(t,e){return sT(t,e)}function sT(t,e,n,r,s){var B;lt(Pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(jr),{matches:l}=P.useContext(fi),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let V=y&&y.path||"";oT(p,!y||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let x=lo(),S;if(e){let V=typeof e=="string"?La(e):e;lt(m==="/"||((B=V.pathname)==null?void 0:B.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${V.pathname}" was given in the \`location\` prop.`),S=V}else S=x;let A=S.pathname||"/",R=A;if(m!=="/"){let V=m.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(V.length).join("/")}let I=YE(t,{pathname:R});dr(y||I!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),dr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=BC(I&&I.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:oi([m,a.encodeLocation?a.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?m:oi([m,a.encodeLocation?a.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),l,n,r,s);return e&&L?P.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function MC(){let t=qC(),e=RC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,l)}var jC=P.createElement(MC,null),FC=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(fi.Provider,{value:this.props.routeContext},P.createElement(Ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UC({routeContext:t,match:e,children:n}){let r=P.useContext(Va);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(fi.Provider,{value:t},n)}function BC(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let y=a[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:x,errors:S}=n,A=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||A){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let p=n&&r?(m,y)=>{var x,S;r(m,{location:n.location,params:((S=(x=n.matches)==null?void 0:x[0])==null?void 0:S.params)??{},errorInfo:y})}:void 0;return a.reduceRight((m,y,x)=>{let S,A=!1,R=null,I=null;n&&(S=l&&y.route.id?l[y.route.id]:void 0,R=y.route.errorElement||jC,c&&(d<0&&x===0?(oT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,I=null):d===x&&(A=!0,I=y.route.hydrateFallbackElement||null)));let L=e.concat(a.slice(0,x+1)),B=()=>{let V;return S?V=R:A?V=I:y.route.Component?V=P.createElement(y.route.Component,null):y.route.element?V=y.route.element:V=m,P.createElement(UC,{match:y,routeContext:{outlet:m,matches:L,isDataRoute:n!=null},children:V})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?P.createElement(FC,{location:n.location,revalidation:n.revalidation,component:R,error:S,children:B(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:p}):B()},null)}function Rg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zC(t){let e=P.useContext(Va);return lt(e,Rg(t)),e}function $C(t){let e=P.useContext(Id);return lt(e,Rg(t)),e}function HC(t){let e=P.useContext(fi);return lt(e,Rg(t)),e}function Pg(t){let e=HC(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function WC(){return Pg("useRouteId")}function qC(){var r;let t=P.useContext(Ag),e=$C("useRouteError"),n=Pg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function KC(){let{router:t}=zC("useNavigate"),e=Pg("useNavigate"),n=P.useRef(!1);return iT(()=>{n.current=!0}),P.useCallback(async(s,a={})=>{dr(n.current,rT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Rw={};function oT(t,e,n){!e&&!Rw[t]&&(Rw[t]=!0,dr(!1,n))}P.memo(GC);function GC({routes:t,future:e,state:n,unstable_onError:r}){return sT(t,void 0,n,r,e)}function Im(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){lt(!Pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=La(n));let{pathname:d="/",search:p="",hash:m="",state:y=null,key:x="default"}=n,S=P.useMemo(()=>{let A=ai(d,l);return A==null?null:{location:{pathname:A,search:p,hash:m,state:y,key:x},navigationType:r}},[l,d,p,m,y,x,r]);return dr(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:P.createElement(jr.Provider,{value:c},P.createElement(Ru.Provider,{children:e,value:S}))}function YC({children:t,location:e}){return OC(bm(t),e)}function bm(t,e=[]){let n=[];return P.Children.forEach(t,(r,s)=>{if(!P.isValidElement(r))return;let a=[...e,s];if(r.type===P.Fragment){n.push.apply(n,bm(r.props.children,a));return}lt(r.type===Im,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=bm(r.props.children,a)),n.push(l)}),n}var Ch="get",Ah="application/x-www-form-urlencoded";function bd(t){return t!=null&&typeof t.tagName=="string"}function XC(t){return bd(t)&&t.tagName.toLowerCase()==="button"}function JC(t){return bd(t)&&t.tagName.toLowerCase()==="form"}function ZC(t){return bd(t)&&t.tagName.toLowerCase()==="input"}function eA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tA(t,e){return t.button===0&&(!e||e==="_self")&&!eA(t)}var hh=null;function nA(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var rA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zp(t){return t!=null&&!rA.has(t)?(dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):t}function iA(t,e){let n,r,s,a,l;if(JC(t)){let c=t.getAttribute("action");r=c?ai(c,e):null,n=t.getAttribute("method")||Ch,s=zp(t.getAttribute("enctype"))||Ah,a=new FormData(t)}else if(XC(t)||ZC(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?ai(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Ch,s=zp(t.getAttribute("formenctype"))||zp(c.getAttribute("enctype"))||Ah,a=new FormData(c,t),!nA()){let{name:p,type:m,value:y}=t;if(m==="image"){let x=p?`${p}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else p&&a.append(p,y)}}else{if(bd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,r=null,s=Ah,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sA(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ai(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function oA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lA(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await oA(a,n);return l.links?l.links():[]}return[]}));return dA(r.flat(1).filter(aA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Pw(t,e,n,r,s,a){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,c=(d,p)=>{var m;return n[p].pathname!==d.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>l(d,p)||c(d,p)):a==="data"?e.filter((d,p)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function uA(t,e,{includeHydrateFallback:n}={}){return cA(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function cA(t){return[...new Set(t)]}function hA(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function dA(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(hA(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function aT(){let t=P.useContext(Va);return kg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fA(){let t=P.useContext(Id);return kg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ng=P.createContext(void 0);Ng.displayName="FrameworkContext";function lT(){let t=P.useContext(Ng);return kg(t,"You must render this element inside a <HydratedRouter> element"),t}function pA(t,e){let n=P.useContext(Ng),[r,s]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,x=P.useRef(null);P.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let R=L=>{L.forEach(B=>{l(B.isIntersecting)})},I=new IntersectionObserver(R,{threshold:.5});return x.current&&I.observe(x.current),()=>{I.disconnect()}}},[t]),P.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let S=()=>{s(!0)},A=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Wl(c,S),onBlur:Wl(d,A),onMouseEnter:Wl(p,S),onMouseLeave:Wl(m,A),onTouchStart:Wl(y,S)}]:[!1,x,{}]}function Wl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mA({page:t,...e}){let{router:n}=aT(),r=P.useMemo(()=>YE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(yA,{page:t,matches:r,...e}):null}function gA(t){let{manifest:e,routeModules:n}=lT(),[r,s]=P.useState([]);return P.useEffect(()=>{let a=!1;return lA(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function yA({page:t,matches:e,...n}){let r=lo(),{manifest:s,routeModules:a}=lT(),{basename:l}=aT(),{loaderData:c,matches:d}=fA(),p=P.useMemo(()=>Pw(t,e,d,s,r,"data"),[t,e,d,s,r]),m=P.useMemo(()=>Pw(t,e,d,s,r,"assets"),[t,e,d,s,r]),y=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,R=!1;if(e.forEach(L=>{var V;let B=s.routes[L.route.id];!B||!B.hasLoader||(!p.some(K=>K.route.id===L.route.id)&&L.route.id in c&&((V=a[L.route.id])!=null&&V.shouldRevalidate)||B.hasClientLoader?R=!0:A.add(L.route.id))}),A.size===0)return[];let I=sA(t,l,"data");return R&&A.size>0&&I.searchParams.set("_routes",e.filter(L=>A.has(L.route.id)).map(L=>L.route.id).join(",")),[I.pathname+I.search]},[l,c,r,s,p,e,t,a]),x=P.useMemo(()=>uA(m,s),[m,s]),S=gA(m);return P.createElement(P.Fragment,null,y.map(A=>P.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),x.map(A=>P.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),S.map(({key:A,link:R})=>P.createElement("link",{key:A,nonce:n.nonce,...R})))}function vA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uT&&(window.__reactRouterVersion="7.9.6")}catch{}function wA({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=sC({window:n,v5Compat:!0}));let s=r.current,[a,l]=P.useState({action:s.action,location:s.location}),c=P.useCallback(d=>{P.startTransition(()=>l(d))},[l]);return P.useLayoutEffect(()=>s.listen(c),[s,c]),P.createElement(QC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var cT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hT=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:d,to:p,preventScrollReset:m,viewTransition:y,...x},S){let{basename:A}=P.useContext(jr),R=typeof p=="string"&&cT.test(p),I,L=!1;if(typeof p=="string"&&R&&(I=p,uT))try{let k=new URL(window.location.href),M=p.startsWith("//")?new URL(k.protocol+p):new URL(p),F=ai(M.pathname,A);M.origin===k.origin&&F!=null?p=F+M.search+M.hash:L=!0}catch{dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=DC(p,{relative:s}),[V,K,X]=pA(r,x),te=TA(p,{replace:l,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:y});function D(k){e&&e(k),k.defaultPrevented||te(k)}let C=P.createElement("a",{...x,...X,href:I||B,onClick:L||a?e:D,ref:vA(S,K),target:d,"data-discover":!R&&n==="render"?"true":void 0});return V&&!R?P.createElement(P.Fragment,null,C,P.createElement(mA,{page:B})):C});hT.displayName="Link";var _A=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:d,...p},m){let y=ku(l,{relative:p.relative}),x=lo(),S=P.useContext(Id),{navigator:A,basename:R}=P.useContext(jr),I=S!=null&&AA(y)&&c===!0,L=A.encodeLocation?A.encodeLocation(y).pathname:y.pathname,B=x.pathname,V=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(B=B.toLowerCase(),V=V?V.toLowerCase():null,L=L.toLowerCase()),V&&R&&(V=ai(V,R)||V);const K=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let X=B===L||!s&&B.startsWith(L)&&B.charAt(K)==="/",te=V!=null&&(V===L||!s&&V.startsWith(L)&&V.charAt(L.length)==="/"),D={isActive:X,isPending:te,isTransitioning:I},C=X?e:void 0,k;typeof r=="function"?k=r(D):k=[r,X?"active":null,te?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(D):a;return P.createElement(hT,{...p,"aria-current":C,className:k,ref:m,style:M,to:l,viewTransition:c},typeof d=="function"?d(D):d)});_A.displayName="NavLink";var xA=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=Ch,action:c,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:y,...x},S)=>{let A=bA(),R=CA(c,{relative:p}),I=l.toLowerCase()==="get"?"get":"post",L=typeof c=="string"&&cT.test(c),B=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let K=V.nativeEvent.submitter,X=(K==null?void 0:K.getAttribute("formmethod"))||l;A(K||V.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:s,state:a,relative:p,preventScrollReset:m,viewTransition:y})};return P.createElement("form",{ref:S,method:I,action:R,onSubmit:r?d:B,...x,"data-discover":!L&&t==="render"?"true":void 0})});xA.displayName="Form";function EA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(t){let e=P.useContext(Va);return lt(e,EA(t)),e}function TA(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=LC(),d=lo(),p=ku(t,{relative:a});return P.useCallback(m=>{if(tA(m,e)){m.preventDefault();let y=n!==void 0?n:du(d)===du(p);c(t,{replace:y,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,c,p,n,r,e,t,s,a,l])}var SA=0,IA=()=>`__${String(++SA)}__`;function bA(){let{router:t}=dT("useSubmit"),{basename:e}=P.useContext(jr),n=WC();return P.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:d,body:p}=iA(r,e);if(s.navigate===!1){let m=s.fetcherKey||IA();await t.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function CA(t,{relative:e}={}){let{basename:n}=P.useContext(jr),r=P.useContext(fi);lt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...ku(t||".",{relative:e})},l=lo();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:oi([n,a.pathname])),du(a)}function AA(t,{relative:e}={}){let n=P.useContext(nT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dT("useViewTransitionState"),s=ku(t,{relative:e});if(!n.isTransitioning)return!1;let a=ai(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ai(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Gh(s.pathname,l)!=null||Gh(s.pathname,a)!=null}const pi=P.createContext(null);var dh={},kw;function RA(){if(kw)return dh;kw=1,dh.match=a,dh.parse=l;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function a(m,y){return l(m).some(function(x){var S=x.inverse,A=x.type==="all"||y.type===x.type;if(A&&S||!(A||S))return!1;var R=x.expressions.every(function(I){var L=I.feature,B=I.modifier,V=I.value,K=y[L];if(!K)return!1;switch(L){case"orientation":case"scan":return K.toLowerCase()===V.toLowerCase();case"width":case"height":case"device-width":case"device-height":V=p(V),K=p(K);break;case"resolution":V=d(V),K=d(K);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":V=c(V),K=c(K);break;case"grid":case"color":case"color-index":case"monochrome":V=parseInt(V,10)||1,K=parseInt(K,10)||0;break}switch(B){case"min":return K>=V;case"max":return K<=V;default:return K===V}});return R&&!S||!R&&S})}function l(m){return m.split(",").map(function(y){y=y.trim();var x=y.match(t),S=x[1],A=x[2],R=x[3]||"",I={};return I.inverse=!!S&&S.toLowerCase()==="not",I.type=A?A.toLowerCase():"all",R=R.match(/\([^\)]+\)/g)||[],I.expressions=R.map(function(L){var B=L.match(e),V=B[1].toLowerCase().match(n);return{modifier:V[1],feature:V[2],value:B[2]}}),I})}function c(m){var y=Number(m),x;return y||(x=m.match(/^(\d+)\s*\/\s*(\d+)$/),y=x[1]/x[2]),y}function d(m){var y=parseFloat(m),x=String(m).match(s)[1];switch(x){case"dpcm":return y/2.54;case"dppx":return y*96;default:return y}}function p(m){var y=parseFloat(m),x=String(m).match(r)[1];switch(x){case"em":return y*16;case"rem":return y*16;case"cm":return y*96/2.54;case"mm":return y*96/2.54/10;case"in":return y*96;case"pt":return y*72;case"pc":return y*72/12;default:return y}}return dh}var $p,Nw;function PA(){if(Nw)return $p;Nw=1;var t=RA().match,e=typeof window<"u"?window.matchMedia:null;function n(s,a,l){var c=this,d;e&&!l&&(d=e.call(window,s)),d?(this.matches=d.matches,this.media=d.media,d.addListener(y)):(this.matches=t(s,a),this.media=s),this.addListener=p,this.removeListener=m,this.dispose=x;function p(S){d&&d.addListener(S)}function m(S){d&&d.removeListener(S)}function y(S){c.matches=S.matches,c.media=S.media}function x(){d&&d.removeListener(y)}}function r(s,a,l){return new n(s,a,l)}return $p=r,$p}var kA=PA();const NA=bg(kA);var DA=/[A-Z]/g,LA=/^ms-/,Hp={};function VA(t){return"-"+t.toLowerCase()}function fT(t){if(Hp.hasOwnProperty(t))return Hp[t];var e=t.replace(DA,VA);return Hp[t]=LA.test(e)?"-"+e:e}function OA(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),s=n.length;if(r.length!==s)return!1;for(let a=0;a<s;a++){const l=n[a];if(t[l]!==e[l]||!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0}var Wp={exports:{}},qp,Dw;function MA(){if(Dw)return qp;Dw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qp=t,qp}var Kp,Lw;function jA(){if(Lw)return Kp;Lw=1;var t=MA();function e(){}function n(){}return n.resetWarningCache=e,Kp=function(){function r(l,c,d,p,m,y){if(y!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Kp}var Vw;function FA(){return Vw||(Vw=1,Wp.exports=jA()()),Wp.exports}var UA=FA();const He=bg(UA),ln=He.oneOfType([He.string,He.number]),pT={all:He.bool,grid:He.bool,aural:He.bool,braille:He.bool,handheld:He.bool,print:He.bool,projection:He.bool,screen:He.bool,tty:He.bool,tv:He.bool,embossed:He.bool},BA={orientation:He.oneOf(["portrait","landscape"]),scan:He.oneOf(["progressive","interlace"]),aspectRatio:He.string,deviceAspectRatio:He.string,height:ln,deviceHeight:ln,width:ln,deviceWidth:ln,color:He.bool,colorIndex:He.bool,monochrome:He.bool,resolution:ln,type:Object.keys(pT)},{type:a9,...zA}=BA,$A={minAspectRatio:He.string,maxAspectRatio:He.string,minDeviceAspectRatio:He.string,maxDeviceAspectRatio:He.string,minHeight:ln,maxHeight:ln,minDeviceHeight:ln,maxDeviceHeight:ln,minWidth:ln,maxWidth:ln,minDeviceWidth:ln,maxDeviceWidth:ln,minColor:He.number,maxColor:He.number,minColorIndex:He.number,maxColorIndex:He.number,minMonochrome:He.number,maxMonochrome:He.number,minResolution:ln,maxResolution:ln,...zA},HA={...pT,...$A};var WA={all:HA};const qA=t=>`not ${t}`,KA=(t,e)=>{const n=fT(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?qA(n):`(${n}: ${e})`},GA=t=>t.join(" and "),QA=t=>{const e=[];return Object.keys(WA.all).forEach(n=>{const r=t[n];r!=null&&e.push(KA(n,r))}),GA(e)},YA=P.createContext(void 0),XA=t=>t.query||QA(t),Ow=t=>t?Object.keys(t).reduce((n,r)=>(n[fT(r)]=t[r],n),{}):void 0,mT=()=>{const t=P.useRef(!1);return P.useEffect(()=>{t.current=!0},[]),t.current},JA=t=>{const e=P.useContext(YA),n=()=>Ow(t)||Ow(e),[r,s]=P.useState(n);return P.useEffect(()=>{const a=n();OA(r,a)||s(a)},[t,e]),r},ZA=t=>{const e=()=>XA(t),[n,r]=P.useState(e);return P.useEffect(()=>{const s=e();n!==s&&r(s)},[t]),n},eR=(t,e)=>{const n=()=>NA(t,e||{},!!e),[r,s]=P.useState(n),a=mT();return P.useEffect(()=>{if(a){const l=n();return s(l),()=>{l&&l.dispose()}}},[t,e]),r},tR=t=>{const[e,n]=P.useState(t.matches);return P.useEffect(()=>{const r=s=>{n(s.matches)};return t.addListener(r),n(t.matches),()=>{t.removeListener(r)}},[t]),e},nR=(t,e,n)=>{const r=JA(e),s=ZA(t);if(!s)throw new Error("Invalid or missing MediaQuery!");const a=eR(s,r),l=tR(a);return mT(),P.useEffect(()=>{},[l]),P.useEffect(()=>()=>{a&&a.dispose()},[]),l},Dg=P.createContext(null),rR=()=>{};var Mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},iR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,m=a>>2,y=(a&3)<<4|c>>4;let x=(c&15)<<2|p>>6,S=p&63;d||(S=64,l||(x=64)),r.push(n[m],n[y],n[x],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||y==null)throw new sR;const x=a<<2|c>>4;if(r.push(x),p!==64){const S=c<<4&240|p>>2;if(r.push(S),y!==64){const A=p<<6&192|y;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oR=function(t){const e=gT(t);return yT.encodeByteArray(e,!0)},Qh=function(t){return oR(t).replace(/\./g,"")},vT=function(t){try{return yT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=()=>aR().__FIREBASE_DEFAULTS__,uR=()=>{if(typeof process>"u"||typeof Mw>"u")return;const t=Mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vT(t[1]);return e&&JSON.parse(e)},Cd=()=>{try{return rR()||lR()||uR()||cR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wT=t=>{var e,n;return(n=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hR=t=>{const e=wT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_T=()=>{var t;return(t=Cd())===null||t===void 0?void 0:t.config},xT=t=>{var e;return(e=Cd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qh(JSON.stringify(n)),Qh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function mR(){var t;const e=(t=Cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _R(){return!mR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xR(){try{return typeof indexedDB=="object"}catch{return!1}}function ER(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TR,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?SR(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new mi(s,c,r)}}function SR(t,e){return t.replace(IR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const IR=/\{\$([^}]+)}/g;function bR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(jw(a)&&jw(l)){if(!eo(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function jw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Yl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CR(t,e){const n=new AR(t,e);return n.subscribe.bind(n)}class AR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Gp),s.error===void 0&&(s.error=Gp),s.complete===void 0&&(s.complete=Gp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class to{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NR(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kR(t){return t===Ws?void 0:t}function NR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const LR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},VR=Le.INFO,OR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},MR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=OR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lg{constructor(e){this.name=e,this._logLevel=VR,this._logHandler=MR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const jR=(t,e)=>e.some(n=>t instanceof n);let Fw,Uw;function FR(){return Fw||(Fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UR(){return Uw||(Uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ET=new WeakMap,Cm=new WeakMap,TT=new WeakMap,Qp=new WeakMap,Vg=new WeakMap;function BR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Qi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&ET.set(n,t)}).catch(()=>{}),Vg.set(e,t),e}function zR(t){if(Cm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Cm.set(t,e)}let Am={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $R(t){Am=t(Am)}function HR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yp(this),e,...n);return TT.set(r,e.sort?e.sort():[e]),Qi(r)}:UR().includes(t)?function(...e){return t.apply(Yp(this),e),Qi(ET.get(this))}:function(...e){return Qi(t.apply(Yp(this),e))}}function WR(t){return typeof t=="function"?HR(t):(t instanceof IDBTransaction&&zR(t),jR(t,FR())?new Proxy(t,Am):t)}function Qi(t){if(t instanceof IDBRequest)return BR(t);if(Qp.has(t))return Qp.get(t);const e=WR(t);return e!==t&&(Qp.set(t,e),Vg.set(e,t)),e}const Yp=t=>Vg.get(t);function qR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=Qi(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Qi(l.result),d.oldVersion,d.newVersion,Qi(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const KR=["get","getKey","getAll","getAllKeys","count"],GR=["put","add","delete","clear"],Xp=new Map;function Bw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xp.get(e))return Xp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=GR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||KR.includes(n)))return;const a=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&d.done]))[0]};return Xp.set(e,a),a}$R(t=>({...t,get:(e,n,r)=>Bw(e,n)||t.get(e,n,r),has:(e,n)=>!!Bw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rm="@firebase/app",zw="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new Lg("@firebase/app"),XR="@firebase/app-compat",JR="@firebase/analytics-compat",ZR="@firebase/analytics",eP="@firebase/app-check-compat",tP="@firebase/app-check",nP="@firebase/auth",rP="@firebase/auth-compat",iP="@firebase/database",sP="@firebase/data-connect",oP="@firebase/database-compat",aP="@firebase/functions",lP="@firebase/functions-compat",uP="@firebase/installations",cP="@firebase/installations-compat",hP="@firebase/messaging",dP="@firebase/messaging-compat",fP="@firebase/performance",pP="@firebase/performance-compat",mP="@firebase/remote-config",gP="@firebase/remote-config-compat",yP="@firebase/storage",vP="@firebase/storage-compat",wP="@firebase/firestore",_P="@firebase/vertexai",xP="@firebase/firestore-compat",EP="firebase",TP="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="[DEFAULT]",SP={[Rm]:"fire-core",[XR]:"fire-core-compat",[ZR]:"fire-analytics",[JR]:"fire-analytics-compat",[tP]:"fire-app-check",[eP]:"fire-app-check-compat",[nP]:"fire-auth",[rP]:"fire-auth-compat",[iP]:"fire-rtdb",[sP]:"fire-data-connect",[oP]:"fire-rtdb-compat",[aP]:"fire-fn",[lP]:"fire-fn-compat",[uP]:"fire-iid",[cP]:"fire-iid-compat",[hP]:"fire-fcm",[dP]:"fire-fcm-compat",[fP]:"fire-perf",[pP]:"fire-perf-compat",[mP]:"fire-rc",[gP]:"fire-rc-compat",[yP]:"fire-gcs",[vP]:"fire-gcs-compat",[wP]:"fire-fst",[xP]:"fire-fst-compat",[_P]:"fire-vertex","fire-js":"fire-js",[EP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,IP=new Map,km=new Map;function $w(t,e){try{t.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ta(t){const e=t.name;if(km.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,t);for(const n of Yh.values())$w(n,t);for(const n of IP.values())$w(n,t);return!0}function Og(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new Nu("app","Firebase",bP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=TP;function ST(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Yi.create("bad-app-name",{appName:String(s)});if(n||(n=_T()),!n)throw Yi.create("no-options");const a=Yh.get(s);if(a){if(eo(n,a.options)&&eo(r,a.config))return a;throw Yi.create("duplicate-app",{appName:s})}const l=new DR(s);for(const d of km.values())l.addComponent(d);const c=new CP(n,r,l);return Yh.set(s,c),c}function IT(t=Pm){const e=Yh.get(t);if(!e&&t===Pm&&_T())return ST();if(!e)throw Yi.create("no-app",{appName:t});return e}function Xi(t,e,n){var r;let s=(r=SP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(c.join(" "));return}Ta(new to(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="firebase-heartbeat-database",RP=1,fu="firebase-heartbeat-store";let Jp=null;function bT(){return Jp||(Jp=qR(AP,RP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),Jp}async function PP(t){try{const n=(await bT()).transaction(fu),r=await n.objectStore(fu).get(CT(t));return await n.done,r}catch(e){if(e instanceof mi)li.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(n.message)}}}async function Hw(t,e){try{const r=(await bT()).transaction(fu,"readwrite");await r.objectStore(fu).put(e,CT(t)),await r.done}catch(n){if(n instanceof mi)li.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});li.warn(r.message)}}}function CT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=1024,NP=30;class DP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ww();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>NP){const l=OP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){li.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ww(),{heartbeatsToSend:r,unsentEntries:s}=LP(this._heartbeatsCache.heartbeats),a=Qh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return li.warn(n),""}}}function Ww(){return new Date().toISOString().substring(0,10)}function LP(t,e=kP){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),qw(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),qw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xR()?ER().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qw(t){return Qh(JSON.stringify({version:2,heartbeats:t})).length}function OP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){Ta(new to("platform-logger",e=>new QR(e),"PRIVATE")),Ta(new to("heartbeat",e=>new DP(e),"PRIVATE")),Xi(Rm,zw,t),Xi(Rm,zw,"esm2017"),Xi("fire-js","")}MP("");var jP="firebase",FP="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(jP,FP,"app");var Kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,AT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function k(){}k.prototype=C.prototype,D.D=C.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(M,F,z){for(var O=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)O[tt-2]=arguments[tt];return C.prototype[F].apply(M,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,C,k){k||(k=0);var M=Array(16);if(typeof C=="string")for(var F=0;16>F;++F)M[F]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(F=0;16>F;++F)M[F]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=D.g[0],k=D.g[1],F=D.g[2];var z=D.g[3],O=C+(z^k&(F^z))+M[0]+3614090360&4294967295;C=k+(O<<7&4294967295|O>>>25),O=z+(F^C&(k^F))+M[1]+3905402710&4294967295,z=C+(O<<12&4294967295|O>>>20),O=F+(k^z&(C^k))+M[2]+606105819&4294967295,F=z+(O<<17&4294967295|O>>>15),O=k+(C^F&(z^C))+M[3]+3250441966&4294967295,k=F+(O<<22&4294967295|O>>>10),O=C+(z^k&(F^z))+M[4]+4118548399&4294967295,C=k+(O<<7&4294967295|O>>>25),O=z+(F^C&(k^F))+M[5]+1200080426&4294967295,z=C+(O<<12&4294967295|O>>>20),O=F+(k^z&(C^k))+M[6]+2821735955&4294967295,F=z+(O<<17&4294967295|O>>>15),O=k+(C^F&(z^C))+M[7]+4249261313&4294967295,k=F+(O<<22&4294967295|O>>>10),O=C+(z^k&(F^z))+M[8]+1770035416&4294967295,C=k+(O<<7&4294967295|O>>>25),O=z+(F^C&(k^F))+M[9]+2336552879&4294967295,z=C+(O<<12&4294967295|O>>>20),O=F+(k^z&(C^k))+M[10]+4294925233&4294967295,F=z+(O<<17&4294967295|O>>>15),O=k+(C^F&(z^C))+M[11]+2304563134&4294967295,k=F+(O<<22&4294967295|O>>>10),O=C+(z^k&(F^z))+M[12]+1804603682&4294967295,C=k+(O<<7&4294967295|O>>>25),O=z+(F^C&(k^F))+M[13]+4254626195&4294967295,z=C+(O<<12&4294967295|O>>>20),O=F+(k^z&(C^k))+M[14]+2792965006&4294967295,F=z+(O<<17&4294967295|O>>>15),O=k+(C^F&(z^C))+M[15]+1236535329&4294967295,k=F+(O<<22&4294967295|O>>>10),O=C+(F^z&(k^F))+M[1]+4129170786&4294967295,C=k+(O<<5&4294967295|O>>>27),O=z+(k^F&(C^k))+M[6]+3225465664&4294967295,z=C+(O<<9&4294967295|O>>>23),O=F+(C^k&(z^C))+M[11]+643717713&4294967295,F=z+(O<<14&4294967295|O>>>18),O=k+(z^C&(F^z))+M[0]+3921069994&4294967295,k=F+(O<<20&4294967295|O>>>12),O=C+(F^z&(k^F))+M[5]+3593408605&4294967295,C=k+(O<<5&4294967295|O>>>27),O=z+(k^F&(C^k))+M[10]+38016083&4294967295,z=C+(O<<9&4294967295|O>>>23),O=F+(C^k&(z^C))+M[15]+3634488961&4294967295,F=z+(O<<14&4294967295|O>>>18),O=k+(z^C&(F^z))+M[4]+3889429448&4294967295,k=F+(O<<20&4294967295|O>>>12),O=C+(F^z&(k^F))+M[9]+568446438&4294967295,C=k+(O<<5&4294967295|O>>>27),O=z+(k^F&(C^k))+M[14]+3275163606&4294967295,z=C+(O<<9&4294967295|O>>>23),O=F+(C^k&(z^C))+M[3]+4107603335&4294967295,F=z+(O<<14&4294967295|O>>>18),O=k+(z^C&(F^z))+M[8]+1163531501&4294967295,k=F+(O<<20&4294967295|O>>>12),O=C+(F^z&(k^F))+M[13]+2850285829&4294967295,C=k+(O<<5&4294967295|O>>>27),O=z+(k^F&(C^k))+M[2]+4243563512&4294967295,z=C+(O<<9&4294967295|O>>>23),O=F+(C^k&(z^C))+M[7]+1735328473&4294967295,F=z+(O<<14&4294967295|O>>>18),O=k+(z^C&(F^z))+M[12]+2368359562&4294967295,k=F+(O<<20&4294967295|O>>>12),O=C+(k^F^z)+M[5]+4294588738&4294967295,C=k+(O<<4&4294967295|O>>>28),O=z+(C^k^F)+M[8]+2272392833&4294967295,z=C+(O<<11&4294967295|O>>>21),O=F+(z^C^k)+M[11]+1839030562&4294967295,F=z+(O<<16&4294967295|O>>>16),O=k+(F^z^C)+M[14]+4259657740&4294967295,k=F+(O<<23&4294967295|O>>>9),O=C+(k^F^z)+M[1]+2763975236&4294967295,C=k+(O<<4&4294967295|O>>>28),O=z+(C^k^F)+M[4]+1272893353&4294967295,z=C+(O<<11&4294967295|O>>>21),O=F+(z^C^k)+M[7]+4139469664&4294967295,F=z+(O<<16&4294967295|O>>>16),O=k+(F^z^C)+M[10]+3200236656&4294967295,k=F+(O<<23&4294967295|O>>>9),O=C+(k^F^z)+M[13]+681279174&4294967295,C=k+(O<<4&4294967295|O>>>28),O=z+(C^k^F)+M[0]+3936430074&4294967295,z=C+(O<<11&4294967295|O>>>21),O=F+(z^C^k)+M[3]+3572445317&4294967295,F=z+(O<<16&4294967295|O>>>16),O=k+(F^z^C)+M[6]+76029189&4294967295,k=F+(O<<23&4294967295|O>>>9),O=C+(k^F^z)+M[9]+3654602809&4294967295,C=k+(O<<4&4294967295|O>>>28),O=z+(C^k^F)+M[12]+3873151461&4294967295,z=C+(O<<11&4294967295|O>>>21),O=F+(z^C^k)+M[15]+530742520&4294967295,F=z+(O<<16&4294967295|O>>>16),O=k+(F^z^C)+M[2]+3299628645&4294967295,k=F+(O<<23&4294967295|O>>>9),O=C+(F^(k|~z))+M[0]+4096336452&4294967295,C=k+(O<<6&4294967295|O>>>26),O=z+(k^(C|~F))+M[7]+1126891415&4294967295,z=C+(O<<10&4294967295|O>>>22),O=F+(C^(z|~k))+M[14]+2878612391&4294967295,F=z+(O<<15&4294967295|O>>>17),O=k+(z^(F|~C))+M[5]+4237533241&4294967295,k=F+(O<<21&4294967295|O>>>11),O=C+(F^(k|~z))+M[12]+1700485571&4294967295,C=k+(O<<6&4294967295|O>>>26),O=z+(k^(C|~F))+M[3]+2399980690&4294967295,z=C+(O<<10&4294967295|O>>>22),O=F+(C^(z|~k))+M[10]+4293915773&4294967295,F=z+(O<<15&4294967295|O>>>17),O=k+(z^(F|~C))+M[1]+2240044497&4294967295,k=F+(O<<21&4294967295|O>>>11),O=C+(F^(k|~z))+M[8]+1873313359&4294967295,C=k+(O<<6&4294967295|O>>>26),O=z+(k^(C|~F))+M[15]+4264355552&4294967295,z=C+(O<<10&4294967295|O>>>22),O=F+(C^(z|~k))+M[6]+2734768916&4294967295,F=z+(O<<15&4294967295|O>>>17),O=k+(z^(F|~C))+M[13]+1309151649&4294967295,k=F+(O<<21&4294967295|O>>>11),O=C+(F^(k|~z))+M[4]+4149444226&4294967295,C=k+(O<<6&4294967295|O>>>26),O=z+(k^(C|~F))+M[11]+3174756917&4294967295,z=C+(O<<10&4294967295|O>>>22),O=F+(C^(z|~k))+M[2]+718787259&4294967295,F=z+(O<<15&4294967295|O>>>17),O=k+(z^(F|~C))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var k=C-this.blockSize,M=this.B,F=this.h,z=0;z<C;){if(F==0)for(;z<=k;)s(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<C;)if(M[F++]=D.charCodeAt(z++),F==this.blockSize){s(this,M),F=0;break}}else for(;z<C;)if(M[F++]=D[z++],F==this.blockSize){s(this,M),F=0;break}}this.h=F,this.o+=C},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var k=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=k&255,k/=256;for(this.u(D),D=Array(16),C=k=0;4>C;++C)for(var M=0;32>M;M+=8)D[k++]=this.g[C]>>>M&255;return D};function a(D,C){var k=c;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=C(D)}function l(D,C){this.h=C;for(var k=[],M=!0,F=D.length-1;0<=F;F--){var z=D[F]|0;M&&z==C||(k[F]=z,M=!1)}this.g=k}var c={};function d(D){return-128<=D&&128>D?a(D,function(C){return new l([C|0],0>C?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return I(p(-D));for(var C=[],k=1,M=0;D>=k;M++)C[M]=D/k|0,k*=4294967296;return new l(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return I(m(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(C,8)),M=y,F=0;F<D.length;F+=8){var z=Math.min(8,D.length-F),O=parseInt(D.substring(F,F+z),C);8>z?(z=p(Math.pow(C,z)),M=M.j(z).add(p(O))):(M=M.j(k),M=M.add(p(O)))}return M}var y=d(0),x=d(1),S=d(16777216);t=l.prototype,t.m=function(){if(R(this))return-I(this).m();for(var D=0,C=1,k=0;k<this.g.length;k++){var M=this.i(k);D+=(0<=M?M:4294967296+M)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(R(this))return"-"+I(this).toString(D);for(var C=p(Math.pow(D,6)),k=this,M="";;){var F=K(k,C).g;k=L(k,F.j(C));var z=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=F,A(k))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function R(D){return D.h==-1}t.l=function(D){return D=L(this,D),R(D)?-1:A(D)?0:1};function I(D){for(var C=D.g.length,k=[],M=0;M<C;M++)k[M]=~D.g[M];return new l(k,~D.h).add(x)}t.abs=function(){return R(this)?I(this):this},t.add=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],M=0,F=0;F<=C;F++){var z=M+(this.i(F)&65535)+(D.i(F)&65535),O=(z>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);M=O>>>16,z&=65535,O&=65535,k[F]=O<<16|z}return new l(k,k[k.length-1]&-2147483648?-1:0)};function L(D,C){return D.add(I(C))}t.j=function(D){if(A(this)||A(D))return y;if(R(this))return R(D)?I(this).j(I(D)):I(I(this).j(D));if(R(D))return I(this.j(I(D)));if(0>this.l(S)&&0>D.l(S))return p(this.m()*D.m());for(var C=this.g.length+D.g.length,k=[],M=0;M<2*C;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<D.g.length;F++){var z=this.i(M)>>>16,O=this.i(M)&65535,tt=D.i(F)>>>16,xt=D.i(F)&65535;k[2*M+2*F]+=O*xt,B(k,2*M+2*F),k[2*M+2*F+1]+=z*xt,B(k,2*M+2*F+1),k[2*M+2*F+1]+=O*tt,B(k,2*M+2*F+1),k[2*M+2*F+2]+=z*tt,B(k,2*M+2*F+2)}for(M=0;M<C;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=C;M<2*C;M++)k[M]=0;return new l(k,0)};function B(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function V(D,C){this.g=D,this.h=C}function K(D,C){if(A(C))throw Error("division by zero");if(A(D))return new V(y,y);if(R(D))return C=K(I(D),C),new V(I(C.g),I(C.h));if(R(C))return C=K(D,I(C)),new V(I(C.g),C.h);if(30<D.g.length){if(R(D)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var k=x,M=C;0>=M.l(D);)k=X(k),M=X(M);var F=te(k,1),z=te(M,1);for(M=te(M,2),k=te(k,2);!A(M);){var O=z.add(M);0>=O.l(D)&&(F=F.add(k),z=O),M=te(M,1),k=te(k,1)}return C=L(D,F.j(C)),new V(F,C)}for(F=y;0<=D.l(C);){for(k=Math.max(1,Math.floor(D.m()/C.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=p(k),O=z.j(C);R(O)||0<O.l(D);)k-=M,z=p(k),O=z.j(C);A(z)&&(z=x),F=F.add(z),D=L(D,O)}return new V(F,D)}t.A=function(D){return K(this,D).h},t.and=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],M=0;M<C;M++)k[M]=this.i(M)&D.i(M);return new l(k,this.h&D.h)},t.or=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],M=0;M<C;M++)k[M]=this.i(M)|D.i(M);return new l(k,this.h|D.h)},t.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],M=0;M<C;M++)k[M]=this.i(M)^D.i(M);return new l(k,this.h^D.h)};function X(D){for(var C=D.g.length+1,k=[],M=0;M<C;M++)k[M]=D.i(M)<<1|D.i(M-1)>>>31;return new l(k,D.h)}function te(D,C){var k=C>>5;C%=32;for(var M=D.g.length-k,F=[],z=0;z<M;z++)F[z]=0<C?D.i(z+k)>>>C|D.i(z+k+1)<<32-C:D.i(z+k);return new l(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Ji=l}).apply(typeof Kw<"u"?Kw:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RT,Xl,PT,Rh,Nm,kT,NT,DT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)e:{var E=r;h=h.split(".");for(var b=0;b<h.length-1;b++){var H=h[b];if(!(H in E))break e;E=E[H]}h=h[h.length-1],b=E[h],v=v(b),v!=b&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function a(h,v){h instanceof String&&(h+="");var E=0,b=!1,H={next:function(){if(!b&&E<h.length){var Q=E++;return{value:v(Q,h[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(h){return h||function(){return a(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function y(h,v,E){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function x(h,v,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,x.apply(null,arguments)}function S(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function A(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(b,H,Q){for(var ae=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ae[Ke-2]=arguments[Ke];return v.prototype[H].apply(b,ae)}}function R(h){const v=h.length;if(0<v){const E=Array(v);for(let b=0;b<v;b++)E[b]=h[b];return E}return[]}function I(h,v){for(let E=1;E<arguments.length;E++){const b=arguments[E];if(d(b)){const H=h.length||0,Q=b.length||0;h.length=H+Q;for(let ae=0;ae<Q;ae++)h[H+ae]=b[ae]}else h.push(b)}}class L{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(h){return/^[\s\xa0]*$/.test(h)}function V(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function K(h){return K[" "](h),h}K[" "]=function(){};var X=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function te(h,v,E){for(const b in h)v.call(E,h[b],b,h)}function D(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function C(h){const v={};for(const E in h)v[E]=h[E];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let E,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(E in b)h[E]=b[E];for(let Q=0;Q<k.length;Q++)E=k[Q],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function F(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function z(h){c.setTimeout(()=>{throw h},0)}function O(){var h=pe;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class tt{constructor(){this.h=this.g=null}add(v,E){const b=xt.get();b.set(v,E),this.h?this.h.next=b:this.g=b,this.h=b}}var xt=new L(()=>new jt,h=>h.reset());class jt{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let be,se=!1,pe=new tt,le=()=>{const h=c.Promise.resolve(void 0);be=()=>{h.then($)}};var $=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(E){z(E)}var v=xt;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}se=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h}();function Ne(h,v){if(ge.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(X){e:{try{K(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}A(Ne,ge);var Me={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Qe(h,v,E,b,H){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!b,this.ha=H,this.key=++$e,this.da=this.fa=!1}function Pt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Fr(h){this.src=h,this.g={},this.h=0}Fr.prototype.add=function(h,v,E,b,H){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var ae=gi(h,v,b,H);return-1<ae?(v=h[ae],E||(v.fa=!1)):(v=new Qe(v,this.src,Q,!!b,H),v.fa=E,h.push(v)),v};function mo(h,v){var E=v.type;if(E in h.g){var b=h.g[E],H=Array.prototype.indexOf.call(b,v,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(b,H,1),Q&&(Pt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function gi(h,v,E,b){for(var H=0;H<h.length;++H){var Q=h[H];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==b)return H}return-1}var gs="closure_lm_"+(1e6*Math.random()|0),go={};function Ya(h,v,E,b,H){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Ya(h,v[Q],E,b,H);return null}return E=Za(E),h&&h[ze]?h.K(v,E,p(b)?!!b.capture:!1,H):Xa(h,v,E,!1,b,H)}function Xa(h,v,E,b,H,Q){if(!v)throw Error("Invalid event type");var ae=p(H)?!!H.capture:!!H,Ke=vo(h);if(Ke||(h[gs]=Ke=new Fr(h)),E=Ke.add(v,E,b,ae,Q),E.proxy)return E;if(b=Yu(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)Pe||(H=ae),H===void 0&&(H=!1),h.addEventListener(v.toString(),b,H);else if(h.attachEvent)h.attachEvent(Br(v.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Yu(){function h(E){return v.call(h.src,h.listener,E)}const v=Ja;return h}function yo(h,v,E,b,H){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)yo(h,v[Q],E,b,H);else b=p(b)?!!b.capture:!!b,E=Za(E),h&&h[ze]?(h=h.i,v=String(v).toString(),v in h.g&&(Q=h.g[v],E=gi(Q,E,b,H),-1<E&&(Pt(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete h.g[v],h.h--)))):h&&(h=vo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=gi(v,E,b,H)),(E=-1<h?v[h]:null)&&Ur(E))}function Ur(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ze])mo(v.i,h);else{var E=h.type,b=h.proxy;v.removeEventListener?v.removeEventListener(E,b,h.capture):v.detachEvent?v.detachEvent(Br(E),b):v.addListener&&v.removeListener&&v.removeListener(b),(E=vo(v))?(mo(E,h),E.h==0&&(E.src=null,v[gs]=null)):Pt(h)}}}function Br(h){return h in go?go[h]:go[h]="on"+h}function Ja(h,v){if(h.da)h=!0;else{v=new Ne(v,this);var E=h.listener,b=h.ha||h.src;h.fa&&Ur(h),h=E.call(b,v)}return h}function vo(h){return h=h[gs],h instanceof Fr?h:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Za(h){return typeof h=="function"?h:(h[wo]||(h[wo]=function(v){return h.handleEvent(v)}),h[wo])}function Et(){Z.call(this),this.i=new Fr(this),this.M=this,this.F=null}A(Et,Z),Et.prototype[ze]=!0,Et.prototype.removeEventListener=function(h,v,E,b){yo(this,h,v,E,b)};function Tt(h,v){var E,b=h.F;if(b)for(E=[];b;b=b.F)E.push(b);if(h=h.M,b=v.type||v,typeof v=="string")v=new ge(v,h);else if(v instanceof ge)v.target=v.target||h;else{var H=v;v=new ge(b,h),M(v,H)}if(H=!0,E)for(var Q=E.length-1;0<=Q;Q--){var ae=v.g=E[Q];H=zr(ae,b,!0,v)&&H}if(ae=v.g=h,H=zr(ae,b,!0,v)&&H,H=zr(ae,b,!1,v)&&H,E)for(Q=0;Q<E.length;Q++)ae=v.g=E[Q],H=zr(ae,b,!1,v)&&H}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],b=0;b<E.length;b++)Pt(E[b]);delete h.g[v],h.h--}}this.F=null},Et.prototype.K=function(h,v,E,b){return this.i.add(String(h),v,!1,E,b)},Et.prototype.L=function(h,v,E,b){return this.i.add(String(h),v,!0,E,b)};function zr(h,v,E,b){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Q=0;Q<v.length;++Q){var ae=v[Q];if(ae&&!ae.da&&ae.capture==E){var Ke=ae.listener,St=ae.ha||ae.src;ae.fa&&mo(h.i,ae),H=Ke.call(St,b)!==!1&&H}}return H&&!b.defaultPrevented}function el(h,v,E){if(typeof h=="function")E&&(h=x(h,E));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(h,v||0)}function yi(h){h.g=el(()=>{h.g=null,h.i&&(h.i=!1,yi(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ys extends Z{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(h){Z.call(this),this.h=h,this.g={}}A(vs,Z);var tl=[];function nl(h){te(h.g,function(v,E){this.g.hasOwnProperty(E)&&Ur(v)},h),h.g={}}vs.prototype.N=function(){vs.aa.N.call(this),nl(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rl=c.JSON.stringify,il=c.JSON.parse,sl=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ws(){}ws.prototype.h=null;function _o(h){return h.h||(h.h=h.i())}function xo(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){ge.call(this,"d")}A(gr,ge);function Eo(){ge.call(this,"c")}A(Eo,ge);var yr={},ol=null;function _s(){return ol=ol||new Et}yr.La="serverreachability";function al(h){ge.call(this,yr.La,h)}A(al,ge);function $r(h){const v=_s();Tt(v,new al(v))}yr.STAT_EVENT="statevent";function ll(h,v){ge.call(this,yr.STAT_EVENT,h),this.stat=v}A(ll,ge);function dt(h){const v=_s();Tt(v,new ll(v,h))}yr.Ma="timingevent";function To(h,v){ge.call(this,yr.Ma,h),this.size=v}A(To,ge);function Kn(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function xs(){this.g=!0}xs.prototype.xa=function(){this.g=!1};function Es(h,v,E,b,H,Q){h.info(function(){if(h.g)if(Q)for(var ae="",Ke=Q.split("&"),St=0;St<Ke.length;St++){var je=Ke[St].split("=");if(1<je.length){var kt=je[0];je=je[1];var yt=kt.split("_");ae=2<=yt.length&&yt[1]=="type"?ae+(kt+"="+je+"&"):ae+(kt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+v+`
`+E+`
`+ae})}function So(h,v,E,b,H,Q,ae){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+v+`
`+E+`
`+Q+" "+ae})}function Gn(h,v,E,b){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+cf(h,E)+(b?" "+b:"")})}function ul(h,v){h.info(function(){return"TIMEOUT: "+v})}xs.prototype.info=function(){};function cf(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var b=E[h];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<H.length;ae++)H[ae]=""}}}}return rl(E)}catch{return v}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Ts(){}A(Ts,ws),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},Qn=new Ts;function Yn(h,v,E,b){this.j=h,this.i=v,this.l=E,this.R=b||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ju}function Ju(){this.i=null,this.g="",this.h=!1}var cl={},bo={};function Co(h,v,E){h.L=1,h.v=Ei(Sn(v)),h.m=E,h.P=!0,hl(h,null)}function hl(h,v){h.F=Date.now(),Ye(h),h.A=Sn(h.v);var E=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),Si(E.i,"t",b),h.C=0,E=h.j.J,h.h=new Ju,h.g=gc(h.j,E?v:null,!h.m),0<h.O&&(h.M=new ys(x(h.Y,h,h.g),h.O)),v=h.U,E=h.g,b=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(tl[0]=H.toString()),H=tl);for(var Q=0;Q<H.length;Q++){var ae=Ya(E,H[Q],b||v.handleEvent,!1,v.h||v);if(!ae)break;v.g[ae.key]=ae}v=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),$r(),Es(h.i,h.u,h.A,h.l,h.R,h.m)}Yn.prototype.ca=function(h){h=h.target;const v=this.M;v&&hn(h)==3?v.j():this.Y(h)},Yn.prototype.Y=function(h){try{if(h==this.g)e:{const yt=hn(this.g);var v=this.g.Ba();const On=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||yl(this.g)))){this.J||yt!=4||v==7||(v==8||0>=On?$r(3):$r(2)),Ss(this);var E=this.g.Z();this.X=E;t:if(Zu(this)){var b=yl(this.g);h="";var H=b.length,Q=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),vi(this);var ae="";break t}this.h.i=new c.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(b[v],{stream:!(Q&&v==H-1)});b.length=0,this.h.g+=h,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,So(this.i,this.u,this.A,this.l,this.R,yt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,St=this.g;if((Ke=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ke)){var je=Ke;break t}}je=null}if(E=je)Gn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dl(this,E);else{this.o=!1,this.s=3,dt(12),Ln(this),vi(this);break e}}if(this.P){E=!0;let bn;for(;!this.J&&this.C<ae.length;)if(bn=hf(this,ae),bn==bo){yt==4&&(this.s=4,dt(14),E=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==cl){this.s=4,dt(15),Gn(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else Gn(this.i,this.l,bn,null),dl(this,bn);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),E=!1),this.o=this.o&&E,!E)Gn(this.i,this.l,ae,"[Invalid Chunked Response]"),Ln(this),vi(this);else if(0<ae.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),wl(kt),kt.M=!0,dt(11))}}else Gn(this.i,this.l,ae,null),dl(this,ae);yt==4&&Ln(this),this.o&&!this.J&&(yt==4?jo(this.j,this):(this.o=!1,Ye(this)))}else Do(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Ln(this),vi(this)}}}catch{}finally{}};function Zu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function hf(h,v){var E=h.C,b=v.indexOf(`
`,E);return b==-1?bo:(E=Number(v.substring(E,b)),isNaN(E)?cl:(b+=1,b+E>v.length?bo:(v=v.slice(b,b+E),h.C=b+E,v)))}Yn.prototype.cancel=function(){this.J=!0,Ln(this)};function Ye(h){h.S=Date.now()+h.I,ec(h,h.I)}function ec(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Kn(x(h.ba,h),v)}function Ss(h){h.B&&(c.clearTimeout(h.B),h.B=null)}Yn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ul(this.i,this.A),this.L!=2&&($r(),dt(17)),Ln(this),this.s=2,vi(this)):ec(this,this.S-h)};function vi(h){h.j.G==0||h.J||jo(h.j,h)}function Ln(h){Ss(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,nl(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function dl(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||rn(E.h,h))){if(!h.K&&rn(E.h,h)&&E.G==3){try{var b=E.Da.g.parse(v)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Mo(E),tr(E);else break e;Oo(E),dt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=Kn(x(E.Za,E),6e3));if(1>=nc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Gr(E,11)}else if((h.K||E.g==h)&&Mo(E),!B(v))for(H=E.Da.g.parse(v),v=0;v<H.length;v++){let je=H[v];if(E.T=je[0],je=je[1],E.G==2)if(je[0]=="c"){E.K=je[1],E.ia=je[2];const kt=je[3];kt!=null&&(E.la=kt,E.j.info("VER="+E.la));const yt=je[4];yt!=null&&(E.Aa=yt,E.j.info("SVER="+E.Aa));const On=je[5];On!=null&&typeof On=="number"&&0<On&&(b=1.5*On,E.L=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const bn=h.g;if(bn){const ks=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var Q=b.h;Q.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(fl(Q,Q.h),Q.h=null))}if(b.D){const Uo=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(b.ya=Uo,Ge(b.I,b.D,Uo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),b=E;var ae=h;if(b.qa=mc(b,b.J?b.ia:null,b.W),ae.K){rc(b.h,ae);var Ke=ae,St=b.L;St&&(Ke.I=St),Ke.B&&(Ss(Ke),Ye(Ke)),b.g=ae}else Ps(b);0<E.i.length&&xr(E)}else je[0]!="stop"&&je[0]!="close"||Gr(E,7);else E.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Gr(E,7):Ut(E):je[0]!="noop"&&E.l&&E.l.ta(je),E.v=0)}}$r(4)}catch{}}var tc=class{constructor(h,v){this.g=h,this.map=v}};function Is(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function nc(h){return h.h?1:h.g?h.g.size:0}function rn(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function fl(h,v){h.g?h.g.add(v):h.h=v}function rc(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Is.prototype.cancel=function(){if(this.i=ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ic(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return R(h.i)}function Ao(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],E=h.length,b=0;b<E;b++)v.push(h[b]);return v}v=[],E=0;for(b in h)v[E++]=h[b];return v}function Ro(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const b in h)v[E++]=b;return v}}}function wi(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Ro(h),b=Ao(h),H=b.length,Q=0;Q<H;Q++)v.call(void 0,b[Q],E&&E[Q],h)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function df(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var b=h[E].indexOf("="),H=null;if(0<=b){var Q=h[E].substring(0,b);H=h[E].substring(b+1)}else Q=h[E];v(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Hr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Hr){this.h=h.h,Cs(this,h.j),this.o=h.o,this.g=h.g,_i(this,h.s),this.l=h.l;var v=h.i,E=new vr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),xi(this,E),this.m=h.m}else h&&(v=String(h).match(bs))?(this.h=!1,Cs(this,v[1]||"",!0),this.o=Oe(v[2]||""),this.g=Oe(v[3]||"",!0),_i(this,v[4]),this.l=Oe(v[5]||"",!0),xi(this,v[6]||"",!0),this.m=Oe(v[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}Hr.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ti(v,Po,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ti(v,Po,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ti(E,E.charAt(0)=="/"?ac:oc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ti(E,pl)),h.join("")};function Sn(h){return new Hr(h)}function Cs(h,v,E){h.j=E?Oe(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function _i(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function xi(h,v,E){v instanceof vr?(h.i=v,wr(h.i,h.h)):(E||(v=Ti(v,lc)),h.i=new vr(v,h.h))}function Ge(h,v,E){h.i.set(v,E)}function Ei(h){return Ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Oe(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ti(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,sc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function sc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Po=/[#\/\?@]/g,oc=/[#\?:]/g,ac=/[#\?]/g,lc=/[#\?@]/g,pl=/#/g;function vr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Ft(h){h.g||(h.g=new Map,h.h=0,h.i&&df(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=vr.prototype,t.add=function(h,v){Ft(this),this.i=null,h=Vn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Xn(h,v){Ft(h),v=Vn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Jn(h,v){return Ft(h),v=Vn(h,v),h.g.has(v)}t.forEach=function(h,v){Ft(this),this.g.forEach(function(E,b){E.forEach(function(H){h.call(v,H,b,this)},this)},this)},t.na=function(){Ft(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let b=0;b<v.length;b++){const H=h[b];for(let Q=0;Q<H.length;Q++)E.push(v[b])}return E},t.V=function(h){Ft(this);let v=[];if(typeof h=="string")Jn(this,h)&&(v=v.concat(this.g.get(Vn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},t.set=function(h,v){return Ft(this),this.i=null,h=Vn(this,h),Jn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Si(h,v,E){Xn(h,v),0<E.length&&(h.i=null,h.g.set(Vn(h,v),R(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var b=v[E];const Q=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var H=Q;ae[b]!==""&&(H+="="+encodeURIComponent(String(ae[b]))),h.push(H)}}return this.i=h.join("&")};function Vn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function wr(h,v){v&&!h.j&&(Ft(h),h.i=null,h.g.forEach(function(E,b){var H=b.toLowerCase();b!=H&&(Xn(this,b),Si(this,H,E))},h)),h.j=v}function ff(h,v){const E=new xs;if(c.Image){const b=new Image;b.onload=S(cn,E,"TestLoadImage: loaded",!0,v,b),b.onerror=S(cn,E,"TestLoadImage: error",!1,v,b),b.onabort=S(cn,E,"TestLoadImage: abort",!1,v,b),b.ontimeout=S(cn,E,"TestLoadImage: timeout",!1,v,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else v(!1)}function uc(h,v){const E=new xs,b=new AbortController,H=setTimeout(()=>{b.abort(),cn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:b.signal}).then(Q=>{clearTimeout(H),Q.ok?cn(E,"TestPingServer: ok",!0,v):cn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),cn(E,"TestPingServer: error",!1,v)})}function cn(h,v,E,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(E)}catch{}}function pf(){this.g=new sl}function cc(h,v,E){const b=E||"";try{wi(h,function(H,Q){let ae=H;p(H)&&(ae=rl(H)),v.push(b+Q+"="+encodeURIComponent(ae))})}catch(H){throw v.push(b+"type="+encodeURIComponent("_badmap")),H}}function Wr(h){this.l=h.Ub||null,this.j=h.eb||!1}A(Wr,ws),Wr.prototype.g=function(){return new As(this.l,this.j)},Wr.prototype.i=function(h){return function(){return h}}({});function As(h,v){Et.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(As,Et),t=As.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,er(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function hc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Zn(this):er(this),this.readyState==3&&hc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Zn(this))},t.Qa=function(h){this.g&&(this.response=h,Zn(this))},t.ga=function(){this.g&&Zn(this)};function Zn(h){h.readyState=4,h.l=null,h.j=null,h.v=null,er(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function er(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function qr(h){let v="";return te(h,function(E,b){v+=b,v+=":",v+=E,v+=`\r
`}),v}function Ii(h,v,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=qr(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Ge(h,v,E))}function nt(h){Et.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(nt,Et);var mf=/^https?$/i,ml=["POST","PUT"];t=nt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?_o(this.o):_o(Qn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Rs(this,Q);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)E.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())E.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ml,v,void 0))||b||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of E)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{No(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Rs(this,Q)}};function Rs(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ko(h),In(h)}function ko(h){h.A||(h.A=!0,Tt(h,"complete"),Tt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Tt(this,"complete"),Tt(this,"abort"),In(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),In(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gl(this):this.bb())},t.bb=function(){gl(this)};function gl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||hn(h)!=4||h.Z()!=2)){if(h.u&&hn(h)==4)el(h.Ea,0,h);else if(Tt(h,"readystatechange"),hn(h)==4){h.h=!1;try{const ae=h.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var b;if(b=ae===0){var H=String(h.D).match(bs)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),b=!mf.test(H?H.toLowerCase():"")}E=b}if(E)Tt(h,"complete"),Tt(h,"success");else{h.m=6;try{var Q=2<hn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",ko(h)}}finally{In(h)}}}}function In(h,v){if(h.g){No(h);const E=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Tt(h,"ready");try{E.onreadystatechange=b}catch{}}}function No(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function hn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),il(v)}};function yl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Do(h){const v={};h=(h.g&&2<=hn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(B(h[b]))continue;var E=F(h[b]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[H]||[];v[H]=Q,Q.push(E)}D(v,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _r(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function vl(h){this.Aa=0,this.i=[],this.j=new xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_r("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_r("baseRetryDelayMs",5e3,h),this.cb=_r("retryDelaySeedMs",1e4,h),this.Wa=_r("forwardChannelMaxRetries",2,h),this.wa=_r("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(h&&h.concurrentRequestLimit),this.Da=new pf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vl.prototype,t.la=8,t.G=1,t.connect=function(h,v,E,b){dt(0),this.W=h,this.H=v||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.I=mc(this,null,this.W),xr(this)};function Ut(h){if(Lo(h),h.G==3){var v=h.U++,E=Sn(h.I);if(Ge(E,"SID",h.K),Ge(E,"RID",v),Ge(E,"TYPE","terminate"),Kr(h,E),v=new Yn(h,h.j,v),v.L=2,v.v=Ei(Sn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.v,E=!0),E||(v.g=gc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ye(v)}pc(h)}function tr(h){h.g&&(wl(h),h.g.cancel(),h.g=null)}function Lo(h){tr(h),h.u&&(c.clearTimeout(h.u),h.u=null),Mo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function xr(h){if(!Tn(h.h)&&!h.s){h.s=!0;var v=h.Ga;be||le(),se||(be(),se=!0),pe.add(v,h),h.B=0}}function gf(h,v){return nc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Kn(x(h.Ga,h,v),fc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new Yn(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=C(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(v+=b,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=bi(this,H,v),E=Sn(this.I),Ge(E,"RID",h),Ge(E,"CVER",22),this.D&&Ge(E,"X-HTTP-Session-Id",this.D),Kr(this,E),Q&&(this.O?v="headers="+encodeURIComponent(String(qr(Q)))+"&"+v:this.m&&Ii(E,this.m,Q)),fl(this.h,H),this.Ua&&Ge(E,"TYPE","init"),this.P?(Ge(E,"$req",v),Ge(E,"SID","null"),H.T=!0,Co(H,E,null)):Co(H,E,v),this.G=2}}else this.G==3&&(h?Vo(this,h):this.i.length==0||Tn(this.h)||Vo(this))};function Vo(h,v){var E;v?E=v.l:E=h.U++;const b=Sn(h.I);Ge(b,"SID",h.K),Ge(b,"RID",E),Ge(b,"AID",h.T),Kr(h,b),h.m&&h.o&&Ii(b,h.m,h.o),E=new Yn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=bi(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),fl(h.h,E),Co(E,b,v)}function Kr(h,v){h.H&&te(h.H,function(E,b){Ge(v,b,E)}),h.l&&wi({},function(E,b){Ge(v,b,E)})}function bi(h,v,E){E=Math.min(h.i.length,E);var b=h.l?x(h.l.Na,h.l,h):null;e:{var H=h.i;let Q=-1;for(;;){const ae=["count="+E];Q==-1?0<E?(Q=H[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ke=!0;for(let St=0;St<E;St++){let je=H[St].g;const kt=H[St].map;if(je-=Q,0>je)Q=Math.max(0,H[St].g-100),Ke=!1;else try{cc(kt,ae,"req"+je+"_")}catch{b&&b(kt)}}if(Ke){b=ae.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,b}function Ps(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;be||le(),se||(be(),se=!0),pe.add(v,h),h.v=0}}function Oo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Kn(x(h.Fa,h),fc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Kn(x(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),tr(this),dc(this))};function wl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function dc(h){h.g=new Yn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Sn(h.qa);Ge(v,"RID","rpc"),Ge(v,"SID",h.K),Ge(v,"AID",h.T),Ge(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ge(v,"TO",h.ja),Ge(v,"TYPE","xmlhttp"),Kr(h,v),h.m&&h.o&&Ii(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Ei(Sn(v)),E.m=null,E.P=!0,hl(E,h)}t.Za=function(){this.C!=null&&(this.C=null,tr(this),Oo(this),dt(19))};function Mo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function jo(h,v){var E=null;if(h.g==v){Mo(h),wl(h),h.g=null;var b=2}else if(rn(h.h,v))E=v.D,rc(h.h,v),b=1;else return;if(h.G!=0){if(v.o)if(b==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;b=_s(),Tt(b,new To(b,E)),xr(h)}else Ps(h);else if(H=v.s,H==3||H==0&&0<v.X||!(b==1&&gf(h,v)||b==2&&Oo(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),H){case 1:Gr(h,5);break;case 4:Gr(h,10);break;case 3:Gr(h,6);break;default:Gr(h,2)}}}function fc(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function Gr(h,v){if(h.j.info("Error code "+v),v==2){var E=x(h.fb,h),b=h.Xa;const H=!b;b=new Hr(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Cs(b,"https"),Ei(b),H?ff(b.toString(),E):uc(b.toString(),E)}else dt(2);h.G=0,h.l&&h.l.sa(v),pc(h),Lo(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function pc(h){if(h.G=0,h.ka=[],h.l){const v=ic(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ka,v),I(h.ka,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.ra()}}function mc(h,v,E){var b=E instanceof Hr?Sn(E):new Hr(E);if(b.g!="")v&&(b.g=v+"."+b.g),_i(b,b.s);else{var H=c.location;b=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Q=new Hr(null);b&&Cs(Q,b),v&&(Q.g=v),H&&_i(Q,H),E&&(Q.l=E),b=Q}return E=h.D,v=h.ya,E&&v&&Ge(b,E,v),Ge(b,"VER",h.la),Kr(h,b),b}function gc(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new nt(new Wr({eb:E})):new nt(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _l(){}t=_l.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fo(){}Fo.prototype.g=function(h,v){return new sn(h,v)};function sn(h,v){Et.call(this),this.g=new vl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!B(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!B(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Er(this)}A(sn,Et),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ut(this.g)},sn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=rl(h),h=E);v.i.push(new tc(v.Ya++,h)),v.G==3&&xr(v)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,sn.aa.N.call(this)};function yc(h){gr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}A(yc,gr);function vc(){Eo.call(this),this.status=1}A(vc,Eo);function Er(h){this.g=h}A(Er,_l),Er.prototype.ua=function(){Tt(this.g,"a")},Er.prototype.ta=function(h){Tt(this.g,new yc(h))},Er.prototype.sa=function(h){Tt(this.g,new vc)},Er.prototype.ra=function(){Tt(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,DT=function(){return new Fo},NT=function(){return _s()},kT=yr,Nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,Rh=Io,Xu.COMPLETE="complete",PT=Xu,xo.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Xl=xo,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,RT=nt}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const Gw="@firebase/firestore",Qw="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Lg("@firebase/firestore");function aa(){return no.logLevel}function ce(t,...e){if(no.logLevel<=Le.DEBUG){const n=e.map(Mg);no.debug(`Firestore (${Ma}): ${t}`,...n)}}function ui(t,...e){if(no.logLevel<=Le.ERROR){const n=e.map(Mg);no.error(`Firestore (${Ma}): ${t}`,...n)}}function Sa(t,...e){if(no.logLevel<=Le.WARN){const n=e.map(Mg);no.warn(`Firestore (${Ma}): ${t}`,...n)}}function Mg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+t;throw ui(e),new Error(e)}function qe(t,e){t||Se()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class BP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zP{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new LT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Zt(e)}}class $P{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class HP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $P(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WP{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ur(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Yw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new Yw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=qP(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function Dm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ke(r,s);{const a=VT(),l=KP(a.encode(Xw(t,n)),a.encode(Xw(e,n)));return l!==0?l:ke(r,s)}}n+=r>65535?2:1}return ke(t.length,e.length)}function Xw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function KP(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ke(t[n],e[n]);return ke(t.length,e.length)}function Ia(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=-62135596800,Zw=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Zw);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jw)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zw}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new At(0,0))}static max(){return new Ce(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Ar.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return ke(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),s=Ar.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):Dm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class it extends Ar{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new it(n)}static emptyPath(){return new it([])}}const GP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ar{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return GP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e_}static keyField(){return new Wt([e_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(it.fromString(e))}static fromName(e){return new xe(it.fromString(e).popFirst(5))}static empty(){return new xe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function QP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new is(s,xe.empty(),e)}function YP(t){return new is(t.readTime,t.key,pu)}class is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new is(Ce.min(),xe.empty(),pu)}static max(){return new is(Ce.max(),xe.empty(),pu)}}function XP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==JP)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},d=>r(d))}),l=!0,a===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next(m=>{l[p]=m,++c,c===a&&r(l)},m=>s(m))}})}static doWhile(e,n){return new J((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function ek(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ad.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function Rd(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function tk(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="";function nk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=t_(e)),e=rk(t.get(n),e);return t_(e)}function rk(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case MT:n+="";break;default:n+=a}}return n}function t_(t){return t+MT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??$t.RED,this.left=s??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new $t(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,s,a){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Rt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new FT("Invalid base64 string: "+a):a}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const ik=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(t){if(qe(!!t),typeof t=="string"){let e=0;const n=ik.exec(t);if(qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function os(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="server_timestamp",BT="__type__",zT="__previous_value__",$T="__local_write_time__";function Fg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[BT])===null||n===void 0?void 0:n.stringValue)===UT}function Pd(t){const e=t.mapValue.fields[zT];return Fg(e)?Pd(e):e}function mu(t){const e=ss(t.mapValue.fields[$T].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,s,a,l,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}}const Jh="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||Jh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="__type__",ok="__max__",mh={mapValue:{}},WT="__vector__",Zh="value";function as(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fg(t)?4:lk(t)?9007199254740991:ak(t)?10:11:Se()}function Vr(t,e){if(t===e)return!0;const n=as(t);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mu(t).isEqual(mu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ss(s.timestampValue),c=ss(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return os(s.bytesValue).isEqual(os(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return mt(s.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return mt(s.integerValue)===mt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=mt(s.doubleValue),c=mt(a.doubleValue);return l===c?Xh(l)===Xh(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Ia(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(n_(l)!==n_(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Vr(l[d],c[d])))return!1;return!0}(t,e);default:return Se()}}function yu(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function ba(t,e){if(t===e)return 0;const n=as(t),r=as(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=mt(a.integerValue||a.doubleValue),d=mt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return i_(t.timestampValue,e.timestampValue);case 4:return i_(mu(t),mu(e));case 5:return Dm(t.stringValue,e.stringValue);case 6:return function(a,l){const c=os(a),d=os(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=ke(c[p],d[p]);if(m!==0)return m}return ke(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=ke(mt(a.latitude),mt(l.latitude));return c!==0?c:ke(mt(a.longitude),mt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return s_(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,d,p,m;const y=a.fields||{},x=l.fields||{},S=(c=y[Zh])===null||c===void 0?void 0:c.arrayValue,A=(d=x[Zh])===null||d===void 0?void 0:d.arrayValue,R=ke(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:s_(S,A)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===mh.mapValue&&l===mh.mapValue)return 0;if(a===mh.mapValue)return 1;if(l===mh.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const x=Dm(d[y],m[y]);if(x!==0)return x;const S=ba(c[d[y]],p[m[y]]);if(S!==0)return S}return ke(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Se()}}function i_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=ss(t),r=ss(e),s=ke(n.seconds,r.seconds);return s!==0?s:ke(n.nanos,r.nanos)}function s_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=ba(n[s],r[s]);if(a)return a}return ke(n.length,r.length)}function Ca(t){return Lm(t)}function Lm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return os(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Lm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Lm(n.fields[l])}`;return s+"}"}(t.mapValue):Se()}function Ph(t){switch(as(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pd(t);return e?16+Ph(e):16;case 5:return 2*t.stringValue.length;case 6:return os(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Ph(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return hs(r.fields,(a,l)=>{s+=a.length+Ph(l)}),s}(t.mapValue);default:throw Se()}}function Vm(t){return!!t&&"integerValue"in t}function Ug(t){return!!t&&"arrayValue"in t}function o_(t){return!!t&&"nullValue"in t}function a_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kh(t){return!!t&&"mapValue"in t}function ak(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[HT])===null||n===void 0?void 0:n.stringValue)===WT}function tu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ok}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=Wt.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=tu(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];kh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){hs(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new wn(tu(this.value))}}function qT(t){const e=[];return hs(t.fields,(n,r)=>{const s=new Wt([n]);if(kh(r)){const a=qT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new en(e,0,Ce.min(),Ce.min(),Ce.min(),wn.empty(),0)}static newFoundDocument(e,n,r,s){return new en(e,1,n,Ce.min(),r,s,0)}static newNoDocument(e,n){return new en(e,2,n,Ce.min(),Ce.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Ce.min(),Ce.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.position=e,this.inclusive=n}}function l_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(l.referenceValue),n.key):r=ba(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function u_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n="asc"){this.field=e,this.dir=n}}function uk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{}class Ct extends KT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hk(e,n,r):n==="array-contains"?new pk(e,r):n==="in"?new mk(e,r):n==="not-in"?new gk(e,r):n==="array-contains-any"?new yk(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dk(e,r):new fk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ba(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends KT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Or(e,n)}matches(e){return GT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function GT(t){return t.op==="and"}function QT(t){return ck(t)&&GT(t)}function ck(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function Om(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Ca(t.value);if(QT(t))return t.filters.map(e=>Om(e)).join(",");{const e=t.filters.map(n=>Om(n)).join(",");return`${t.op}(${e})`}}function YT(t,e){return t instanceof Ct?function(r,s){return s instanceof Ct&&r.op===s.op&&r.field.isEqual(s.field)&&Vr(r.value,s.value)}(t,e):t instanceof Or?function(r,s){return s instanceof Or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&YT(l,s.filters[c]),!0):!1}(t,e):void Se()}function XT(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Ca(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(XT).join(" ,")+"}"}(t):"Filter"}class hk extends Ct{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class dk extends Ct{constructor(e,n){super(e,"in",n),this.keys=JT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fk extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=JT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class pk extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ug(n)&&yu(n.arrayValue,this.value)}}class mk extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class gk extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yu(this.value.arrayValue,n)}}class yk extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function c_(t,e=null,n=[],r=[],s=null,a=null,l=null){return new vk(t,e,n,r,s,a,l)}function Bg(t){const e=Ae(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Om(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ca(r)).join(",")),e.le=n}return e.le}function zg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!u_(t.startAt,e.startAt)&&u_(t.endAt,e.endAt)}function Mm(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function wk(t,e,n,r,s,a,l,c){return new kd(t,e,n,r,s,a,l,c)}function ZT(t){return new kd(t)}function h_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _k(t){return t.collectionGroup!==null}function nu(t){const e=Ae(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Rt(Wt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new td(a,r))}),n.has(Wt.keyField().canonicalString())||e.he.push(new td(Wt.keyField(),r))}return e.he}function Rr(t){const e=Ae(t);return e.Pe||(e.Pe=xk(e,nu(t))),e.Pe}function xk(t,e){if(t.limitType==="F")return c_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new td(s.field,a)});const n=t.endAt?new ed(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ed(t.startAt.position,t.startAt.inclusive):null;return c_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jm(t,e,n){return new kd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nd(t,e){return zg(Rr(t),Rr(e))&&t.limitType===e.limitType}function e1(t){return`${Bg(Rr(t))}|lt:${t.limitType}`}function la(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>XT(s)).join(", ")}]`),Rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ca(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ca(s)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function Dd(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of nu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const p=l_(l,c,d);return l.inclusive?p<=0:p<0}(r.startAt,nu(r),s)||r.endAt&&!function(l,c,d){const p=l_(l,c,d);return l.inclusive?p>=0:p>0}(r.endAt,nu(r),s))}(t,e)}function Ek(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t1(t){return(e,n)=>{let r=!1;for(const s of nu(t)){const a=Tk(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Tk(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(a,l,c){const d=l.data.field(a),p=c.data.field(a);return d!==null&&p!==null?ba(d,p):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return jT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new ut(xe.comparator);function ci(){return Sk}const n1=new ut(xe.comparator);function Jl(...t){let e=n1;for(const n of t)e=e.insert(n.key,n);return e}function r1(t){let e=n1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ks(){return ru()}function i1(){return ru()}function ru(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ik=new ut(xe.comparator),bk=new Rt(xe.comparator);function Ve(...t){let e=bk;for(const n of t)e=e.add(n);return e}const Ck=new Rt(ke);function Ak(){return Ck}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function s1(t){return{integerValue:""+t}}function Rk(t,e){return tk(e)?s1(e):$g(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this._=void 0}}function Pk(t,e,n){return t instanceof nd?function(s,a){const l={fields:{[BT]:{stringValue:UT},[$T]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Fg(a)&&(a=Pd(a)),a&&(l.fields[zT]=a),{mapValue:l}}(n,e):t instanceof vu?a1(t,e):t instanceof wu?l1(t,e):function(s,a){const l=o1(s,a),c=d_(l)+d_(s.Ie);return Vm(l)&&Vm(s.Ie)?s1(c):$g(s.serializer,c)}(t,e)}function kk(t,e,n){return t instanceof vu?a1(t,e):t instanceof wu?l1(t,e):n}function o1(t,e){return t instanceof rd?function(r){return Vm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class nd extends Ld{}class vu extends Ld{constructor(e){super(),this.elements=e}}function a1(t,e){const n=u1(e);for(const r of t.elements)n.some(s=>Vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class wu extends Ld{constructor(e){super(),this.elements=e}}function l1(t,e){let n=u1(e);for(const r of t.elements)n=n.filter(s=>!Vr(s,r));return{arrayValue:{values:n}}}class rd extends Ld{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function d_(t){return mt(t.integerValue||t.doubleValue)}function u1(t){return Ug(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Nk(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof vu&&s instanceof vu||r instanceof wu&&s instanceof wu?Ia(r.elements,s.elements,Vr):r instanceof rd&&s instanceof rd?Vr(r.Ie,s.Ie):r instanceof nd&&s instanceof nd}(t.transform,e.transform)}class Dk{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vd{}function c1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hg(t.key,hr.none()):new Lu(t.key,t.data,hr.none());{const n=t.data,r=wn.empty();let s=new Rt(Wt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new ds(t.key,r,new Pn(s.toArray()),hr.none())}}function Lk(t,e,n){t instanceof Lu?function(s,a,l){const c=s.value.clone(),d=p_(s.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ds?function(s,a,l){if(!Nh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=p_(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(h1(s)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function iu(t,e,n,r){return t instanceof Lu?function(a,l,c,d){if(!Nh(a.precondition,l))return c;const p=a.value.clone(),m=m_(a.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ds?function(a,l,c,d){if(!Nh(a.precondition,l))return c;const p=m_(a.fieldTransforms,d,l),m=l.data;return m.setAll(h1(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,l,c){return Nh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function Vk(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=o1(r.transform,s||null);a!=null&&(n===null&&(n=wn.empty()),n.set(r.field,a))}return n||null}function f_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ia(r,s,(a,l)=>Nk(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lu extends Vd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ds extends Vd{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function h1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function p_(t,e,n){const r=new Map;qe(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,kk(l,c,n[s]))}return r}function m_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,Pk(a,l,e))}return r}class Hg extends Vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ok extends Vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Lk(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=i1();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const d=c1(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(n,r)=>f_(n,r))&&Ia(this.baseMutations,e.baseMutations,(n,r)=>f_(n,r))}}class Wg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){qe(e.mutations.length===r.length);let s=function(){return Ik}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Wg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Fe;function Uk(t){switch(t){case re.OK:return Se();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Se()}}function d1(t){if(t===void 0)return ui("GRPC error has no .code"),re.UNKNOWN;switch(t){case wt.OK:return re.OK;case wt.CANCELLED:return re.CANCELLED;case wt.UNKNOWN:return re.UNKNOWN;case wt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case wt.INTERNAL:return re.INTERNAL;case wt.UNAVAILABLE:return re.UNAVAILABLE;case wt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case wt.NOT_FOUND:return re.NOT_FOUND;case wt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case wt.ABORTED:return re.ABORTED;case wt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case wt.DATA_LOSS:return re.DATA_LOSS;default:return Se()}}(Fe=wt||(wt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new Ji([4294967295,4294967295],0);function g_(t){const e=VT().encode(t),n=new AT;return n.update(e),new Uint8Array(n.digest())}function y_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ji([n,r],0),new Ji([s,a],0)]}class qg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ji.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Ji.fromNumber(r)));return s.compare(Bk)===1&&(s=new Ji([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=g_(e),[r,s]=y_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new qg(a,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const n=g_(e),[r,s]=y_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Od(Ce.min(),s,new ut(ke),ci(),Ve())}}class Vu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vu(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class f1{constructor(e,n){this.targetId=e,this.ge=n}}class p1{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class v_{constructor(){this.pe=0,this.ye=w_(),this.we=Kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),r=Ve();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new Vu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=w_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class zk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ci(),this.$e=gh(),this.Ue=gh(),this.Ke=new ut(ke)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const a=s.target;if(Mm(a))if(r===0){const l=new xe(a.path);this.ze(n,l,en.newNoDocument(l,Ce.min()))}else qe(r===1);else{const l=this.et(n);if(l!==r){const c=this.tt(e),d=c?this.nt(c,e,l):1;if(d!==0){this.Ye(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=os(r).toUint8Array()}catch(d){if(d instanceof FT)return Sa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new qg(l,s,a)}catch(d){return Sa(d instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,a,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&Mm(c.target)){const d=new xe(c.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,en.newNoDocument(d,e))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let r=Ve();this.Ue.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new Od(e,n,this.Ke,this.Qe,r);return this.Qe=ci(),this.$e=gh(),this.Ue=gh(),this.Ke=new ut(ke),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new v_,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rt(ke),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(ke),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new v_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function gh(){return new ut(xe.comparator)}function w_(){return new ut(xe.comparator)}const $k={asc:"ASCENDING",desc:"DESCENDING"},Hk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wk={and:"AND",or:"OR"};class qk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(t,e){return t.useProto3Json||Rd(e)?e:{value:e}}function id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kk(t,e){return id(t,e.toTimestamp())}function Pr(t){return qe(!!t),Ce.fromTimestamp(function(n){const r=ss(n);return new At(r.seconds,r.nanos)}(t))}function Kg(t,e){return Um(t,e).canonicalString()}function Um(t,e){const n=function(s){return new it(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function g1(t){const e=it.fromString(t);return qe(x1(e)),e}function Bm(t,e){return Kg(t.databaseId,e.path)}function Zp(t,e){const n=g1(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(v1(n))}function y1(t,e){return Kg(t.databaseId,e)}function Gk(t){const e=g1(t);return e.length===4?it.emptyPath():v1(e)}function zm(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v1(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function __(t,e,n){return{name:Bm(t,e),fields:n.value.mapValue.fields}}function Qk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(qe(m===void 0||typeof m=="string"),Kt.fromBase64String(m||"")):(qe(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Kt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?re.UNKNOWN:d1(p.code);return new ye(m,p.message||"")}(l);n=new p1(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zp(t,r.document.name),a=Pr(r.document.updateTime),l=r.document.createTime?Pr(r.document.createTime):Ce.min(),c=new wn({mapValue:{fields:r.document.fields}}),d=en.newFoundDocument(s,a,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];n=new Dh(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zp(t,r.document),a=r.readTime?Pr(r.readTime):Ce.min(),l=en.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Dh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zp(t,r.document),a=r.removedTargetIds||[];n=new Dh([],a,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new Fk(s,a),c=r.targetId;n=new f1(c,l)}}return n}function Yk(t,e){let n;if(e instanceof Lu)n={update:__(t,e.key,e.value)};else if(e instanceof Hg)n={delete:Bm(t,e.key)};else if(e instanceof ds)n={update:__(t,e.key,e.data),updateMask:sN(e.fieldMask)};else{if(!(e instanceof Ok))return Se();n={verify:Bm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof nd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rd)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:Kk(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()}(t,e.precondition)),n}function Xk(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?Pr(s.updateTime):Pr(a);return l.isEqual(Ce.min())&&(l=Pr(a)),new Dk(l,s.transformResults||[])}(n,e))):[]}function Jk(t,e){return{documents:[y1(t,e.path)]}}function Zk(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=y1(t,s);const a=function(p){if(p.length!==0)return _1(Or.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(m=>function(x){return{field:ua(x.field),direction:nN(x.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Fm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:s}}function eN(t){let e=Gk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){qe(r===1);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(y){const x=w1(y);return x instanceof Or&&QT(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(x=>function(A){return new td(ca(A.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(x))}(n.orderBy));let c=null;n.limit&&(c=function(y){let x;return x=typeof y=="object"?y.value:y,Rd(x)?null:x}(n.limit));let d=null;n.startAt&&(d=function(y){const x=!!y.before,S=y.values||[];return new ed(S,x)}(n.startAt));let p=null;return n.endAt&&(p=function(y){const x=!y.before,S=y.values||[];return new ed(S,x)}(n.endAt)),wk(e,s,l,a,c,"F",d,p)}function tN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function w1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ca(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ca(n.unaryFilter.field);return Ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ca(n.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ca(n.unaryFilter.field);return Ct.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(ca(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(r=>w1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function nN(t){return $k[t]}function rN(t){return Hk[t]}function iN(t){return Wk[t]}function ua(t){return{fieldPath:t.canonicalString()}}function ca(t){return Wt.fromServerFormat(t.fieldPath)}function _1(t){return t instanceof Ct?function(n){if(n.op==="=="){if(a_(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(o_(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a_(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(o_(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:rN(n.op),value:n.value}}}(t):t instanceof Or?function(n){const r=n.getFilters().map(s=>_1(s));return r.length===1?r[0]:{compositeFilter:{op:iN(n.op),filters:r}}}(t):Se()}function sN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function x1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r,s,a=Ce.min(),l=Ce.min(),c=Kt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.Tt=e}}function aN(t){const e=eN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.Tn=new uN}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(is.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class uN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Rt(it.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Rt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E1=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(E1,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Aa(0)}static Kn(){return new Aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",cN=1048576;function T_([t,e],[n,r]){const s=ke(t,n);return s===0?ke(e,r):s}class hN{constructor(e){this.Hn=e,this.buffer=new Rt(T_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();T_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(E_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fa(n)?ce(E_,"Ignoring IndexedDB error during garbage collection: ",n):await ja(n)}await this.er(3e5)})}}class fN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Ad.ae);const r=new hN(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(x_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,a,l,c,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),aa()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function pN(t,e){return new fN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&iu(r.mutation,s,Pn.empty(),At.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const s=Ks();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Jl();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Ks();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let a=ci();const l=ru(),c=function(){return ru()}();return n.forEach((d,p)=>{const m=r.get(p.key);s.has(p.key)&&(m===void 0||m.mutation instanceof ds)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),iu(m.mutation,p,m.mutation.getFieldMask(),At.now())):l.set(p.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,m)=>l.set(p,m)),n.forEach((p,m)=>{var y;return c.set(p,new gN(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=ru();let s=new ut((l,c)=>l-c),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let m=r.get(d)||Pn.empty();m=c.applyToLocalView(p,m),r.set(d,m);const y=(s.get(c.batchId)||Ve()).add(d);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,y=i1();m.forEach(x=>{if(!a.has(x)){const S=c1(n.get(x),r.get(x));S!==null&&y.set(x,S),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_k(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):J.resolve(Ks());let c=pu,d=a;return l.next(p=>J.forEach(p,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(m)?J.resolve():this.remoteDocumentCache.getEntry(e,m).next(x=>{d=d.insert(m,x)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,Ve())).next(m=>({batchId:c,changes:r1(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let s=Jl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Jl();return this.indexManager.getCollectionParents(e,a).next(c=>J.forEach(c,d=>{const p=function(y,x){return new kd(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(m=>{m.forEach((y,x)=>{l=l.insert(y,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,en.newInvalidDocument(m)))});let c=Jl();return l.forEach((d,p)=>{const m=a.get(d);m!==void 0&&iu(m.mutation,p,Pn.empty(),At.now()),Dd(n,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Pr(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:aN(s.bundledQuery),readTime:Pr(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.overlays=new ut(xe.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ks();return J.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.Et(e,n,a)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=Ks(),a=n.length+1,l=new xe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ut((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=Ks(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=Ks(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=s)););return J.resolve(c)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new jk(n,r));let a=this.Rr.get(n);a===void 0&&(a=Ve(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.Vr=new Rt(Ot.mr),this.gr=new Rt(Ot.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Ot(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new xe(new it([])),r=new Ot(n,e),s=new Ot(n,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new xe(new it([])),r=new Ot(n,e),s=new Ot(n,e+1);let a=Ve();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Ot(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return xe.comparator(e.key,n.key)||ke(e.Cr,n.Cr)}static pr(e,n){return ke(e.Cr,n.Cr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(Ot.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Mk(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new Ot(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?jg:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),s=new Ot(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const c=this.Or(l.Cr);a.push(c)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(ke);return n.forEach(s=>{const a=new Ot(s,0),l=new Ot(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),J.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const l=new Ot(new xe(a),0);let c=new Rt(ke);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(d.Cr)),!0)},l),J.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return J.forEach(n.mutations,s=>{const a=new Ot(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Ot(n,0),s=this.Mr.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.kr=e,this.docs=function(){return new ut(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=ci();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():en.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=ci();const l=n.path,c=new xe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||XP(YP(m),r)<=0||(s.has(m.key)||Dd(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Se()}qr(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TN(this)}getSize(e){return J.resolve(this.size)}}class TN extends mN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.persistence=e,this.Qr=new uo(n=>Bg(n),zg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Gg,this.targetCount=0,this.Kr=Aa.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Aa(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),J.waitFor(a).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ad(0),this.zr=!1,this.zr=!0,this.jr=new _N,this.referenceDelegate=e(this),this.Hr=new SN(this),this.indexManager=new lN,this.remoteDocumentCache=function(s){return new EN(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new oN(n),this.Yr=new vN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new xN(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const s=new IN(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,n){return J.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class IN extends ZP{constructor(e){super(),this.currentSequenceNumber=e}}class Qg{constructor(e){this.persistence=e,this.ti=new Gg,this.ni=null}static ri(e){return new Qg(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,r=>{const s=xe.fromPath(r);return this.si(e,s).next(a=>{a||n.removeEntry(s,Ce.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class sd{constructor(e,n){this.persistence=e,this.oi=new uo(r=>nk(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=pN(this,n)}static ri(e,n){return new sd(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?J.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Ce.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}ar(e,n,r){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Ve(),s=Ve();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Yg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _R()?8:ek(nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new bN;return this._s(e,n,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,n,l,c.size)})}).next(()=>a.result)}us(e,n,r,s){return r.documentReadCount<this.es?(aa()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",la(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(aa()<=Le.DEBUG&&ce("QueryEngine","Query:",la(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(aa()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",la(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):J.resolve())}rs(e,n){if(h_(n))return J.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=jm(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ve(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(n,c);return this.ls(n,p,l,d.readTime)?this.rs(e,jm(n,null,"F")):this.hs(e,p,n,d)}))})))}ss(e,n,r,s){return h_(n)||s.isEqual(Ce.min())?J.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(n,a);return this.ls(n,l,r,s)?J.resolve(null):(aa()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),la(n)),this.hs(e,l,n,QP(s,pu)).next(c=>c))})}cs(e,n){let r=new Rt(t1(e));return n.forEach((s,a)=>{Dd(e,a)&&(r=r.add(a))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,n,r){return aa()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",la(n)),this.ns.getDocumentsMatchingQuery(e,n,is.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="LocalStore",AN=3e8;class RN{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new ut(ke),this.Is=new uo(a=>Bg(a),zg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function PN(t,e,n,r){return new RN(t,e,n,r)}async function S1(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let d=Ve();for(const p of s){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of a){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function kN(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,d,p,m){const y=p.batch,x=y.keys();let S=J.resolve();return x.forEach(A=>{S=S.next(()=>m.getEntry(d,A)).next(R=>{const I=p.docVersions.get(A);qe(I!==null),R.version.compareTo(I)<0&&(y.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),m.addEntry(R)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Ve();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function I1(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function NN(t,e){const n=Ae(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const c=[];e.targetChanges.forEach((m,y)=>{const x=s.get(y);if(!x)return;c.push(n.Hr.removeMatchingKeys(a,m.removedDocuments,y).next(()=>n.Hr.addMatchingKeys(a,m.addedDocuments,y)));let S=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(Kt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),s=s.insert(y,S),function(R,I,L){return R.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=AN?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(x,S,m)&&c.push(n.Hr.updateTargetData(a,S))});let d=ci(),p=Ve();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(DN(a,l,e.documentUpdates).next(m=>{d=m.Vs,p=m.fs})),!r.isEqual(Ce.min())){const m=n.Hr.getLastRemoteSnapshotVersion(a).next(y=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return J.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(n.Ts=s,a))}function DN(t,e,n){let r=Ve(),s=Ve();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=ci();return n.forEach((c,d)=>{const p=a.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ce(Xg,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Vs:l,fs:s}})}function LN(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VN(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(a=>a?(s=a,J.resolve(s)):n.Hr.allocateTargetId(r).next(l=>(s=new Gi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function $m(t,e,n){const r=Ae(t),s=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Fa(l))throw l;ce(Xg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function S_(t,e,n){const r=Ae(t);let s=Ce.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const y=Ae(d),x=y.Is.get(m);return x!==void 0?J.resolve(y.Ts.get(x)):y.Hr.getTargetData(p,m)}(r,l,Rr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?s:Ce.min(),n?a:Ve())).next(c=>(ON(r,Ek(e),c),{documents:c,gs:a})))}function ON(t,e,n){let r=t.Es.get(e)||Ce.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class I_{constructor(){this.activeTargetIds=Ak()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MN{constructor(){this.ho=new I_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new I_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class C_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(b_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function Hm(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="RestConnection",FN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Jh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,a){const l=Hm(),c=this.bo(e,n.toUriEncodedString());ce(em,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,a),this.vo(e,c,d,r).then(p=>(ce(em,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Sa(em,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,n,r,s,a,l){return this.So(e,n,r,s,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,n){const r=FN[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class zN extends UN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const a=Hm();return new Promise((l,c)=>{const d=new RT;d.setWithCredentials(!0),d.listenOnce(PT.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Rh.NO_ERROR:const m=d.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Rh.TIMEOUT:ce(Jt,`RPC '${e}' ${a} timed out`),c(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const y=d.getStatus();if(ce(Jt,`RPC '${e}' ${a} failed with status:`,y,"response text:",d.getResponseText()),y>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const A=function(I){const L=I.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(L)>=0?L:re.UNKNOWN}(S.status);c(new ye(A,S.message))}else c(new ye(re.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ye(re.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ce(Jt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);ce(Jt,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",p,r,15)})}Wo(e,n,r){const s=Hm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=DT(),c=NT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");ce(Jt,`Creating RPC '${e}' stream ${s}: ${m}`,d);const y=l.createWebChannel(m,d);let x=!1,S=!1;const A=new BN({Fo:I=>{S?ce(Jt,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(x||(ce(Jt,`Opening RPC '${e}' stream ${s} transport.`),y.open(),x=!0),ce(Jt,`RPC '${e}' stream ${s} sending:`,I),y.send(I))},Mo:()=>y.close()}),R=(I,L,B)=>{I.listen(L,V=>{try{B(V)}catch(K){setTimeout(()=>{throw K},0)}})};return R(y,Xl.EventType.OPEN,()=>{S||(ce(Jt,`RPC '${e}' stream ${s} transport opened.`),A.Qo())}),R(y,Xl.EventType.CLOSE,()=>{S||(S=!0,ce(Jt,`RPC '${e}' stream ${s} transport closed`),A.Uo())}),R(y,Xl.EventType.ERROR,I=>{S||(S=!0,Sa(Jt,`RPC '${e}' stream ${s} transport errored:`,I),A.Uo(new ye(re.UNAVAILABLE,"The operation could not be completed")))}),R(y,Xl.EventType.MESSAGE,I=>{var L;if(!S){const B=I.data[0];qe(!!B);const V=B,K=(V==null?void 0:V.error)||((L=V[0])===null||L===void 0?void 0:L.error);if(K){ce(Jt,`RPC '${e}' stream ${s} received error:`,K);const X=K.status;let te=function(k){const M=wt[k];if(M!==void 0)return d1(M)}(X),D=K.message;te===void 0&&(te=re.INTERNAL,D="Unknown error status: "+X+" with message "+K.message),S=!0,A.Uo(new ye(te,D)),y.close()}else ce(Jt,`RPC '${e}' stream ${s} received:`,B),A.Ko(B)}}),R(c,kT.STAT_EVENT,I=>{I.stat===Nm.PROXY?ce(Jt,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Nm.NOPROXY&&ce(Jt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){return new qk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="PersistentStream";class C1{constructor(e,n,r,s,a,l,c,d){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new b1(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new ye(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(A_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ce(A_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $N extends C1{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Qk(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ce.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?Pr(l.readTime):Ce.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=zm(this.serializer),n.addTarget=function(a,l){let c;const d=l.target;if(c=Mm(d)?{documents:Jk(a,d)}:{query:Zk(a,d).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=m1(a,l.resumeToken);const p=Fm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ce.min())>0){c.readTime=id(a,l.snapshotVersion.toTimestamp());const p=Fm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=tN(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=zm(this.serializer),n.removeTarget=e,this.I_(n)}}class HN extends C1{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Xk(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=zm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Yk(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{}class qN extends WN{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Um(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(re.UNKNOWN,a.toString())})}Co(e,n,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,Um(n,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(re.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class KN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ui(n),this.N_=!1):ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class GN{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{co(this)&&(ce(ro,"Restarting streams for network reachability change."),await async function(d){const p=Ae(d);p.W_.add(4),await Ou(p),p.j_.set("Unknown"),p.W_.delete(4),await jd(p)}(this))})}),this.j_=new KN(r,s)}}async function jd(t){if(co(t))for(const e of t.G_)await e(!0)}async function Ou(t){for(const e of t.G_)await e(!1)}function A1(t,e){const n=Ae(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),ty(n)?ey(n):Ua(n).c_()&&Zg(n,e))}function Jg(t,e){const n=Ae(t),r=Ua(n);n.K_.delete(e),r.c_()&&R1(n,e),n.K_.size===0&&(r.c_()?r.P_():co(n)&&n.j_.set("Unknown"))}function Zg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ua(t).y_(e)}function R1(t,e){t.H_.Ne(e),Ua(t).w_(e)}function ey(t){t.H_=new zk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ua(t).start(),t.j_.B_()}function ty(t){return co(t)&&!Ua(t).u_()&&t.K_.size>0}function co(t){return Ae(t).W_.size===0}function P1(t){t.H_=void 0}async function QN(t){t.j_.set("Online")}async function YN(t){t.K_.forEach((e,n)=>{Zg(t,e)})}async function XN(t,e){P1(t),ty(t)?(t.j_.q_(e),ey(t)):t.j_.set("Unknown")}async function JN(t,e,n){if(t.j_.set("Online"),e instanceof p1&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.K_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.K_.delete(c),s.H_.removeTarget(c))}(t,e)}catch(r){ce(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await od(t,r)}else if(e instanceof Dh?t.H_.We(e):e instanceof f1?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ce.min()))try{const r=await I1(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.K_.get(p);m&&a.K_.set(p,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const m=a.K_.get(d);if(!m)return;a.K_.set(d,m.withResumeToken(Kt.EMPTY_BYTE_STRING,m.snapshotVersion)),R1(a,d);const y=new Gi(m.target,d,p,m.sequenceNumber);Zg(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ce(ro,"Failed to raise snapshot:",r),await od(t,r)}}async function od(t,e,n){if(!Fa(e))throw e;t.W_.add(1),await Ou(t),t.j_.set("Offline"),n||(n=()=>I1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce(ro,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await jd(t)})}function k1(t,e){return e().catch(n=>od(t,n,e))}async function Fd(t){const e=Ae(t),n=ls(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:jg;for(;ZN(e);)try{const s=await LN(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,e4(e,s)}catch(s){await od(e,s)}N1(e)&&D1(e)}function ZN(t){return co(t)&&t.U_.length<10}function e4(t,e){t.U_.push(e);const n=ls(t);n.c_()&&n.S_&&n.b_(e.mutations)}function N1(t){return co(t)&&!ls(t).u_()&&t.U_.length>0}function D1(t){ls(t).start()}async function t4(t){ls(t).C_()}async function n4(t){const e=ls(t);for(const n of t.U_)e.b_(n.mutations)}async function r4(t,e,n){const r=t.U_.shift(),s=Wg.from(r,e,n);await k1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Fd(t)}async function i4(t,e){e&&ls(t).S_&&await async function(r,s){if(function(l){return Uk(l)&&l!==re.ABORTED}(s.code)){const a=r.U_.shift();ls(r).h_(),await k1(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Fd(r)}}(t,e),N1(t)&&D1(t)}async function R_(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ce(ro,"RemoteStore received new credentials");const r=co(n);n.W_.add(3),await Ou(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await jd(n)}async function s4(t,e){const n=Ae(t);e?(n.W_.delete(2),await jd(n)):e||(n.W_.add(2),await Ou(n),n.j_.set("Unknown"))}function Ua(t){return t.J_||(t.J_=function(n,r,s){const a=Ae(n);return a.M_(),new $N(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:QN.bind(null,t),No:YN.bind(null,t),Lo:XN.bind(null,t),p_:JN.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),ty(t)?ey(t):t.j_.set("Unknown")):(await t.J_.stop(),P1(t))})),t.J_}function ls(t){return t.Y_||(t.Y_=function(n,r,s){const a=Ae(n);return a.M_(),new HN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:t4.bind(null,t),Lo:i4.bind(null,t),D_:n4.bind(null,t),v_:r4.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Fd(t)):(await t.Y_.stop(),t.U_.length>0&&(ce(ro,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new ny(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(t,e){if(ui("AsyncQueue",`${e}: ${t}`),Fa(t))return new ye(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Jl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.Z_=new ut(xe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ra{constructor(e,n,r,s,a,l,c,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Ra(e,n,va.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class a4{constructor(){this.queries=k_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=Ae(n),a=s.queries;s.queries=k_(),a.forEach((l,c)=>{for(const d of c.ta)d.onError(r)})})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function k_(){return new uo(t=>e1(t),Nd)}async function l4(t,e){const n=Ae(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new o4,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=ry(l,`Initialization of query '${la(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&iy(n)}async function u4(t,e){const n=Ae(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function c4(t,e){const n=Ae(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.ta)c.oa(s)&&(r=!0);l.ea=s}}r&&iy(n)}function h4(t,e,n){const r=Ae(t),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(n);r.queries.delete(e)}function iy(t){t.ia.forEach(e=>{e.next()})}var Wm,N_;(N_=Wm||(Wm={}))._a="default",N_.Cache="cache";class d4{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.key=e}}class V1{constructor(e){this.key=e}}class f4{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=t1(e),this.wa=new va(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new P_,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,y)=>{const x=s.get(m),S=Dd(this.query,y)?y:null,A=!!x&&this.mutatedKeys.has(x.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;x&&S?x.data.isEqual(S.data)?A!==R&&(r.track({type:3,doc:S}),I=!0):this.va(x,S)||(r.track({type:2,doc:S}),I=!0,(d&&this.ya(S,d)>0||p&&this.ya(S,p)<0)&&(c=!0)):!x&&S?(r.track({type:0,doc:S}),I=!0):x&&!S&&(r.track({type:1,doc:x}),I=!0,(d||p)&&(c=!0)),I&&(S?(l=l.add(S),a=R?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,y)=>function(S,A){const R=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return R(S)-R(A)}(m.type,y.type)||this.ya(m.doc,y.doc)),this.Ca(r),s=s!=null&&s;const c=n&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,p=d!==this.ga;return this.ga=d,l.length!==0||p?{snapshot:new Ra(this.query,e.wa,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new P_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new V1(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new L1(r))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ra.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const sy="SyncEngine";class p4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class m4{constructor(e){this.key=e,this.Ba=!1}}class g4{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new uo(c=>e1(c),Nd),this.qa=new Map,this.Qa=new Set,this.$a=new ut(xe.comparator),this.Ua=new Map,this.Ka=new Gg,this.Wa={},this.Ga=new Map,this.za=Aa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function y4(t,e,n=!0){const r=B1(t);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await O1(r,e,n,!0),s}async function v4(t,e){const n=B1(t);await O1(n,e,!0,!1)}async function O1(t,e,n,r){const s=await VN(t.localStore,Rr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await w4(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&A1(t.remoteStore,s),c}async function w4(t,e,n,r,s){t.Ha=(y,x,S)=>async function(R,I,L,B){let V=I.view.ba(L);V.ls&&(V=await S_(R.localStore,I.query,!1).then(({documents:D})=>I.view.ba(D,V)));const K=B&&B.targetChanges.get(I.targetId),X=B&&B.targetMismatches.get(I.targetId)!=null,te=I.view.applyChanges(V,R.isPrimaryClient,K,X);return L_(R,I.targetId,te.Ma),te.snapshot}(t,y,x,S);const a=await S_(t.localStore,e,!0),l=new f4(e,a.gs),c=l.ba(a.documents),d=Vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,d);L_(t,n,p.Ma);const m=new p4(e,n,l);return t.ka.set(e,m),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function _4(t,e,n){const r=Ae(t),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!Nd(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await $m(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Jg(r.remoteStore,s.targetId),qm(r,s.targetId)}).catch(ja)):(qm(r,s.targetId),await $m(r.localStore,s.targetId,!0))}async function x4(t,e){const n=Ae(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jg(n.remoteStore,r.targetId))}async function E4(t,e,n){const r=R4(t);try{const s=await function(l,c){const d=Ae(l),p=At.now(),m=c.reduce((S,A)=>S.add(A.key),Ve());let y,x;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=ci(),R=Ve();return d.ds.getEntries(S,m).next(I=>{A=I,A.forEach((L,B)=>{B.isValidDocument()||(R=R.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,A)).next(I=>{y=I;const L=[];for(const B of c){const V=Vk(B,y.get(B.key).overlayedDocument);V!=null&&L.push(new ds(B.key,V,qT(V.value.mapValue),hr.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,L,c)}).next(I=>{x=I;const L=I.applyToLocalDocumentSet(y,R);return d.documentOverlayCache.saveOverlays(S,I.batchId,L)})}).then(()=>({batchId:x.batchId,changes:r1(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let p=l.Wa[l.currentUser.toKey()];p||(p=new ut(ke)),p=p.insert(c,d),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,n),await Mu(r,s.changes),await Fd(r.remoteStore)}catch(s){const a=ry(s,"Failed to persist write");n.reject(a)}}async function M1(t,e){const n=Ae(t);try{const r=await NN(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Ua.get(a);l&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?qe(l.Ba):s.removedDocuments.size>0&&(qe(l.Ba),l.Ba=!1))}),await Mu(n,r,e)}catch(r){await ja(r)}}function D_(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=Ae(l);d.onlineState=c;let p=!1;d.queries.forEach((m,y)=>{for(const x of y.ta)x.sa(c)&&(p=!0)}),p&&iy(d)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T4(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),a=s&&s.key;if(a){let l=new ut(xe.comparator);l=l.insert(a,en.newNoDocument(a,Ce.min()));const c=Ve().add(a),d=new Od(Ce.min(),new Map,new ut(ke),l,c);await M1(r,d),r.$a=r.$a.remove(a),r.Ua.delete(e),oy(r)}else await $m(r.localStore,e,!1).then(()=>qm(r,e,n)).catch(ja)}async function S4(t,e){const n=Ae(t),r=e.batch.batchId;try{const s=await kN(n.localStore,e);F1(n,r,null),j1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mu(n,s)}catch(s){await ja(s)}}async function I4(t,e,n){const r=Ae(t);try{const s=await function(l,c){const d=Ae(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next(y=>(qe(y!==null),m=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(r.localStore,e);F1(r,e,n),j1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mu(r,s)}catch(s){await ja(s)}}function j1(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function F1(t,e,n){const r=Ae(t);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function qm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||U1(t,r)})}function U1(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Jg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),oy(t))}function L_(t,e,n){for(const r of n)r instanceof L1?(t.Ka.addReference(r.key,e),b4(t,r)):r instanceof V1?(ce(sy,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||U1(t,r.key)):Se()}function b4(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ce(sy,"New document in limbo: "+n),t.Qa.add(r),oy(t))}function oy(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new xe(it.fromString(e)),r=t.za.next();t.Ua.set(r,new m4(n)),t.$a=t.$a.insert(n,r),A1(t.remoteStore,new Gi(Rr(ZT(n.path)),r,"TargetPurposeLimboResolution",Ad.ae))}}async function Mu(t,e,n){const r=Ae(t),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,d)=>{l.push(r.Ha(d,e,n).then(p=>{var m;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){s.push(p);const y=Yg.Yi(d.targetId,p);a.push(y)}}))}),await Promise.all(l),r.La.p_(s),await async function(d,p){const m=Ae(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>J.forEach(p,x=>J.forEach(x.Hi,S=>m.persistence.referenceDelegate.addReference(y,x.targetId,S)).next(()=>J.forEach(x.Ji,S=>m.persistence.referenceDelegate.removeReference(y,x.targetId,S)))))}catch(y){if(!Fa(y))throw y;ce(Xg,"Failed to update sequence numbers: "+y)}for(const y of p){const x=y.targetId;if(!y.fromCache){const S=m.Ts.get(x),A=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(A);m.Ts=m.Ts.insert(x,R)}}}(r.localStore,a))}async function C4(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ce(sy,"User change. New user:",e.toKey());const r=await S1(n.localStore,e);n.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(d=>{d.reject(new ye(re.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mu(n,r.Rs)}}function A4(t,e){const n=Ae(t),r=n.Ua.get(e);if(r&&r.Ba)return Ve().add(r.key);{let s=Ve();const a=n.qa.get(e);if(!a)return s;for(const l of a){const c=n.ka.get(l);s=s.unionWith(c.view.Sa)}return s}}function B1(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T4.bind(null,e),e.La.p_=c4.bind(null,e.eventManager),e.La.Ja=h4.bind(null,e.eventManager),e}function R4(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I4.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return PN(this.persistence,new CN,e.initialUser,this.serializer)}Xa(e){return new T1(Qg.ri,this.serializer)}Za(e){return new MN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class P4 extends ad{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){qe(this.persistence.referenceDelegate instanceof sd);const r=this.persistence.referenceDelegate.garbageCollector;return new dN(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new T1(r=>sd.ri(r,n),this.serializer)}}class Km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C4.bind(null,this.syncEngine),await s4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a4}()}createDatastore(e){const n=Md(e.databaseInfo.databaseId),r=function(a){return new zN(a)}(e.databaseInfo);return function(a,l,c,d){return new qN(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,c){return new GN(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>D_(this.syncEngine,n,0),function(){return C_.D()?new C_:new jN}())}createSyncEngine(e,n){return function(s,a,l,c,d,p,m){const y=new g4(s,a,l,c,d,p);return m&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Ae(s);ce(ro,"RemoteStore shutting down."),a.W_.add(5),await Ou(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Km.provider={build:()=>new Km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class N4{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Zt.UNAUTHENTICATED,this.clientId=OT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ce(us,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ce(us,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ry(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nm(t,e){t.asyncQueue.verifyOperationInProgress(),ce(us,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await S1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function V_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await D4(t);ce(us,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>R_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>R_(e.remoteStore,s)),t._onlineComponents=e}async function D4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(us,"Using user provided OfflineComponentProvider");try{await nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Sa("Error using user provided cache. Falling back to memory cache: "+n),await nm(t,new ad)}}else ce(us,"Using default OfflineComponentProvider"),await nm(t,new P4(void 0));return t._offlineComponents}async function z1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(us,"Using user provided OnlineComponentProvider"),await V_(t,t._uninitializedComponentsProvider._online)):(ce(us,"Using default OnlineComponentProvider"),await V_(t,new Km))),t._onlineComponents}function L4(t){return z1(t).then(e=>e.syncEngine)}async function V4(t){const e=await z1(t),n=e.eventManager;return n.onListen=y4.bind(null,e.syncEngine),n.onUnlisten=_4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=x4.bind(null,e.syncEngine),n}function O4(t,e,n={}){const r=new Zi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,p){const m=new k4({next:x=>{m.su(),l.enqueueAndForget(()=>u4(a,y)),x.fromCache&&d.source==="server"?p.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),y=new d4(c,m,{includeMetadataChanges:!0,Ta:!0});return l4(a,y)}(await V4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e,n){if(!n)throw new ye(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M4(t,e,n,r){if(e===!0&&r===!0)throw new ye(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M_(t){if(!xe.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j_(t){if(xe.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ay(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ay(t);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="firestore.googleapis.com",F_=!0;class U_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W1,this.ssl=F_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:F_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cN)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UP;switch(r.type){case"firstParty":return new HP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=O_.get(n);r&&(ce("ComponentProvider","Removing Datastore"),O_.delete(n),r.terminate())}(this),Promise.resolve()}}function j4(t,e,n,r={}){var s;const a=(t=io(t,Ud))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a.host!==W1&&a.host!==c&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!eo(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Zt.MOCK_USER;else{p=fR(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Zt(y)}t._authCredentials=new BP(new LT(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bd(this.firestore,e,this._query)}}class qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class es extends Bd{constructor(e,n,r){super(e,n,ZT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new xe(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function fs(t,e,...n){if(t=qt(t),H1("collection","path",e),t instanceof Ud){const r=it.fromString(e,...n);return j_(r),new es(t,null,r)}{if(!(t instanceof qn||t instanceof es))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return j_(r),new es(t.firestore,null,r)}}function Ba(t,e,...n){if(t=qt(t),arguments.length===1&&(e=OT.newId()),H1("doc","path",e),t instanceof Ud){const r=it.fromString(e,...n);return M_(r),new qn(t,null,new xe(r))}{if(!(t instanceof qn||t instanceof es))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return M_(r),new qn(t.firestore,t instanceof es?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new b1(this,"async_queue_retry"),this.Su=()=>{const r=tm();r&&ce(B_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Zi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fa(e))throw e;ce(B_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw ui("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=ny.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ju extends Ud{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new z_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function F4(t,e){const n=typeof t=="object"?t:IT(),r=typeof t=="string"?t:Jh,s=Og(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=hR("firestore");a&&j4(s,...a)}return s}function q1(t){if(t._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U4(t),t._firestoreClient}function U4(t){var e,n,r;const s=t._freezeSettings(),a=function(c,d,p,m){return new sk(c,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$1(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new N4(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(Kt.fromBase64String(e))}catch(n){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pa(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=/^__.*__$/;class z4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}class K1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function G1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class hy{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new hy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ld(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(G1(this.Lu)&&B4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class $4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Md(e)}ju(e,n,r,s=!1){return new hy({Lu:e,methodName:n,zu:r,path:Wt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q1(t){const e=t._freezeSettings(),n=Md(t._databaseId);return new $4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H4(t,e,n,r,s,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,n,s);dy("Data must be an object, but it was:",l,r);const c=Y1(r,l);let d,p;if(a.merge)d=new Pn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const x=Gm(e,y,n);if(!l.contains(x))throw new ye(re.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);J1(m,x)||m.push(x)}d=new Pn(m),p=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,p=l.fieldTransforms;return new z4(new wn(c),d,p)}class $d extends ly{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $d}}function W4(t,e,n,r){const s=t.ju(1,e,n);dy("Data must be an object, but it was:",s,r);const a=[],l=wn.empty();hs(r,(d,p)=>{const m=fy(e,d,n);p=qt(p);const y=s.Uu(m);if(p instanceof $d)a.push(m);else{const x=Hd(p,y);x!=null&&(a.push(m),l.set(m,x))}});const c=new Pn(a);return new K1(l,c,s.fieldTransforms)}function q4(t,e,n,r,s,a){const l=t.ju(1,e,n),c=[Gm(e,r,n)],d=[s];if(a.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)c.push(Gm(e,a[x])),d.push(a[x+1]);const p=[],m=wn.empty();for(let x=c.length-1;x>=0;--x)if(!J1(p,c[x])){const S=c[x];let A=d[x];A=qt(A);const R=l.Uu(S);if(A instanceof $d)p.push(S);else{const I=Hd(A,R);I!=null&&(p.push(S),m.set(S,I))}}const y=new Pn(p);return new K1(m,y,l.fieldTransforms)}function Hd(t,e){if(X1(t=qt(t)))return dy("Unsupported field value:",e,t),Y1(t,e);if(t instanceof ly)return function(r,s){if(!G1(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let d=Hd(c,s.Ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=At.fromDate(r);return{timestampValue:id(s.serializer,a)}}if(r instanceof At){const a=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:id(s.serializer,a)}}if(r instanceof uy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pa)return{bytesValue:m1(s.serializer,r._byteString)};if(r instanceof qn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Kg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof cy)return function(l,c){return{mapValue:{fields:{[HT]:{stringValue:WT},[Zh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return $g(c.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${ay(r)}`)}(t,e)}function Y1(t,e){const n={};return jT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(t,(r,s)=>{const a=Hd(s,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function X1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof uy||t instanceof Pa||t instanceof qn||t instanceof ly||t instanceof cy)}function dy(t,e,n){if(!X1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ay(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Gm(t,e,n){if((e=qt(e))instanceof zd)return e._internalPath;if(typeof e=="string")return fy(t,e);throw ld("Field path arguments must be of type string or ",t,!1,void 0,n)}const K4=new RegExp("[~\\*/\\[\\]]");function fy(t,e,n){if(e.search(K4)>=0)throw ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zd(...e.split("."))._internalPath}catch{throw ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ld(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new ye(re.INVALID_ARGUMENT,c+t+d)}function J1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G4 extends Z1{data(){return super.data()}}function eS(t,e){return typeof e=="string"?fy(t,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y4{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hs(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Zh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>mt(l.doubleValue));return new cy(a)}convertGeoPoint(e){return new uy(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=ss(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);qe(x1(r));const s=new gu(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return s.isEqual(n)||ui(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class J4 extends Z1{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(eS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lh extends J4{data(e={}){return super.data(e)}}class Z4{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lh(this._firestore,this._userDataWriter,r.key,r,new vh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new Lh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new vh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Lh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new vh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:eD(c.type),doc:d,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class tD extends Y4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function Fu(t){t=io(t,Bd);const e=io(t.firestore,ju),n=q1(e),r=new tD(e);return Q4(t._query),O4(n,t._query).then(s=>new Z4(e,r,t,s))}function Wd(t,e,n,...r){t=io(t,qn);const s=io(t.firestore,ju),a=Q1(s);let l;return l=typeof(e=qt(e))=="string"||e instanceof zd?q4(a,"updateDoc",t._key,e,n,r):W4(a,"updateDoc",t._key,e),my(s,[l.toMutation(t._key,hr.exists(!0))])}function nD(t){return my(io(t.firestore,ju),[new Hg(t._key,hr.none())])}function py(t,e){const n=io(t.firestore,ju),r=Ba(t),s=X4(t.converter,e);return my(n,[H4(Q1(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}function my(t,e){return function(r,s){const a=new Zi;return r.asyncQueue.enqueueAndForget(async()=>E4(await L4(r),s,a)),a.promise}(q1(t),e)}(function(e,n=!0){(function(s){Ma=s})(Oa),Ta(new to("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new ju(new zP(r.getProvider("auth-internal")),new WP(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(p.options.projectId,m)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Xi(Gw,Qw,e),Xi(Gw,Qw,"esm2017")})();function gy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function tS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rD=tS,nS=new Nu("auth","Firebase",tS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Lg("@firebase/auth");function iD(t,...e){ud.logLevel<=Le.WARN&&ud.warn(`Auth (${Oa}): ${t}`,...e)}function Vh(t,...e){ud.logLevel<=Le.ERROR&&ud.error(`Auth (${Oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw yy(t,...e)}function kr(t,...e){return yy(t,...e)}function rS(t,e,n){const r=Object.assign(Object.assign({},rD()),{[e]:n});return new Nu("auth","Firebase",r).create(e,{appName:t.name})}function ts(t){return rS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nS.create(t,...e)}function Ee(t,e,...n){if(!t)throw yy(e,...n)}function ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vh(e),new Error(e)}function hi(t,e){t||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sD(){return $_()==="http:"||$_()==="https:"}function $_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sD()||yR()||"connection"in navigator)?navigator.onLine:!0}function aD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=pR()||vR()}get(){return oD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new Uu(3e4,6e4);function ho(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ps(t,e,n,r,s={}){return sS(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Du(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},a);return gR()||(p.referrerPolicy="no-referrer"),iS.fetch()(oS(t,t.config.apiHost,n,c),p)})}async function sS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lD),e);try{const s=new hD(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw wh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw wh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw wh(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw rS(t,m,p);fr(t,m)}}catch(s){if(s instanceof mi)throw s;fr(t,"network-request-failed",{message:String(s)})}}async function qd(t,e,n,r,s={}){const a=await ps(t,e,n,r,s);return"mfaPendingCredential"in a&&fr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function oS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?vy(t.config,s):`${t.config.apiScheme}://${s}`}function cD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),uD.get())})}}function wh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=kr(t,e,r);return s.customData._tokenResponse=n,s}function H_(t){return t!==void 0&&t.enterprise!==void 0}class dD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fD(t,e){return ps(t,"GET","/v2/recaptchaConfig",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e){return ps(t,"POST","/v1/accounts:delete",e)}async function aS(t,e){return ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mD(t,e=!1){const n=qt(t),r=await n.getIdToken(e),s=wy(r);Ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:su(rm(s.auth_time)),issuedAtTime:su(rm(s.iat)),expirationTime:su(rm(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rm(t){return Number(t)*1e3}function wy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const s=vT(n);return s?JSON.parse(s):(Vh("Failed to decode base64 JWT payload"),null)}catch(s){return Vh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function W_(t){const e=wy(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&gD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await _u(t,aS(n,{idToken:r}));Ee(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?lS(a.providerUserInfo):[],c=wD(t.providerData,l),d=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=d?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ym(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function vD(t){const e=qt(t);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lS(t){return t.map(e=>{var{providerId:n}=e,r=gy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e){const n=await sS(t,{},async()=>{const r=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=oS(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",iS.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xD(t,e){return ps(t,"POST","/v2/accounts:revokeToken",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=W_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await _D(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new wa;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ee(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ii{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ym(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mD(this,e)}reload(){return vD(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(ts(this.auth));const e=await this.getIdToken();return await _u(this,pD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,c,d,p,m;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(s=n.email)!==null&&s!==void 0?s:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=n.photoURL)!==null&&l!==void 0?l:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,I=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,L=(p=n.createdAt)!==null&&p!==void 0?p:void 0,B=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:V,emailVerified:K,isAnonymous:X,providerData:te,stsTokenManager:D}=n;Ee(V&&D,e,"internal-error");const C=wa.fromJSON(this.name,D);Ee(typeof V=="string",e,"internal-error"),Bi(y,e.name),Bi(x,e.name),Ee(typeof K=="boolean",e,"internal-error"),Ee(typeof X=="boolean",e,"internal-error"),Bi(S,e.name),Bi(A,e.name),Bi(R,e.name),Bi(I,e.name),Bi(L,e.name),Bi(B,e.name);const k=new ii({uid:V,auth:e,email:x,emailVerified:K,displayName:y,isAnonymous:X,photoURL:A,phoneNumber:S,tenantId:R,stsTokenManager:C,createdAt:L,lastLoginAt:B});return te&&Array.isArray(te)&&(k.providerData=te.map(M=>Object.assign({},M))),I&&(k._redirectEventId=I),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new wa;s.updateFromServerResponse(n);const a=new ii({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ee(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?lS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new wa;c.updateFromIdToken(r);const d=new ii({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ym(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function si(t){hi(t instanceof Function,"Expected a class definition");let e=q_.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uS.type="NONE";const K_=uS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t,e,n){return`firebase:${t}:${e}:${n}`}class _a{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Oh(this.userKey,s.apiKey,a),this.fullPersistenceKey=Oh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _a(si(K_),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||si(K_);const l=Oh(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=await p._get(l);if(m){const y=ii._fromJSON(e,m);p!==a&&(c=y),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new _a(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new _a(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mS(e))return"Blackberry";if(gS(e))return"Webos";if(hS(e))return"Safari";if((e.includes("chrome/")||dS(e))&&!e.includes("edge/"))return"Chrome";if(pS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cS(t=nn()){return/firefox\//i.test(t)}function hS(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dS(t=nn()){return/crios\//i.test(t)}function fS(t=nn()){return/iemobile/i.test(t)}function pS(t=nn()){return/android/i.test(t)}function mS(t=nn()){return/blackberry/i.test(t)}function gS(t=nn()){return/webos/i.test(t)}function _y(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ED(t=nn()){var e;return _y(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TD(){return wR()&&document.documentMode===10}function yS(t=nn()){return _y(t)||pS(t)||gS(t)||mS(t)||/windows phone/i.test(t)||fS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e=[]){let n;switch(t){case"Browser":n=G_(nn());break;case"Worker":n=`${G_(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e={}){return ps(t,"GET","/v2/passwordPolicy",ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=6;class CD{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:bD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new SD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await _a.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await aS(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(ts(this));const n=e?qt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ID(this),n=new CD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function za(t){return qt(t)}class Q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=CR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RD(t){Kd=t}function wS(t){return Kd.loadJS(t)}function PD(){return Kd.recaptchaEnterpriseScript}function kD(){return Kd.gapiScript}function ND(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class DD{constructor(){this.enterprise=new LD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VD="recaptcha-enterprise",_S="NO_RECAPTCHA";class OD{constructor(e){this.type=VD,this.auth=za(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{fD(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new dD(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function s(a,l,c){const d=window.grecaptcha;H_(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(_S)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DD().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&H_(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=PD();d.length!==0&&(d+=c),wS(d).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function Y_(t,e,n,r=!1,s=!1){const a=new OD(t);let l;if(s)l=_S;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function X_(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Y_(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Y_(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t,e){const n=Og(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(eo(a,e??{}))return s;fr(s,"already-initialized")}return n.initialize({options:e})}function jD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FD(t,e,n){const r=za(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=xS(e),{host:l,port:c}=UD(e),d=c===null?"":`:${c}`,p={url:`${a}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(eo(p,r.config.emulator)&&eo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,BD()}function xS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UD(t){const e=xS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:J_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:J_(l)}}}function J_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function zD(t,e){return ps(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e){return qd(t,"POST","/v1/accounts:signInWithPassword",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e){return qd(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}async function WD(t,e){return qd(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends xy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new xu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,n,"signInWithPassword",$D);case"emailLink":return HD(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,r,"signUpPassword",zD);case"emailLink":return WD(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e){return qd(t,"POST","/v1/accounts:signInWithIdp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="http://localhost";class so extends xy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=gy(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new so(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xa(e,n)}buildRequest(){const e={requestUri:qD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GD(t){const e=Ql(Yl(t)).link,n=e?Ql(Yl(e)).deep_link_id:null,r=Ql(Yl(t)).deep_link_id;return(r?Ql(Yl(r)).link:null)||r||n||e||t}class Ey{constructor(e){var n,r,s,a,l,c;const d=Ql(Yl(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,y=KD((s=d.mode)!==null&&s!==void 0?s:null);Ee(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=GD(e);try{return new Ey(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.providerId=$a.PROVIDER_ID}static credential(e,n){return xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ey.parseLink(n);return Ee(r,"argument-error"),xu._fromEmailAndCode(e,r.code,r.tenantId)}}$a.PROVIDER_ID="password";$a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends ES{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Bu{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return so._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Bu{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Bu{constructor(){super("twitter.com")}static credential(e,n){return so._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ii._fromIdTokenResponse(e,r,s),l=Z_(r);return new ka({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Z_(r);return new ka({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Z_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends mi{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new hd(e,n,r,s)}}function TS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(t,a,e,r):a})}async function QD(t,e,n=!1){const r=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ka._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(ts(r));const s="reauthenticate";try{const a=await _u(t,TS(r,s,e,t),n);Ee(a.idToken,r,"internal-error");const l=wy(a.idToken);Ee(l,r,"internal-error");const{sub:c}=l;return Ee(t.uid===c,r,"user-mismatch"),ka._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(t,e,n=!1){if(ur(t.app))return Promise.reject(ts(t));const r="signIn",s=await TS(t,r,e),a=await ka._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function XD(t,e){return SS(za(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t){const e=za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ZD(t,e,n){return ur(t.app)?Promise.reject(ts(t)):XD(qt(t),$a.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JD(t),r})}function eL(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function tL(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function nL(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function rL(t){return qt(t).signOut()}const dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=1e3,sL=10;class bS extends IS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);TD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,sL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bS.type="LOCAL";const oL=bS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS extends IS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CS.type="SESSION";const AS=CS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Gd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,a)),d=await aL(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const p=Ty("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const x=y;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(x.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function uL(t){Nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function cL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dL(){return RS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebaseLocalStorageDb",fL=1,fd="firebaseLocalStorage",kS="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qd(t,e){return t.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function pL(){const t=indexedDB.deleteDatabase(PS);return new zu(t).toPromise()}function Xm(){const t=indexedDB.open(PS,fL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fd,{keyPath:kS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fd)?e(r):(r.close(),await pL(),e(await Xm()))})})}async function ex(t,e,n){const r=Qd(t,!0).put({[kS]:e,value:n});return new zu(r).toPromise()}async function mL(t,e){const n=Qd(t,!1).get(e),r=await new zu(n).toPromise();return r===void 0?null:r.value}function tx(t,e){const n=Qd(t,!0).delete(e);return new zu(n).toPromise()}const gL=800,yL=3;class NS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gd._getInstance(dL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cL(),!this.activeServiceWorker)return;this.sender=new lL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await ex(e,dd,"1"),await tx(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ex(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Qd(s,!1).getAll();return new zu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NS.type="LOCAL";const vL=NS;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t,e){return e?si(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy extends xy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _L(t){return SS(t.auth,new Sy(t),t.bypassAuthState)}function xL(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),YD(n,new Sy(t),t.bypassAuthState)}async function EL(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),QD(n,new Sy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _L;case"linkViaPopup":case"linkViaRedirect":return EL;case"reauthViaPopup":case"reauthViaRedirect":return xL;default:fr(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=new Uu(2e3,1e4);class ha extends DS{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=Ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TL.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="pendingRedirect",Mh=new Map;class IL extends DS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const r=await bL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bL(t,e){const n=RL(e),r=AL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function CL(t,e){Mh.set(t._key(),e)}function AL(t){return si(t._redirectPersistence)}function RL(t){return Oh(SL,t.config.apiKey,t.name)}async function PL(t,e,n=!1){if(ur(t.app))return Promise.reject(ts(t));const r=za(t),s=wL(r,e),l=await new IL(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=600*1e3;class NL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kL&&this.cachedEventUids.clear(),this.cachedEventUids.has(nx(e))}saveEventToCache(e){this.cachedEventUids.add(nx(e)),this.lastProcessedEventTime=Date.now()}}function nx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e={}){return ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OL=/^https?/;async function ML(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LL(t);for(const n of e)try{if(jL(n))return}catch{}fr(t,"unauthorized-domain")}function jL(t){const e=Qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!OL.test(n))return!1;if(VL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=new Uu(3e4,6e4);function rx(){const t=Nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UL(t){return new Promise((e,n)=>{var r,s,a;function l(){rx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rx(),n(kr(t,"network-request-failed"))},timeout:FL.get()})}if(!((s=(r=Nr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Nr().gapi)===null||a===void 0)&&a.load)l();else{const c=ND("iframefcb");return Nr()[c]=()=>{gapi.load?l():n(kr(t,"network-request-failed"))},wS(`${kD()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw jh=null,e})}let jh=null;function BL(t){return jh=jh||UL(t),jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new Uu(5e3,15e3),$L="__/auth/iframe",HL="emulator/auth/iframe",WL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KL(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vy(e,HL):`https://${t.config.authDomain}/${$L}`,r={apiKey:e.apiKey,appName:t.name,v:Oa},s=qL.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Du(r).slice(1)}`}async function GL(t){const e=await BL(t),n=Nr().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:KL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WL,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=kr(t,"network-request-failed"),c=Nr().setTimeout(()=>{a(l)},zL.get());function d(){Nr().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YL=500,XL=600,JL="_blank",ZL="http://localhost";class ix{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eV(t,e,n,r=YL,s=XL){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},QL),{width:r.toString(),height:s.toString(),top:a,left:l}),p=nn().toLowerCase();n&&(c=dS(p)?JL:n),cS(p)&&(e=e||ZL,d.scrollbars="yes");const m=Object.entries(d).reduce((x,[S,A])=>`${x}${S}=${A},`,"");if(ED(p)&&c!=="_self")return tV(e||"",c),new ix(null);const y=window.open(e||"",c,m);Ee(y,t,"popup-blocked");try{y.focus()}catch{}return new ix(y)}function tV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="__/auth/handler",rV="emulator/auth/handler",iV=encodeURIComponent("fac");async function sx(t,e,n,r,s,a){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oa,eventId:s};if(e instanceof ES){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",bR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Bu){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),p=d?`#${iV}=${encodeURIComponent(d)}`:"";return`${sV(t)}?${Du(c).slice(1)}${p}`}function sV({config:t}){return t.emulator?vy(t,rV):`https://${t.authDomain}/${nV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class oV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AS,this._completeRedirectFn=PL,this._overrideRedirectResult=CL}async _openPopup(e,n,r,s){var a;hi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await sx(e,n,r,Qm(),s);return eV(e,l,Ty())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await sx(e,n,r,Qm(),s);return uL(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(hi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GL(e),r=new NL(e);return n.register("authEvent",s=>(Ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(im,{type:im},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[im];l!==void 0&&n(!!l),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ML(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yS()||hS()||_y()}}const aV=oV;var ox="@firebase/auth",ax="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cV(t){Ta(new to("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ee(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vS(t)},p=new AD(r,s,a,d);return jD(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ta(new to("auth-internal",e=>{const n=za(e.getProvider("auth").getImmediate());return(r=>new lV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(ox,ax,uV(t)),Xi(ox,ax,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=300,dV=xT("authIdTokenMaxAge")||hV;let lx=null;const fV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dV)return;const s=n==null?void 0:n.token;lx!==s&&(lx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pV(t=IT()){const e=Og(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MD(t,{popupRedirectResolver:aV,persistence:[vL,oL,AS]}),r=xT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=fV(a.toString());tL(n,l,()=>l(n.currentUser)),eL(n,c=>l(c))}}const s=wT("auth");return s&&FD(n,`http://${s}`),n}function mV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=kr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",mV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cV("Browser");const gV={apiKey:"AIzaSyAcNbE3xaJX-I_Pr8vhc5c4vZ55WCrXUDI",authDomain:"shiv-portfolio-47ce9.firebaseapp.com",projectId:"shiv-portfolio-47ce9",storageBucket:"shiv-portfolio-47ce9.firebasestorage.app",messagingSenderId:"255250938014",appId:"1:255250938014:web:9ffd8e25847e604d2c638f",measurementId:"G-641WB6JY66"},VS=ST(gV),Yd=pV(VS),Nn=F4(VS),Iy=P.createContext({});function Ha(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const by=typeof window<"u",Xd=by?P.useLayoutEffect:P.useEffect,Jd=P.createContext(null);function Cy(t,e){t.indexOf(e)===-1&&t.push(e)}function Ay(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Mr=(t,e,n)=>n>e?e:n<t?t:n;let Eu=()=>{};const di={},OS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function MS(t){return typeof t=="object"&&t!==null}const jS=t=>/^0[^.\s]+$/u.test(t);function Ry(t){let e;return()=>(e===void 0&&(e=t()),e)}const xn=t=>t,yV=(t,e)=>n=>e(t(n)),$u=(...t)=>t.reduce(yV),Na=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Py{constructor(){this.subscriptions=[]}add(e){return Cy(this.subscriptions,e),()=>Ay(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dr=t=>t*1e3,Wn=t=>t/1e3;function ky(t,e){return e?t*(1e3/e):0}const FS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vV=1e-7,wV=12;function _V(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=FS(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>vV&&++c<wV);return l}function Hu(t,e,n,r){if(t===e&&n===r)return xn;const s=a=>_V(a,0,1,t,n);return a=>a===0||a===1?a:FS(s(a),e,r)}const US=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,BS=t=>e=>1-t(1-e),zS=Hu(.33,1.53,.69,.99),Ny=BS(zS),$S=US(Ny),HS=t=>(t*=2)<1?.5*Ny(t):.5*(2-Math.pow(2,-10*(t-1))),Dy=t=>1-Math.sin(Math.acos(t)),WS=BS(Dy),qS=US(Dy),xV=Hu(.42,0,1,1),EV=Hu(0,0,.58,1),KS=Hu(.42,0,.58,1),TV=t=>Array.isArray(t)&&typeof t[0]!="number",GS=t=>Array.isArray(t)&&typeof t[0]=="number",SV={linear:xn,easeIn:xV,easeInOut:KS,easeOut:EV,circIn:Dy,circInOut:qS,circOut:WS,backIn:Ny,backInOut:$S,backOut:zS,anticipate:HS},IV=t=>typeof t=="string",ux=t=>{if(GS(t)){Eu(t.length===4);const[e,n,r,s]=t;return Hu(e,n,r,s)}else if(IV(t))return SV[t];return t},_h=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bV(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(p.schedule(m),t()),m(c)}const p={schedule:(m,y=!1,x=!1)=>{const A=x&&s?n:r;return y&&l.add(m),A.has(m)||A.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,a&&(a=!1,p.process(m))}};return p}const CV=40;function QS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=_h.reduce((V,K)=>(V[K]=bV(a),V),{}),{setup:c,read:d,resolveKeyframes:p,preUpdate:m,update:y,preRender:x,render:S,postRender:A}=l,R=()=>{const V=di.useManualTiming?s.timestamp:performance.now();n=!1,di.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(V-s.timestamp,CV),1)),s.timestamp=V,s.isProcessing=!0,c.process(s),d.process(s),p.process(s),m.process(s),y.process(s),x.process(s),S.process(s),A.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(R))},I=()=>{n=!0,r=!0,s.isProcessing||t(R)};return{schedule:_h.reduce((V,K)=>{const X=l[K];return V[K]=(te,D=!1,C=!1)=>(n||I(),X.schedule(te,D,C)),V},{}),cancel:V=>{for(let K=0;K<_h.length;K++)l[_h[K]].cancel(V)},state:s,steps:l}}const{schedule:We,cancel:pr,state:Vt,steps:sm}=QS(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0);let Fh;function AV(){Fh=void 0}const _n={now:()=>(Fh===void 0&&_n.set(Vt.isProcessing||di.useManualTiming?Vt.timestamp:performance.now()),Fh),set:t=>{Fh=t,queueMicrotask(AV)}},YS=t=>e=>typeof e=="string"&&e.startsWith(t),Ly=YS("--"),RV=YS("var(--"),Vy=t=>RV(t)?PV.test(t.split("/*")[0].trim()):!1,PV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tu={...Wa,transform:t=>Mr(0,1,t)},xh={...Wa,default:1},ou=t=>Math.round(t*1e5)/1e5,Oy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kV(t){return t==null}const NV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,My=(t,e)=>n=>!!(typeof n=="string"&&NV.test(n)&&n.startsWith(t)||e&&!kV(n)&&Object.prototype.hasOwnProperty.call(n,e)),XS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(Oy);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},DV=t=>Mr(0,255,t),om={...Wa,transform:t=>Math.round(DV(t))},Gs={test:My("rgb","red"),parse:XS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+om.transform(t)+", "+om.transform(e)+", "+om.transform(n)+", "+ou(Tu.transform(r))+")"};function LV(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Jm={test:My("#"),parse:LV,transform:Gs.transform},Wu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zi=Wu("deg"),Lr=Wu("%"),Te=Wu("px"),VV=Wu("vh"),OV=Wu("vw"),cx={...Lr,parse:t=>Lr.parse(t)/100,transform:t=>Lr.transform(t*100)},da={test:My("hsl","hue"),parse:XS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Lr.transform(ou(e))+", "+Lr.transform(ou(n))+", "+ou(Tu.transform(r))+")"},_t={test:t=>Gs.test(t)||Jm.test(t)||da.test(t),parse:t=>Gs.test(t)?Gs.parse(t):da.test(t)?da.parse(t):Jm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gs.transform(t):da.transform(t),getAnimatableNone:t=>{const e=_t.parse(t);return e.alpha=0,_t.transform(e)}},MV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Oy))==null?void 0:e.length)||0)+(((n=t.match(MV))==null?void 0:n.length)||0)>0}const JS="number",ZS="color",FV="var",UV="var(",hx="${}",BV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Su(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(BV,d=>(_t.test(d)?(r.color.push(a),s.push(ZS),n.push(_t.parse(d))):d.startsWith(UV)?(r.var.push(a),s.push(FV),n.push(d)):(r.number.push(a),s.push(JS),n.push(parseFloat(d))),++a,hx)).split(hx);return{values:n,split:c,indexes:r,types:s}}function eI(t){return Su(t).values}function tI(t){const{split:e,types:n}=Su(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===JS?a+=ou(s[l]):c===ZS?a+=_t.transform(s[l]):a+=s[l]}return a}}const zV=t=>typeof t=="number"?0:_t.test(t)?_t.getAnimatableNone(t):t;function $V(t){const e=eI(t);return tI(t)(e.map(zV))}const cs={test:jV,parse:eI,createTransformer:tI,getAnimatableNone:$V};function am(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=am(d,c,t+1/3),a=am(d,c,t),l=am(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function pd(t,e){return n=>n>0?e:t}const at=(t,e,n)=>t+(e-t)*n,lm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},WV=[Jm,Gs,da],qV=t=>WV.find(e=>e.test(t));function dx(t){const e=qV(t);if(!e)return!1;let n=e.parse(t);return e===da&&(n=HV(n)),n}const fx=(t,e)=>{const n=dx(t),r=dx(e);if(!n||!r)return pd(t,e);const s={...n};return a=>(s.red=lm(n.red,r.red,a),s.green=lm(n.green,r.green,a),s.blue=lm(n.blue,r.blue,a),s.alpha=at(n.alpha,r.alpha,a),Gs.transform(s))},Zm=new Set(["none","hidden"]);function KV(t,e){return Zm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function GV(t,e){return n=>at(t,e,n)}function jy(t){return typeof t=="number"?GV:typeof t=="string"?Vy(t)?pd:_t.test(t)?fx:XV:Array.isArray(t)?nI:typeof t=="object"?_t.test(t)?fx:QV:pd}function nI(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>jy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function QV(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=jy(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function YV(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],c=t.values[l]??0;n[s]=c,r[a]++}return n}const XV=(t,e)=>{const n=cs.createTransformer(e),r=Su(t),s=Su(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Zm.has(t)&&!s.values.length||Zm.has(e)&&!r.values.length?KV(t,e):$u(nI(YV(r,s),s.values),n):pd(t,e)};function rI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?at(t,e,n):jy(t)(t,e)}const JV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>We.update(e,n),stop:()=>pr(e),now:()=>Vt.isProcessing?Vt.timestamp:_n.now()}},iI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},md=2e4;function Fy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<md;)e+=n,r=t.next(e);return e>=md?1/0:e}function ZV(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Fy(r),md);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Wn(s)}}const eO=5;function sI(t,e,n){const r=Math.max(e-eO,0);return ky(n-t(r),e-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},um=.001;function tO({duration:t=ht.duration,bounce:e=ht.bounce,velocity:n=ht.velocity,mass:r=ht.mass}){let s,a,l=1-e;l=Mr(ht.minDamping,ht.maxDamping,l),t=Mr(ht.minDuration,ht.maxDuration,Wn(t)),l<1?(s=p=>{const m=p*l,y=m*t,x=m-n,S=eg(p,l),A=Math.exp(-y);return um-x/S*A},a=p=>{const y=p*l*t,x=y*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,A=Math.exp(-y),R=eg(Math.pow(p,2),l);return(-s(p)+um>0?-1:1)*((x-S)*A)/R}):(s=p=>{const m=Math.exp(-p*t),y=(p-n)*t+1;return-um+m*y},a=p=>{const m=Math.exp(-p*t),y=(n-p)*(t*t);return m*y});const c=5/t,d=rO(s,a,c);if(t=Dr(t),isNaN(d))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const nO=12;function rO(t,e,n){let r=n;for(let s=1;s<nO;s++)r=r-t(r)/e(r);return r}function eg(t,e){return t*Math.sqrt(1-e*e)}const iO=["duration","bounce"],sO=["stiffness","damping","mass"];function px(t,e){return e.some(n=>t[n]!==void 0)}function oO(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!px(t,sO)&&px(t,iO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Mr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ht.mass,stiffness:s,damping:a}}else{const n=tO(t);e={...e,...n,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function gd(t=ht.visualDuration,e=ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:p,mass:m,duration:y,velocity:x,isResolvedFromDuration:S}=oO({...n,velocity:-Wn(n.velocity||0)}),A=x||0,R=p/(2*Math.sqrt(d*m)),I=l-a,L=Wn(Math.sqrt(d/m)),B=Math.abs(I)<5;r||(r=B?ht.restSpeed.granular:ht.restSpeed.default),s||(s=B?ht.restDelta.granular:ht.restDelta.default);let V;if(R<1){const X=eg(L,R);V=te=>{const D=Math.exp(-R*L*te);return l-D*((A+R*L*I)/X*Math.sin(X*te)+I*Math.cos(X*te))}}else if(R===1)V=X=>l-Math.exp(-L*X)*(I+(A+L*I)*X);else{const X=L*Math.sqrt(R*R-1);V=te=>{const D=Math.exp(-R*L*te),C=Math.min(X*te,300);return l-D*((A+R*L*I)*Math.sinh(C)+X*I*Math.cosh(C))/X}}const K={calculatedDuration:S&&y||null,next:X=>{const te=V(X);if(S)c.done=X>=y;else{let D=X===0?A:0;R<1&&(D=X===0?Dr(A):sI(V,X,te));const C=Math.abs(D)<=r,k=Math.abs(l-te)<=s;c.done=C&&k}return c.value=c.done?l:te,c},toString:()=>{const X=Math.min(Fy(K),md),te=iI(D=>K.next(X*D).value,X,30);return X+"ms "+te},toTransition:()=>{}};return K}gd.applyToOptions=t=>{const e=ZV(t,100,gd);return t.ease=e.ease,t.duration=Dr(e.duration),t.type="keyframes",t};function tg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:m}){const y=t[0],x={done:!1,value:y},S=C=>c!==void 0&&C<c||d!==void 0&&C>d,A=C=>c===void 0?d:d===void 0||Math.abs(c-C)<Math.abs(d-C)?c:d;let R=n*e;const I=y+R,L=l===void 0?I:l(I);L!==I&&(R=L-y);const B=C=>-R*Math.exp(-C/r),V=C=>L+B(C),K=C=>{const k=B(C),M=V(C);x.done=Math.abs(k)<=p,x.value=x.done?L:M};let X,te;const D=C=>{S(x.value)&&(X=C,te=gd({keyframes:[x.value,A(x.value)],velocity:sI(V,C,x.value),damping:s,stiffness:a,restDelta:p,restSpeed:m}))};return D(0),{calculatedDuration:null,next:C=>{let k=!1;return!te&&X===void 0&&(k=!0,K(C),D(C)),X!==void 0&&C>=X?te.next(C-X):(!k&&K(C),x)}}}function aO(t,e,n){const r=[],s=n||di.mix||rI,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||xn:e;c=$u(d,c)}r.push(c)}return r}function Uy(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Eu(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=aO(e,r,s),d=c.length,p=m=>{if(l&&m<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const x=Na(t[y],t[y+1],m);return c[y](x)};return n?m=>p(Mr(t[0],t[a-1],m)):p}function lO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Na(0,e,r);t.push(at(n,1,s))}}function oI(t){const e=[0];return lO(e,t.length-1),e}function uO(t,e){return t.map(n=>n*e)}function cO(t,e){return t.map(()=>e||KS).splice(0,t.length-1)}function au({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=TV(r)?r.map(ux):ux(r),a={done:!1,value:e[0]},l=uO(n&&n.length===e.length?n:oI(e),t),c=Uy(l,e,{ease:Array.isArray(s)?s:cO(e,s)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const hO=t=>t!==null;function By(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(hO),c=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const dO={decay:tg,inertia:tg,tween:au,keyframes:au,spring:gd};function aI(t){typeof t.type=="string"&&(t.type=dO[t.type])}class zy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const fO=t=>t/100;class Zd extends zy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==_n.now()&&this.tick(_n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aI(e);const{type:n=au,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const d=n||au;d!==au&&typeof c[0]!="number"&&(this.mixKeyframes=$u(fO,rI(c[0],c[1])),c=[0,100]);const p=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Fy(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:x,repeatDelay:S,type:A,onUpdate:R,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?L<0:L>s;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let V=this.currentTime,K=r;if(y){const C=Math.min(this.currentTime,s)/c;let k=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&k--,k=Math.min(k,y+1),!!(k%2)&&(x==="reverse"?(M=1-M,S&&(M-=S/c)):x==="mirror"&&(K=l)),V=Mr(0,1,M)*c}const X=B?{done:!1,value:m[0]}:K.next(V);a&&(X.value=a(X.value));let{done:te}=X;!B&&d!==null&&(te=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&te);return D&&A!==tg&&(X.value=By(m,this.options,I,this.speed)),R&&R(X.value),D&&this.finish(),X}then(e,n){return this.finished.then(e,n)}get duration(){return Wn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(this.currentTime)}set time(e){var n;e=Dr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_n.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wn(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=JV,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(s=this.options).onPlay)==null||a.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function pO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Qs=t=>t*180/Math.PI,ng=t=>{const e=Qs(Math.atan2(t[1],t[0]));return rg(e)},mO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ng,rotateZ:ng,skewX:t=>Qs(Math.atan(t[1])),skewY:t=>Qs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rg=t=>(t=t%360,t<0&&(t+=360),t),mx=ng,gx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),yx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),gO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gx,scaleY:yx,scale:t=>(gx(t)+yx(t))/2,rotateX:t=>rg(Qs(Math.atan2(t[6],t[5]))),rotateY:t=>rg(Qs(Math.atan2(-t[2],t[0]))),rotateZ:mx,rotate:mx,skewX:t=>Qs(Math.atan(t[4])),skewY:t=>Qs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ig(t){return t.includes("scale")?1:0}function sg(t,e){if(!t||t==="none")return ig(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=gO,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=mO,s=c}if(!s)return ig(e);const a=r[e],l=s[1].split(",").map(vO);return typeof a=="function"?a(l):l[a]}const yO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sg(n,e)};function vO(t){return parseFloat(t.trim())}const qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ka=new Set(qa),vx=t=>t===Wa||t===Te,wO=new Set(["x","y","z"]),_O=qa.filter(t=>!wO.has(t));function xO(t){const e=[];return _O.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Xs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sg(e,"x"),y:(t,{transform:e})=>sg(e,"y")};Xs.translateX=Xs.x;Xs.translateY=Xs.y;const Js=new Set;let og=!1,ag=!1,lg=!1;function lI(){if(ag){const t=Array.from(Js).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=xO(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var c;(c=r.getValue(a))==null||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ag=!1,og=!1,Js.forEach(t=>t.complete(lg)),Js.clear()}function uI(){Js.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ag=!0)})}function EO(){lg=!0,uI(),lI(),lg=!1}class $y{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Js.add(this),og||(og=!0,We.read(uI),We.resolveKeyframes(lI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}pO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Js.delete(this)}cancel(){this.state==="scheduled"&&(Js.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TO=t=>t.startsWith("--");function SO(t,e,n){TO(e)?t.style.setProperty(e,n):t.style[e]=n}const cI=Ry(()=>window.ScrollTimeline!==void 0),IO={};function bO(t,e){const n=Ry(t);return()=>IO[e]??n()}const hI=bO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,wx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eu([0,.65,.55,1]),circOut:eu([.55,0,1,.45]),backIn:eu([.31,.01,.66,-.59]),backOut:eu([.33,1.53,.69,.99])};function dI(t,e){if(t)return typeof t=="function"?hI()?iI(t,e):"ease-out":GS(t)?eu(t):Array.isArray(t)?t.map(n=>dI(n,e)||wx.easeOut):wx[t]}function CO(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:d}={},p=void 0){const m={[e]:n};d&&(m.offset=d);const y=dI(c,s);Array.isArray(y)&&(m.easing=y);const x={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(m,x)}function fI(t){return typeof t=="function"&&"applyToOptions"in t}function AO({type:t,...e}){return fI(t)&&hI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class RO extends zy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Eu(typeof e.type!="string");const p=AO(e);this.animation=CO(n,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=By(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):SO(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Wn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Dr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&cI()?(this.animation.timeline=e,xn):n(this)}}const pI={anticipate:HS,backInOut:$S,circInOut:qS};function PO(t){return t in pI}function kO(t){typeof t.ease=="string"&&PO(t.ease)&&(t.ease=pI[t.ease])}const _x=10;class NO extends RO{constructor(e){kO(e),aI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Zd({...l,autoplay:!1}),d=Dr(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-_x).value,c.sample(d).value,_x),c.stop()}}const xx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cs.test(t)||t==="0")&&!t.startsWith("url("));function DO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function LO(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=xx(s,e),c=xx(a,e);return!l||!c?!1:DO(t)||(n==="spring"||fI(n))&&r}function ug(t){t.duration=0,t.type="keyframes"}const VO=new Set(["opacity","clipPath","filter","transform"]),OO=Ry(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MO(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return OO()&&n&&VO.has(n)&&(n!=="transform"||!p)&&!d&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const jO=40;class FO extends zy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:d,motionValue:p,element:m,...y}){var A;super(),this.stop=()=>{var R,I;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=_n.now();const x={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:d,motionValue:p,element:m,...y},S=(m==null?void 0:m.KeyframeResolver)||$y;this.keyframeResolver=new S(c,(R,I,L)=>this.onKeyframesResolved(R,I,x,!L),d,p,m),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:d,isHandoff:p,onUpdate:m}=r;this.resolvedAt=_n.now(),LO(e,a,l,c)||((di.instantAnimations||!d)&&(m==null||m(By(e,r,n))),e[0]=e[e.length-1],ug(r),r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>jO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!p&&MO(x)?new NO({...x,element:x.motionValue.owner.current}):new Zd(x);S.finished.then(()=>this.notifyFinished()).catch(xn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),EO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const UO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BO(t){const e=UO.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function mI(t,e,n=1){const[r,s]=BO(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return OS(l)?parseFloat(l):l}return Vy(s)?mI(s,e,n+1):s}function Hy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const gI=new Set(["width","height","top","left","right","bottom",...qa]),zO={test:t=>t==="auto",parse:t=>t},yI=t=>e=>e.test(t),vI=[Wa,Te,Lr,zi,OV,VV,zO],Ex=t=>vI.find(yI(t));function $O(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jS(t):!0}const HO=new Set(["brightness","contrast","saturate","opacity"]);function WO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Oy)||[];if(!r)return t;const s=n.replace(r,"");let a=HO.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const qO=/\b([a-z-]*)\(.*?\)/gu,cg={...cs,getAnimatableNone:t=>{const e=t.match(qO);return e?e.map(WO).join(" "):t}},Tx={...Wa,transform:Math.round},KO={rotate:zi,rotateX:zi,rotateY:zi,rotateZ:zi,scale:xh,scaleX:xh,scaleY:xh,scaleZ:xh,skew:zi,skewX:zi,skewY:zi,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Tu,originX:cx,originY:cx,originZ:Te},Wy={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...KO,zIndex:Tx,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:Tx},GO={...Wy,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:cg,WebkitFilter:cg},wI=t=>GO[t];function _I(t,e){let n=wI(t);return n!==cg&&(n=cs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QO=new Set(["auto","none","0"]);function YO(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!QO.has(a)&&Su(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=_I(n,s)}class XO extends $y{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Vy(p))){const m=mI(p,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!gI.has(r)||e.length!==2)return;const[s,a]=e,l=Ex(s),c=Ex(a);if(l!==c)if(vx(l)&&vx(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Xs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||$O(e[s]))&&r.push(s);r.length&&YO(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Xs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function xI(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const EI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function qy(t){return MS(t)&&"offsetHeight"in t}const Sx=30,JO=t=>!isNaN(parseFloat(t)),lu={current:void 0};class ZO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const s=_n.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=_n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Py);const r=this.events[e].add(n);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return lu.current&&lu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=_n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Sx);return ky(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cr(t,e){return new ZO(t,e)}const{schedule:Ky}=QS(queueMicrotask,!1),lr={x:!1,y:!1};function TI(){return lr.x||lr.y}function e3(t){return t==="x"||t==="y"?lr[t]?null:(lr[t]=!0,()=>{lr[t]=!1}):lr.x||lr.y?null:(lr.x=lr.y=!0,()=>{lr.x=lr.y=!1})}function SI(t,e){const n=xI(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Ix(t){return!(t.pointerType==="touch"||TI())}function t3(t,e,n={}){const[r,s,a]=SI(t,n),l=c=>{if(!Ix(c))return;const{target:d}=c,p=e(d,c);if(typeof p!="function"||!d)return;const m=y=>{Ix(y)&&(p(y),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const II=(t,e)=>e?t===e?!0:II(t,e.parentElement):!1,Gy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,n3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function r3(t){return n3.has(t.tagName)||t.tabIndex!==-1}const Uh=new WeakSet;function bx(t){return e=>{e.key==="Enter"&&t(e)}}function cm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const i3=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=bx(()=>{if(Uh.has(n))return;cm(n,"down");const s=bx(()=>{cm(n,"up")}),a=()=>cm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Cx(t){return Gy(t)&&!TI()}function s3(t,e,n={}){const[r,s,a]=SI(t,n),l=c=>{const d=c.currentTarget;if(!Cx(c))return;Uh.add(d);const p=e(d,c),m=(S,A)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),Uh.has(d)&&Uh.delete(d),Cx(S)&&typeof p=="function"&&p(S,{success:A})},y=S=>{m(S,d===window||d===document||n.useGlobalTarget||II(d,S.target))},x=S=>{m(S,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",x,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),qy(c)&&(c.addEventListener("focus",p=>i3(p,s)),!r3(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function Qy(t){return MS(t)&&"ownerSVGElement"in t}const Bh=new WeakMap;let $i;const bI=(t,e,n)=>(r,s)=>s&&s[0]?s[0][t+"Size"]:Qy(r)&&"getBBox"in r?r.getBBox()[e]:r[n],o3=bI("inline","width","offsetWidth"),a3=bI("block","height","offsetHeight");function l3({target:t,borderBoxSize:e}){var n;(n=Bh.get(t))==null||n.forEach(r=>{r(t,{get width(){return o3(t,e)},get height(){return a3(t,e)}})})}function u3(t){t.forEach(l3)}function c3(){typeof ResizeObserver>"u"||($i=new ResizeObserver(u3))}function h3(t,e){$i||c3();const n=xI(t);return n.forEach(r=>{let s=Bh.get(r);s||(s=new Set,Bh.set(r,s)),s.add(e),$i==null||$i.observe(r)}),()=>{n.forEach(r=>{const s=Bh.get(r);s==null||s.delete(e),s!=null&&s.size||$i==null||$i.unobserve(r)})}}const zh=new Set;let fa;function d3(){fa=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};zh.forEach(e=>e(t))},window.addEventListener("resize",fa)}function f3(t){return zh.add(t),fa||d3(),()=>{zh.delete(t),!zh.size&&typeof fa=="function"&&(window.removeEventListener("resize",fa),fa=void 0)}}function p3(t,e){return typeof t=="function"?f3(t):h3(t,e)}function CI(t,e){let n;const r=()=>{const{currentTime:s}=e,l=(s===null?0:s.value)/100;n!==l&&t(l),n=l};return We.preUpdate(r,!0),()=>pr(r)}function m3(t){return Qy(t)&&t.tagName==="svg"}function g3(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],a=t[2+n],l=t[3+n],c=Uy(s,a,l);return e?c(r):c}const Mt=t=>!!(t&&t.getVelocity);function y3(t,e,n){const r=t.get();let s=null,a=r,l;const c=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,d=()=>{s&&(s.stop(),s=null)},p=()=>{d(),s=new Zd({keyframes:[Rx(t.get()),Rx(a)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:l})};if(t.attach((m,y)=>{a=m,l=x=>y(Ax(x,c)),We.postRender(p)},d),Mt(e)){const m=e.on("change",x=>t.set(Ax(x,c))),y=t.on("destroy",m);return()=>{m(),y()}}return d}function Ax(t,e){return e?t+e:t}function Rx(t){return typeof t=="number"?t:parseFloat(t)}const v3=[...vI,_t,cs],w3=t=>v3.find(yI(t)),qu=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Px(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _3(...t){return e=>{let n=!1;const r=t.map(s=>{const a=Px(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Px(t[s],null)}}}}function x3(...t){return P.useCallback(_3(...t),t)}class E3 extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=qy(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function T3({children:t,isPresent:e,anchorX:n,root:r}){const s=P.useId(),a=P.useRef(null),l=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=P.useContext(qu),d=x3(a,t==null?void 0:t.ref);return P.useInsertionEffect(()=>{const{width:p,height:m,top:y,left:x,right:S}=l.current;if(e||!a.current||!p||!m)return;const A=n==="left"?`left: ${x}`:`right: ${S}`;a.current.dataset.motionPopId=s;const R=document.createElement("style");c&&(R.nonce=c);const I=r??document.head;return I.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${A}px !important;
            top: ${y}px !important;
          }
        `),()=>{I.contains(R)&&I.removeChild(R)}},[e]),w.jsx(E3,{isPresent:e,childRef:a,sizeRef:l,children:P.cloneElement(t,{ref:d})})}const S3=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c,root:d})=>{const p=Ha(I3),m=P.useId();let y=!0,x=P.useMemo(()=>(y=!1,{id:m,initial:e,isPresent:n,custom:s,onExitComplete:S=>{p.set(S,!0);for(const A of p.values())if(!A)return;r&&r()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,r]);return a&&y&&(x={...x}),P.useMemo(()=>{p.forEach((S,A)=>p.set(A,!1))},[n]),P.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=w.jsx(T3,{isPresent:n,anchorX:c,root:d,children:t})),w.jsx(Jd.Provider,{value:x,children:t})};function I3(){return new Map}function AI(t=!0){const e=P.useContext(Jd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=P.useId();P.useEffect(()=>{if(t)return s(a)},[t]);const l=P.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Eh=t=>t.key||"";function kx(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const oo=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[p,m]=AI(l),y=P.useMemo(()=>kx(t),[t]),x=l&&!p?[]:y.map(Eh),S=P.useRef(!0),A=P.useRef(y),R=Ha(()=>new Map),[I,L]=P.useState(y),[B,V]=P.useState(y);Xd(()=>{S.current=!1,A.current=y;for(let te=0;te<B.length;te++){const D=Eh(B[te]);x.includes(D)?R.delete(D):R.get(D)!==!0&&R.set(D,!1)}},[B,x.length,x.join("-")]);const K=[];if(y!==I){let te=[...y];for(let D=0;D<B.length;D++){const C=B[D],k=Eh(C);x.includes(k)||(te.splice(D,0,C),K.push(C))}return a==="wait"&&K.length&&(te=K),V(kx(te)),L(y),null}const{forceRender:X}=P.useContext(Iy);return w.jsx(w.Fragment,{children:B.map(te=>{const D=Eh(te),C=l&&!p?!1:y===B||x.includes(D),k=()=>{if(R.has(D))R.set(D,!0);else return;let M=!0;R.forEach(F=>{F||(M=!1)}),M&&(X==null||X(),V(A.current),l&&(m==null||m()),r&&r())};return w.jsx(S3,{isPresent:C,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:d,onExitComplete:C?void 0:k,anchorX:c,children:te},D)})})},RI=P.createContext({strict:!1}),Nx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Da={};for(const t in Nx)Da[t]={isEnabled:e=>Nx[t].some(n=>!!e[n])};function b3(t){for(const e in t)Da[e]={...Da[e],...t[e]}}const C3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||C3.has(t)}let PI=t=>!yd(t);function A3(t){typeof t=="function"&&(PI=e=>e.startsWith("on")?!yd(e):t(e))}try{A3(require("@emotion/is-prop-valid").default)}catch{}function R3(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(PI(s)||n===!0&&yd(s)||!e&&!yd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const ef=P.createContext({});function tf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Iu(t){return typeof t=="string"||Array.isArray(t)}const Yy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xy=["initial",...Yy];function nf(t){return tf(t.animate)||Xy.some(e=>Iu(t[e]))}function kI(t){return!!(nf(t)||t.variants)}function P3(t,e){if(nf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Iu(n)?n:void 0,animate:Iu(r)?r:void 0}}return t.inherit!==!1?e:{}}function k3(t){const{initial:e,animate:n}=P3(t,P.useContext(ef));return P.useMemo(()=>({initial:e,animate:n}),[Dx(e),Dx(n)])}function Dx(t){return Array.isArray(t)?t.join(" "):t}const bu={};function N3(t){for(const e in t)bu[e]=t[e],Ly(e)&&(bu[e].isCSSVariable=!0)}function NI(t,{layout:e,layoutId:n}){return Ka.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bu[t]||t==="opacity")}const D3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L3=qa.length;function V3(t,e,n){let r="",s=!0;for(let a=0;a<L3;a++){const l=qa[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const p=EI(c,Wy[l]);if(!d){s=!1;const m=D3[l]||l;r+=`${m}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Jy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const p=e[d];if(Ka.has(d)){l=!0;continue}else if(Ly(d)){s[d]=p;continue}else{const m=EI(p,Wy[d]);d.startsWith("origin")?(c=!0,a[d]=m):r[d]=m}}if(e.transform||(l||n?r.transform=V3(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const Zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DI(t,e,n){for(const r in e)!Mt(e[r])&&!NI(r,n)&&(t[r]=e[r])}function O3({transformTemplate:t},e){return P.useMemo(()=>{const n=Zy();return Jy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function M3(t,e){const n=t.style||{},r={};return DI(r,n,t),Object.assign(r,O3(t,e)),r}function j3(t,e){const n={},r=M3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const F3={offset:"stroke-dashoffset",array:"stroke-dasharray"},U3={offset:"strokeDashoffset",array:"strokeDasharray"};function B3(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?F3:U3;t[a.offset]=Te.transform(-r);const l=Te.transform(e),c=Te.transform(n);t[a.array]=`${l} ${c}`}function LI(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,p,m){if(Jy(t,c,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x}=t;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&B3(y,s,a,l,!1)}const VI=()=>({...Zy(),attrs:{}}),OI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function z3(t,e,n,r){const s=P.useMemo(()=>{const a=VI();return LI(a,e,OI(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};DI(a,t.style,t),s.style={...a,...s.style}}return s}const $3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ev(t){return typeof t!="string"||t.includes("-")?!1:!!($3.indexOf(t)>-1||/[A-Z]/u.test(t))}function H3(t,e,n,{latestValues:r},s,a=!1){const c=(ev(t)?z3:j3)(e,r,s,t),d=R3(e,typeof t=="string",a),p=t!==P.Fragment?{...d,...c,ref:n}:{},{children:m}=e,y=P.useMemo(()=>Mt(m)?m.get():m,[m]);return P.createElement(t,{...p,children:y})}function Lx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function tv(t,e,n,r){if(typeof e=="function"){const[s,a]=Lx(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=Lx(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function $h(t){return Mt(t)?t.get():t}function W3({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:q3(n,r,s,t),renderState:e()}}function q3(t,e,n,r){const s={},a=r(t,{});for(const x in a)s[x]=$h(a[x]);let{initial:l,animate:c}=t;const d=nf(t),p=kI(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const y=m?c:l;if(y&&typeof y!="boolean"&&!tf(y)){const x=Array.isArray(y)?y:[y];for(let S=0;S<x.length;S++){const A=tv(t,x[S]);if(A){const{transitionEnd:R,transition:I,...L}=A;for(const B in L){let V=L[B];if(Array.isArray(V)){const K=m?V.length-1:0;V=V[K]}V!==null&&(s[B]=V)}for(const B in R)s[B]=R[B]}}}return s}const MI=t=>(e,n)=>{const r=P.useContext(ef),s=P.useContext(Jd),a=()=>W3(t,e,r,s);return n?a():Ha(a)};function nv(t,e,n){var a;const{style:r}=t,s={};for(const l in r)(Mt(r[l])||e.style&&Mt(e.style[l])||NI(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=r[l]);return s}const K3=MI({scrapeMotionValuesFromProps:nv,createRenderState:Zy});function jI(t,e,n){const r=nv(t,e,n);for(const s in t)if(Mt(t[s])||Mt(e[s])){const a=qa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const G3=MI({scrapeMotionValuesFromProps:jI,createRenderState:VI}),Q3=Symbol.for("motionComponentSymbol");function pa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Y3(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):pa(n)&&(n.current=r))},[e])}const rv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),X3="framerAppearId",FI="data-"+rv(X3),UI=P.createContext({});function J3(t,e,n,r,s){var R,I;const{visualElement:a}=P.useContext(ef),l=P.useContext(RI),c=P.useContext(Jd),d=P.useContext(qu).reducedMotion,p=P.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=p.current,y=P.useContext(UI);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&Z3(p.current,n,s,y);const x=P.useRef(!1);P.useInsertionEffect(()=>{m&&x.current&&m.update(n,c)});const S=n[FI],A=P.useRef(!!S&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,S))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,S)));return Xd(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),A.current&&m.animationState&&m.animationState.animateChanges())}),P.useEffect(()=>{m&&(!A.current&&m.animationState&&m.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,S)}),A.current=!1),m.enteringChildren=void 0)}),m}function Z3(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BI(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&pa(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:p})}function BI(t){if(t)return t.options.allowProjection!==!1?t.projection:BI(t.parent)}function hm(t,{forwardMotionProps:e=!1}={},n,r){n&&b3(n);const s=ev(t)?G3:K3;function a(c,d){let p;const m={...P.useContext(qu),...c,layoutId:eM(c)},{isStatic:y}=m,x=k3(c),S=s(c,y);if(!y&&by){tM();const A=nM(m);p=A.MeasureLayout,x.visualElement=J3(t,S,m,r,A.ProjectionNode)}return w.jsxs(ef.Provider,{value:x,children:[p&&x.visualElement?w.jsx(p,{visualElement:x.visualElement,...m}):null,H3(t,c,Y3(S,x.visualElement,d),S,y,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=P.forwardRef(a);return l[Q3]=t,l}function eM({layoutId:t}){const e=P.useContext(Iy).id;return e&&t!==void 0?e+"-"+t:t}function tM(t,e){P.useContext(RI).strict}function nM(t){const{drag:e,layout:n}=Da;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function rM(t,e){if(typeof Proxy>"u")return hm;const n=new Map,r=(a,l)=>hm(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,hm(l,void 0,t,e)),n.get(l))})}function zI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function iM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function dm(t){return t===void 0||t===1}function hg({scale:t,scaleX:e,scaleY:n}){return!dm(t)||!dm(e)||!dm(n)}function qs(t){return hg(t)||$I(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $I(t){return Vx(t.x)||Vx(t.y)}function Vx(t){return t&&t!=="0%"}function vd(t,e,n){const r=t-n,s=e*r;return n+s}function Ox(t,e,n,r,s){return s!==void 0&&(t=vd(t,s,r)),vd(t,n,r)+e}function dg(t,e=0,n=1,r,s){t.min=Ox(t.min,e,n,r,s),t.max=Ox(t.max,e,n,r,s)}function HI(t,{x:e,y:n}){dg(t.x,e.translate,e.scale,e.originPoint),dg(t.y,n.translate,n.scale,n.originPoint)}const Mx=.999999999999,jx=1.0000000000001;function oM(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ga(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,HI(t,l)),r&&qs(a.latestValues)&&ga(t,a.latestValues))}e.x<jx&&e.x>Mx&&(e.x=1),e.y<jx&&e.y>Mx&&(e.y=1)}function ma(t,e){t.min=t.min+e,t.max=t.max+e}function Fx(t,e,n,r,s=.5){const a=at(t.min,t.max,s);dg(t,e,n,a,r)}function ga(t,e){Fx(t.x,e.x,e.scaleX,e.scale,e.originX),Fx(t.y,e.y,e.scaleY,e.scale,e.originY)}function WI(t,e){return zI(sM(t.getBoundingClientRect(),e))}function aM(t,e,n){const r=WI(t,n),{scroll:s}=e;return s&&(ma(r.x,s.offset.x),ma(r.y,s.offset.y)),r}const Ux=()=>({translate:0,scale:1,origin:0,originPoint:0}),ya=()=>({x:Ux(),y:Ux()}),Bx=()=>({min:0,max:0}),pt=()=>({x:Bx(),y:Bx()}),fg={current:null},qI={current:!1};function lM(){if(qI.current=!0,!!by)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fg.current=t.matches;t.addEventListener("change",e),e()}else fg.current=!1}const uM=new WeakMap;function cM(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Mt(s))t.addValue(r,s);else if(Mt(a))t.addValue(r,cr(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,cr(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$y,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=_n.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,We.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=nf(n),this.isVariantNode=kI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in y){const S=y[x];d[x]!==void 0&&Mt(S)&&S.set(d[x])}}mount(e){var n;this.current=e,uM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),qI.current||lM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),pr(this.notifyUpdate),pr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ka.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Da){const n=Da[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zx.length;r++){const s=zx[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=cM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=cr(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(OS(r)||jS(r))?r=parseFloat(r):!w3(r)&&cs.test(n)&&(r=_I(e,n)),this.setBaseTarget(e,Mt(r)?r.get():r)),Mt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=tv(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Mt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Py),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ky.render(this.render)}}class KI extends hM{constructor(){super(...arguments),this.KeyframeResolver=XO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GI(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s==null||s.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function dM(t){return window.getComputedStyle(t)}class fM extends KI{constructor(){super(...arguments),this.type="html",this.renderInstance=GI}readValueFromInstance(e,n){var r;if(Ka.has(n))return(r=this.projection)!=null&&r.isProjecting?ig(n):yO(e,n);{const s=dM(e),a=(Ly(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return WI(e,n)}build(e,n,r){Jy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return nv(e,n,r)}}const QI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pM(t,e,n,r){GI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(QI.has(s)?s:rv(s),e.attrs[s])}class mM extends KI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ka.has(n)){const r=wI(n);return r&&r.default||0}return n=QI.has(n)?n:rv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return jI(e,n,r)}build(e,n,r){LI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){pM(e,n,r,s)}mount(e){this.isSVGTag=OI(e.tagName),super.mount(e)}}const gM=(t,e)=>ev(t)?new mM(e):new fM(e,{allowProjection:t!==P.Fragment});function Ea(t,e,n){const r=t.getProps();return tv(r,e,n!==void 0?n:r.custom,t)}const pg=t=>Array.isArray(t);function yM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cr(n))}function vM(t){return pg(t)?t[t.length-1]||0:t}function wM(t,e){const n=Ea(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=vM(a[l]);yM(t,l,c)}}function _M(t){return!!(Mt(t)&&t.add)}function mg(t,e){const n=t.getValue("willChange");if(_M(n))return n.add(e);if(!n&&di.WillChange){const r=new di.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function YI(t){return t.props[FI]}const xM=t=>t!==null;function EM(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(xM),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const TM={type:"spring",stiffness:500,damping:25,restSpeed:10},SM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),IM={type:"keyframes",duration:.8},bM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CM=(t,{keyframes:e})=>e.length>2?IM:Ka.has(t)?t.startsWith("scale")?SM(e[1]):TM:bM;function AM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...m}){return!!Object.keys(m).length}const iv=(t,e,n,r={},s,a)=>l=>{const c=Hy(r,t)||{},d=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Dr(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};AM(c)||Object.assign(m,CM(t,m)),m.duration&&(m.duration=Dr(m.duration)),m.repeatDelay&&(m.repeatDelay=Dr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(ug(m),m.delay===0&&(y=!0)),(di.instantAnimations||di.skipAnimations)&&(y=!0,ug(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,y&&!a&&e.get()!==void 0){const x=EM(m.keyframes,c);if(x!==void 0){We.update(()=>{m.onUpdate(x),m.onComplete()});return}}return c.isSync?new Zd(m):new FO(m)};function RM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function XI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const d=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const m in c){const y=t.getValue(m,t.latestValues[m]??null),x=c[m];if(x===void 0||p&&RM(p,m))continue;const S={delay:n,...Hy(a||{},m)},A=y.get();if(A!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===A&&!S.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const L=YI(t);if(L){const B=window.MotionHandoffAnimation(L,m,We);B!==null&&(S.startTime=B,R=!0)}}mg(t,m),y.start(iv(m,y,x,t.shouldReduceMotion&&gI.has(m)?{type:!1}:S,t,R));const I=y.animation;I&&d.push(I)}return l&&Promise.all(d).then(()=>{We.update(()=>{l&&wM(t,l)})}),d}function JI(t,e,n,r=0,s=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:c-a*r}function gg(t,e,n={}){var d;const r=Ea(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(XI(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:x}=s;return PM(t,e,p,m,y,x,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[p,m]=c==="beforeChildren"?[a,l]:[l,a];return p().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function PM(t,e,n=0,r=0,s=0,a=1,l){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(gg(d,e,{...l,delay:n+(typeof r=="function"?0:r)+JI(t.variantChildren,d,r,s,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function kM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>gg(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=gg(t,e,n);else{const s=typeof e=="function"?Ea(t,e,n.custom):e;r=Promise.all(XI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function ZI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const NM=Xy.length;function eb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?eb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<NM;n++){const r=Xy[n],s=t.props[r];(Iu(s)||s===!1)&&(e[r]=s)}return e}const DM=[...Yy].reverse(),LM=Yy.length;function VM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>kM(t,n,r)))}function OM(t){let e=VM(t),n=$x(),r=!0;const s=d=>(p,m)=>{var x;const y=Ea(t,m,d==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(y){const{transition:S,transitionEnd:A,...R}=y;p={...p,...R,...A}}return p};function a(d){e=d(t)}function l(d){const{props:p}=t,m=eb(t.parent)||{},y=[],x=new Set;let S={},A=1/0;for(let I=0;I<LM;I++){const L=DM[I],B=n[L],V=p[L]!==void 0?p[L]:m[L],K=Iu(V),X=L===d?B.isActive:null;X===!1&&(A=I);let te=V===m[L]&&V!==p[L]&&K;if(te&&r&&t.manuallyAnimateOnMount&&(te=!1),B.protectedKeys={...S},!B.isActive&&X===null||!V&&!B.prevProp||tf(V)||typeof V=="boolean")continue;const D=MM(B.prevProp,V);let C=D||L===d&&B.isActive&&!te&&K||I>A&&K,k=!1;const M=Array.isArray(V)?V:[V];let F=M.reduce(s(L),{});X===!1&&(F={});const{prevResolvedValues:z={}}=B,O={...z,...F},tt=be=>{C=!0,x.has(be)&&(k=!0,x.delete(be)),B.needsAnimating[be]=!0;const se=t.getValue(be);se&&(se.liveStyle=!1)};for(const be in O){const se=F[be],pe=z[be];if(S.hasOwnProperty(be))continue;let le=!1;pg(se)&&pg(pe)?le=!ZI(se,pe):le=se!==pe,le?se!=null?tt(be):x.add(be):se!==void 0&&x.has(be)?tt(be):B.protectedKeys[be]=!0}B.prevProp=V,B.prevResolvedValues=F,B.isActive&&(S={...S,...F}),r&&t.blockInitialAnimation&&(C=!1);const xt=te&&D;C&&(!xt||k)&&y.push(...M.map(be=>{const se={type:L};if(typeof be=="string"&&r&&!xt&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,le=Ea(pe,be);if(pe.enteringChildren&&le){const{delayChildren:$}=le.transition||{};se.delay=JI(pe.enteringChildren,t,$)}}return{animation:be,options:se}}))}if(x.size){const I={};if(typeof p.initial!="boolean"){const L=Ea(t,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(I.transition=L.transition)}x.forEach(L=>{const B=t.getBaseTarget(L),V=t.getValue(L);V&&(V.liveStyle=!0),I[L]=B??null}),y.push({animation:I})}let R=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(y):Promise.resolve()}function c(d,p){var y;if(n[d].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(x=>{var S;return(S=x.animationState)==null?void 0:S.setActive(d,p)}),n[d].isActive=p;const m=l(d);for(const x in n)n[x].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=$x()}}}function MM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ZI(e,t):!1}function Hs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $x(){return{animate:Hs(!0),whileInView:Hs(),whileHover:Hs(),whileTap:Hs(),whileDrag:Hs(),whileFocus:Hs(),exit:Hs()}}class ms{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jM extends ms{constructor(e){super(e),e.animationState||(e.animationState=OM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let FM=0;class UM extends ms{constructor(){super(...arguments),this.id=FM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const BM={animation:{Feature:jM},exit:{Feature:UM}};function Cu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ku(t){return{point:{x:t.pageX,y:t.pageY}}}const zM=t=>e=>Gy(e)&&t(e,Ku(e));function uu(t,e,n,r){return Cu(t,e,zM(n),r)}const tb=1e-4,$M=1-tb,HM=1+tb,nb=.01,WM=0-nb,qM=0+nb;function un(t){return t.max-t.min}function KM(t,e,n){return Math.abs(t-e)<=n}function Hx(t,e,n,r=.5){t.origin=r,t.originPoint=at(e.min,e.max,t.origin),t.scale=un(n)/un(e),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$M&&t.scale<=HM||isNaN(t.scale))&&(t.scale=1),(t.translate>=WM&&t.translate<=qM||isNaN(t.translate))&&(t.translate=0)}function cu(t,e,n,r){Hx(t.x,e.x,n.x,r?r.originX:void 0),Hx(t.y,e.y,n.y,r?r.originY:void 0)}function Wx(t,e,n){t.min=n.min+e.min,t.max=t.min+un(e)}function GM(t,e,n){Wx(t.x,e.x,n.x),Wx(t.y,e.y,n.y)}function qx(t,e,n){t.min=e.min-n.min,t.max=t.min+un(e)}function hu(t,e,n){qx(t.x,e.x,n.x),qx(t.y,e.y,n.y)}function Hn(t){return[t("x"),t("y")]}const rb=({current:t})=>t?t.ownerDocument.defaultView:null,Kx=(t,e)=>Math.abs(t-e);function QM(t,e){const n=Kx(t.x,e.x),r=Kx(t.y,e.y);return Math.sqrt(n**2+r**2)}class ib{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=pm(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,A=QM(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!A)return;const{point:R}=x,{timestamp:I}=Vt;this.history.push({...R,timestamp:I});const{onStart:L,onMove:B}=this.handlers;S||(L&&L(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,x)},this.handlePointerMove=(x,S)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=fm(S,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(x,S)=>{this.end();const{onEnd:A,onSessionEnd:R,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=pm(x.type==="pointercancel"?this.lastMoveEventInfo:fm(S,this.transformPagePoint),this.history);this.startEvent&&A&&A(x,L),R&&R(x,L)},!Gy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const c=Ku(e),d=fm(c,this.transformPagePoint),{point:p}=d,{timestamp:m}=Vt;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,pm(d,this.history)),this.removeListeners=$u(uu(this.contextWindow,"pointermove",this.handlePointerMove),uu(this.contextWindow,"pointerup",this.handlePointerUp),uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pr(this.updatePoint)}}function fm(t,e){return e?{point:e(t.point)}:t}function Gx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pm({point:t},e){return{point:t,delta:Gx(t,sb(e)),offset:Gx(t,YM(e)),velocity:XM(e,.1)}}function YM(t){return t[0]}function sb(t){return t[t.length-1]}function XM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=sb(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Dr(e)));)n--;if(!r)return{x:0,y:0};const a=Wn(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function JM(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?at(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?at(n,t,r.max):Math.min(t,n)),t}function Qx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ZM(t,{top:e,left:n,bottom:r,right:s}){return{x:Qx(t.x,n,s),y:Qx(t.y,e,r)}}function Yx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ej(t,e){return{x:Yx(t.x,e.x),y:Yx(t.y,e.y)}}function tj(t,e){let n=.5;const r=un(t),s=un(e);return s>r?n=Na(e.min,e.max-r,t.min):r>s&&(n=Na(t.min,t.max-s,e.min)),Mr(0,1,n)}function nj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yg=.35;function rj(t=yg){return t===!1?t=0:t===!0&&(t=yg),{x:Xx(t,"left","right"),y:Xx(t,"top","bottom")}}function Xx(t,e,n){return{min:Jx(t,e),max:Jx(t,n)}}function Jx(t,e){return typeof t=="number"?t:t[e]||0}const ij=new WeakMap;class sj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ku(y).point)},l=(y,x)=>{const{drag:S,dragPropagation:A,onDragStart:R}=this.getProps();if(S&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e3(S),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(L=>{let B=this.getAxisMotionValue(L).get()||0;if(Lr.test(B)){const{projection:V}=this.visualElement;if(V&&V.layout){const K=V.layout.layoutBox[L];K&&(B=un(K)*(parseFloat(B)/100))}}this.originPoint[L]=B}),R&&We.postRender(()=>R(y,x)),mg(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},c=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x;const{dragPropagation:S,dragDirectionLock:A,onDirectionLock:R,onDrag:I}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:L}=x;if(A&&this.currentDirection===null){this.currentDirection=oj(L),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",x.point,L),this.updateAxis("y",x.point,L),this.visualElement.render(),I&&I(y,x)},d=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x,this.stop(y,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Hn(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)==null?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new ib(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:rb(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&We.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Th(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=JM(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&pa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=ZM(r.layoutBox,e):this.constraints=!1,this.elastic=rj(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=nj(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=aM(r,s.root,this.visualElement.getTransformPagePoint());let l=ej(s.layout.layoutBox,a);if(n){const c=n(iM(l));this.hasMutatedConstraints=!!c,c&&(l=zI(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=Hn(m=>{if(!Th(m,n,this.currentDirection))return;let y=d&&d[m]||{};l&&(y={min:0,max:0});const x=s?200:1e6,S=s?40:1e7,A={type:"inertia",velocity:r?e[m]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,A)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return mg(this.visualElement,e),r.start(iv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(n=>{const{drag:r}=this.getProps();if(!Th(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-at(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=tj({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(l=>{if(!Th(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(at(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;ij.set(this.visualElement,this);const e=this.visualElement.current,n=uu(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();pa(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),We.read(r);const l=Cu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Hn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=d[m].translate,y.set(y.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=yg,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Th(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function oj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class aj extends ms{constructor(e){super(e),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new sj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zx=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class lj extends ms{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(e){this.session=new ib(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Zx(e),onStart:Zx(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&We.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=uu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ql={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=eE(t,e.target.x),r=eE(t,e.target.y);return`${n}% ${r}%`}},uj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=cs.parse(t);if(s.length>5)return r;const a=cs.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const p=at(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};let mm=!1;class cj extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;N3(hj),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),mm&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,mm=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||We.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ky.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;mm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ob(t){const[e,n]=AI(),r=P.useContext(Iy);return w.jsx(cj,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(UI),isPresent:e,safeToRemove:n})}const hj={borderRadius:{...ql,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ql,borderTopRightRadius:ql,borderBottomLeftRadius:ql,borderBottomRightRadius:ql,boxShadow:uj};function dj(t,e,n){const r=Mt(t)?t:cr(t);return r.start(iv("",r,e,n)),r.animation}const fj=(t,e)=>t.depth-e.depth;class pj{constructor(){this.children=[],this.isDirty=!1}add(e){Cy(this.children,e),this.isDirty=!0}remove(e){Ay(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fj),this.isDirty=!1,this.children.forEach(e)}}function mj(t,e){const n=_n.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(pr(r),t(a-e))};return We.setup(r,!0),()=>pr(r)}const ab=["TopLeft","TopRight","BottomLeft","BottomRight"],gj=ab.length,tE=t=>typeof t=="string"?parseFloat(t):t,nE=t=>typeof t=="number"||Te.test(t);function yj(t,e,n,r,s,a){s?(t.opacity=at(0,n.opacity??1,vj(r)),t.opacityExit=at(e.opacity??1,0,wj(r))):a&&(t.opacity=at(e.opacity??1,n.opacity??1,r));for(let l=0;l<gj;l++){const c=`border${ab[l]}Radius`;let d=rE(e,c),p=rE(n,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||nE(d)===nE(p)?(t[c]=Math.max(at(tE(d),tE(p),r),0),(Lr.test(p)||Lr.test(d))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,r))}function rE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vj=lb(0,.5,WS),wj=lb(.5,.95,xn);function lb(t,e,n){return r=>r<t?0:r>e?1:n(Na(t,e,r))}function iE(t,e){t.min=e.min,t.max=e.max}function $n(t,e){iE(t.x,e.x),iE(t.y,e.y)}function sE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function oE(t,e,n,r,s){return t-=e,t=vd(t,1/n,r),s!==void 0&&(t=vd(t,1/s,r)),t}function _j(t,e=0,n=1,r=.5,s,a=t,l=t){if(Lr.test(e)&&(e=parseFloat(e),e=at(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=at(a.min,a.max,r);t===a&&(c-=e),t.min=oE(t.min,e,n,c,s),t.max=oE(t.max,e,n,c,s)}function aE(t,e,[n,r,s],a,l){_j(t,e[n],e[r],e[s],e.scale,a,l)}const xj=["x","scaleX","originX"],Ej=["y","scaleY","originY"];function lE(t,e,n,r){aE(t.x,e,xj,n?n.x:void 0,r?r.x:void 0),aE(t.y,e,Ej,n?n.y:void 0,r?r.y:void 0)}function uE(t){return t.translate===0&&t.scale===1}function ub(t){return uE(t.x)&&uE(t.y)}function cE(t,e){return t.min===e.min&&t.max===e.max}function Tj(t,e){return cE(t.x,e.x)&&cE(t.y,e.y)}function hE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function cb(t,e){return hE(t.x,e.x)&&hE(t.y,e.y)}function dE(t){return un(t.x)/un(t.y)}function fE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Sj{constructor(){this.members=[]}add(e){Cy(this.members,e),e.scheduleRender()}remove(e){if(Ay(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ij(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:x,skewX:S,skewY:A}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),x&&(r+=`rotateY(${x}deg) `),S&&(r+=`skewX(${S}deg) `),A&&(r+=`skewY(${A}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const gm=["","X","Y","Z"],bj=1e3;let Cj=0;function ym(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function hb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=YI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&hb(r)}function db({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=Cj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Pj),this.nodes.forEach(Lj),this.nodes.forEach(Vj),this.nodes.forEach(kj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new pj)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Py),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Qy(l)&&!m3(l),this.instance=l;const{layoutId:c,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,y=0;const x=()=>this.root.updateBlockedByResize=!1;We.read(()=>{y=window.innerWidth}),t(l,()=>{const S=window.innerWidth;S!==y&&(y=S,this.root.updateBlockedByResize=!0,m&&m(),m=mj(x,250),Hh.hasAnimatedSinceResize&&(Hh.hasAnimatedSinceResize=!1,this.nodes.forEach(gE)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||Uj,{onLayoutAnimationStart:R,onLayoutAnimationComplete:I}=p.getProps(),L=!this.targetLayout||!cb(this.targetLayout,S),B=!y&&x;if(this.options.layoutRoot||this.resumeFrom||B||y&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...Hy(A,"layout"),onPlay:R,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(m,B)}else y||gE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Oj),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Dj),this.nodes.forEach(Aj),this.nodes.forEach(Rj)):this.nodes.forEach(mE),this.clearAllSnapshots();const c=_n.now();Vt.delta=Mr(0,1e3/60,c-Vt.timestamp),Vt.timestamp=c,Vt.isProcessing=!0,sm.update.process(Vt),sm.preRender.process(Vt),sm.render.process(Vt),Vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ky.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nj),this.sharedNodes.forEach(Mj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!ub(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(c||qs(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),Bj(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return pt();const c=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(zj))){const{scroll:m}=this.root;m&&(ma(c.x,m.offset.x),ma(c.y,m.offset.y))}return c}removeElementScroll(l){var d;const c=pt();if($n(c,l),(d=this.scroll)!=null&&d.wasRoot)return c;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:x}=m;m!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&$n(c,l),ma(c.x,y.offset.x),ma(c.y,y.offset.y))}return c}applyTransform(l,c=!1){const d=pt();$n(d,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ga(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),qs(m.latestValues)&&ga(d,m.latestValues)}return qs(this.latestValues)&&ga(d,this.latestValues),d}removeTransform(l){const c=pt();$n(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!qs(p.latestValues))continue;hg(p.latestValues)&&p.updateSnapshot();const m=pt(),y=p.measurePageBox();$n(m,y),lE(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return qs(this.latestValues)&&lE(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=Vt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),hu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),HI(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),hu(this.relativeTargetOrigin,this.target,S.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hg(this.parent.latestValues)||$I(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Vt.timestamp&&(d=!1),d)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;$n(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;oM(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=pt());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sE(this.prevProjectionDelta.x,this.projectionDelta.x),sE(this.prevProjectionDelta.y,this.projectionDelta.y)),cu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!fE(this.projectionDelta.x,this.prevProjectionDelta.x)||!fE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ya(),this.projectionDelta=ya(),this.projectionDeltaWithTransform=ya()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},y=ya();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=pt(),S=d?d.source:void 0,A=this.layout?this.layout.source:void 0,R=S!==A,I=this.getStack(),L=!I||I.members.length<=1,B=!!(R&&!L&&this.options.crossfade===!0&&!this.path.some(Fj));this.animationProgress=0;let V;this.mixTargetDelta=K=>{const X=K/1e3;yE(y.x,l.x,X),yE(y.y,l.y,X),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jj(this.relativeTarget,this.relativeTargetOrigin,x,X),V&&Tj(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=pt()),$n(V,this.relativeTarget)),R&&(this.animationValues=m,yj(m,p,this.latestValues,X,B,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,d,p;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Hh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cr(0)),this.currentAnimation=dj(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:m}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&fb(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||pt();const y=un(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const x=un(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}$n(c,d),ga(c,m),cu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Sj),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&ym("z",l,p,this.animationValues);for(let m=0;m<gm.length;m++)ym(`rotate${gm[m]}`,l,p,this.animationValues),ym(`skew${gm[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=$h(c==null?void 0:c.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=$h(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=Ij(this.projectionDeltaWithTransform,this.treeScale,m);d&&(y=d(m,y)),l.transform=y;const{x,y:S}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const A in bu){if(m[A]===void 0)continue;const{correct:R,applyTo:I,isCSSVariable:L}=bu[A],B=y==="none"?m[A]:R(m[A],p);if(I){const V=I.length;for(let K=0;K<V;K++)l[I[K]]=B}else L?this.options.visualElement.renderState.vars[A]=B:l[A]=B}this.options.layoutId&&(l.pointerEvents=p===this?$h(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(pE),this.root.sharedNodes.clear()}}}function Aj(t){t.updateLayout()}function Rj(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Hn(y=>{const x=l?e.measuredBox[y]:e.layoutBox[y],S=un(x);x.min=r[y].min,x.max=x.min+S}):fb(a,e.layoutBox,r)&&Hn(y=>{const x=l?e.measuredBox[y]:e.layoutBox[y],S=un(r[y]);x.max=x.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+S)});const c=ya();cu(c,r,e.layoutBox);const d=ya();l?cu(d,t.applyTransform(s,!0),e.measuredBox):cu(d,r,e.layoutBox);const p=!ub(c);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:S}=y;if(x&&S){const A=pt();hu(A,e.layoutBox,x.layoutBox);const R=pt();hu(R,r,S.layoutBox),cb(A,R)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=A,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Pj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Nj(t){t.clearSnapshot()}function pE(t){t.clearMeasurements()}function mE(t){t.isLayoutDirty=!1}function Dj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Lj(t){t.resolveTargetDelta()}function Vj(t){t.calcProjection()}function Oj(t){t.resetSkewAndRotation()}function Mj(t){t.removeLeadSnapshot()}function yE(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function vE(t,e,n,r){t.min=at(e.min,n.min,r),t.max=at(e.max,n.max,r)}function jj(t,e,n,r){vE(t.x,e.x,n.x,r),vE(t.y,e.y,n.y,r)}function Fj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Uj={duration:.45,ease:[.4,0,.1,1]},wE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_E=wE("applewebkit/")&&!wE("chrome/")?Math.round:xn;function xE(t){t.min=_E(t.min),t.max=_E(t.max)}function Bj(t){xE(t.x),xE(t.y)}function fb(t,e,n){return t==="position"||t==="preserve-aspect"&&!KM(dE(e),dE(n),.2)}function zj(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const $j=db({attachResizeListener:(t,e)=>Cu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vm={current:void 0},pb=db({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vm.current){const t=new $j({});t.mount(window),t.setOptions({layoutScroll:!0}),vm.current=t}return vm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Hj={pan:{Feature:lj},drag:{Feature:aj,ProjectionNode:pb,MeasureLayout:ob}};function EE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&We.postRender(()=>a(e,Ku(e)))}class Wj extends ms{mount(){const{current:e}=this.node;e&&(this.unmount=t3(e,(n,r)=>(EE(this.node,r,"Start"),s=>EE(this.node,s,"End"))))}unmount(){}}class qj extends ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(Cu(this.node.current,"focus",()=>this.onFocus()),Cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&We.postRender(()=>a(e,Ku(e)))}class Kj extends ms{mount(){const{current:e}=this.node;e&&(this.unmount=s3(e,(n,r)=>(TE(this.node,r,"Start"),(s,{success:a})=>TE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vg=new WeakMap,wm=new WeakMap,Gj=t=>{const e=vg.get(t.target);e&&e(t)},Qj=t=>{t.forEach(Gj)};function Yj({root:t,...e}){const n=t||document;wm.has(n)||wm.set(n,{});const r=wm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Qj,{root:t,...e})),r[s]}function Xj(t,e,n){const r=Yj(e);return vg.set(t,n),r.observe(t),()=>{vg.delete(t),r.unobserve(t)}}const Jj={some:0,all:1};class Zj extends ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Jj[s]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),x=p?m:y;x&&x(d)};return Xj(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(e5(e,n))&&this.startObserver()}unmount(){}}function e5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const t5={inView:{Feature:Zj},tap:{Feature:Kj},focus:{Feature:qj},hover:{Feature:Wj}},n5={layout:{ProjectionNode:pb,MeasureLayout:ob}},r5={...BM,...t5,...Hj,...n5},_e=rM(r5,gM),i5=50,SE=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),s5=()=>({time:0,x:SE(),y:SE()}),o5={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function IE(t,e,n,r){const s=n[e],{length:a,position:l}=o5[e],c=s.current,d=n.time;s.current=t[`scroll${l}`],s.scrollLength=t[`scroll${a}`]-t[`client${a}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Na(0,s.scrollLength,s.current);const p=r-d;s.velocity=p>i5?0:ky(s.current-c,p)}function a5(t,e,n){IE(t,"x",e,n),IE(t,"y",e,n),e.time=n}function l5(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(qy(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const a=r.getBoundingClientRect();n.x+=s.left-a.left,n.y+=s.top-a.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:a}=r.getBBox();n.x+=s,n.y+=a;let l=null,c=r.parentNode;for(;!l;)c.tagName==="svg"&&(l=c),c=r.parentNode;r=l}else break;return n}const wg={start:0,center:.5,end:1};function bE(t,e,n=0){let r=0;if(t in wg&&(t=wg[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const u5=[0,0];function c5(t,e,n,r){let s=Array.isArray(t)?t:u5,a=0,l=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,wg[t]?t:"0"]),a=bE(s[0],n,r),l=bE(s[1],e),a-l}const h5={All:[[0,0],[1,1]]},d5={x:0,y:0};function f5(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function p5(t,e,n){const{offset:r=h5.All}=n,{target:s=t,axis:a="y"}=n,l=a==="y"?"height":"width",c=s!==t?l5(s,t):d5,d=s===t?{width:t.scrollWidth,height:t.scrollHeight}:f5(s),p={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let m=!e[a].interpolate;const y=r.length;for(let x=0;x<y;x++){const S=c5(r[x],p[l],d[l],c[a]);!m&&S!==e[a].interpolatorOffsets[x]&&(m=!0),e[a].offset[x]=S}m&&(e[a].interpolate=Uy(e[a].offset,oI(r),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=Mr(0,1,e[a].interpolate(e[a].current))}function m5(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function g5(t,e,n,r={}){return{measure:s=>{m5(t,r.target,n),a5(t,n,s),(r.offset||r.target)&&p5(t,n,r)},notify:()=>e(n)}}const Kl=new WeakMap,CE=new WeakMap,_m=new WeakMap,AE=t=>t===document.scrollingElement?window:t;function mb(t,{container:e=document.scrollingElement,...n}={}){if(!e)return xn;let r=_m.get(e);r||(r=new Set,_m.set(e,r));const s=s5(),a=g5(e,t,s,n);if(r.add(a),!Kl.has(e)){const c=()=>{for(const y of r)y.measure(Vt.timestamp);We.preUpdate(d)},d=()=>{for(const y of r)y.notify()},p=()=>We.read(c);Kl.set(e,p);const m=AE(e);window.addEventListener("resize",p,{passive:!0}),e!==document.documentElement&&CE.set(e,p3(e,p)),m.addEventListener("scroll",p,{passive:!0}),p()}const l=Kl.get(e);return We.read(l,!1,!0),()=>{var p;pr(l);const c=_m.get(e);if(!c||(c.delete(a),c.size))return;const d=Kl.get(e);Kl.delete(e),d&&(AE(e).removeEventListener("scroll",d),(p=CE.get(e))==null||p(),window.removeEventListener("resize",d))}}const RE=new Map;function y5(t){const e={value:0},n=mb(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function gb({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const s=RE.get(e)??new Map;RE.set(e,s);const a=n.target??"self",l=s.get(a)??{},c=r+(n.offset??[]).join(",");return l[c]||(l[c]=!n.target&&cI()?new ScrollTimeline({source:e,axis:r}):y5({container:e,...n})),l[c]}function v5(t,e){const n=gb(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),CI(s=>{r.time=r.iterationDuration*s},n))})}function w5(t){return t.length===2}function _5(t,e){return w5(t)?mb(n=>{t(n[e.axis].progress,n)},e):CI(t,gb(e))}function x5(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return xn;const s={axis:e,container:n,...r};return typeof t=="function"?_5(t,s):v5(t,s)}const E5=()=>({scrollX:cr(0),scrollY:cr(0),scrollXProgress:cr(0),scrollYProgress:cr(0)}),Sh=t=>t?!t.current:!1;function yb({container:t,target:e,...n}={}){const r=Ha(E5),s=P.useRef(null),a=P.useRef(!1),l=P.useCallback(()=>(s.current=x5((c,{x:d,y:p})=>{r.scrollX.set(d.current),r.scrollXProgress.set(d.progress),r.scrollY.set(p.current),r.scrollYProgress.set(p.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var c;(c=s.current)==null||c.call(s)}),[t,e,JSON.stringify(n.offset)]);return Xd(()=>{if(a.current=!1,Sh(t)||Sh(e)){a.current=!0;return}else return l()},[l]),P.useEffect(()=>{if(a.current)return Eu(!Sh(t)),Eu(!Sh(e)),l()},[l]),r}function sv(t){const e=Ha(()=>cr(t)),{isStatic:n}=P.useContext(qu);if(n){const[,r]=P.useState(t);P.useEffect(()=>e.on("change",r),[])}return e}function vb(t,e){const n=sv(e()),r=()=>n.set(e());return r(),Xd(()=>{const s=()=>We.preRender(r,!1,!0),a=t.map(l=>l.on("change",s));return()=>{a.forEach(l=>l()),pr(r)}}),n}function T5(t){lu.current=[],t();const e=vb(lu.current,t);return lu.current=void 0,e}function ns(t,e,n,r){if(typeof t=="function")return T5(t);const s=typeof e=="function"?e:g3(e,n,r);return Array.isArray(t)?PE(t,s):PE([t],([a])=>s(a))}function PE(t,e){const n=Ha(()=>[]);return vb(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function S5(t,e={}){const{isStatic:n}=P.useContext(qu),r=()=>Mt(t)?t.get():t;if(n)return ns(r);const s=sv(r());return P.useInsertionEffect(()=>y3(s,t,e),[s,JSON.stringify(e)]),s}const I5=()=>w.jsx("nav",{className:"fixed top-0 w-full z-50 pointer-events-none",children:w.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 md:px-12 lg:px-24 flex justify-between items-center py-6",children:[w.jsx(_e.a,{href:"/",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"pointer-events-auto",children:w.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-12 h-12 hover:scale-110 transition-transform duration-300"})}),w.jsx(_e.a,{href:"/resume.pdf",target:"_blank",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},className:"btn-primary pointer-events-auto",children:"Resume"})]})});var wb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kE=Ht.createContext&&Ht.createContext(wb),b5=["attr","size","title"];function C5(t,e){if(t==null)return{};var n=A5(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(this,arguments)}function NE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(n),!0).forEach(function(r){R5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R5(t,e,n){return e=P5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P5(t){var e=k5(t,"string");return typeof e=="symbol"?e:e+""}function k5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _b(t){return t&&t.map((e,n)=>Ht.createElement(e.tag,_d({key:n},e.attr),_b(e.child)))}function Je(t){return e=>Ht.createElement(N5,wd({attr:_d({},t.attr)},e),_b(t.child))}function N5(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=C5(t,b5),c=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Ht.createElement("svg",wd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:_d(_d({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Ht.createElement("title",null,a),t.children)};return kE!==void 0?Ht.createElement(kE.Consumer,null,n=>e(n)):e(wb)}function D5(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"80",height:"80",x:"64",y:"64",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"216",y:"64",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"368",y:"64",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"64",y:"216",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"216",y:"216",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"368",y:"216",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"64",y:"368",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"216",y:"368",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"368",y:"368",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]}]})(t)}function L5(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"448",height:"320",x:"32",y:"128",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M144 128V96a32 32 0 0 1 32-32h160a32 32 0 0 1 32 32v32m112 112H32m288 0v24a8 8 0 0 1-8 8H200a8 8 0 0 1-8-8v-24"},child:[]}]})(t)}function V5(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 368 32 256l128-112m192 224 128-112-128-112m-48-48-96 320"},child:[]}]})(t)}function O5(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M480 256 266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256m368-77V64h-48v69"},child:[]}]})(t)}function M5(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"320",x:"48",y:"96",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m112 160 144 112 144-112"},child:[]}]})(t)}function j5(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"},child:[]}]})(t)}const F5=()=>{const t=sv(1/0),e=P.useContext(pi),n=[{id:"home",icon:w.jsx(O5,{}),label:"Home"},{id:"about",icon:w.jsx(j5,{}),label:"About"},{id:"skills",icon:w.jsx(V5,{}),label:"Skills"},{id:"projects",icon:w.jsx(D5,{}),label:"Projects"},{id:"experience",icon:w.jsx(L5,{}),label:"Experience"},{id:"contact",icon:w.jsx(M5,{}),label:"Contact"}];return w.jsx("div",{className:`fixed bottom-6 left-1/2 -translate-x-1/2 z-50 flex items-end ${e?"gap-2 px-4 py-2 bottom-4":"gap-4 px-6 py-3 bottom-8"} bg-light-navy/40 backdrop-blur-xl border border-lightest-navy/30 rounded-full shadow-2xl`,children:n.map(r=>w.jsx(U5,{mouseX:t,link:r,isMobile:e},r.id))})},U5=({mouseX:t,link:e,isMobile:n})=>{const r=Ht.useRef(null),s=ns(t,y=>{var S;const x=((S=r.current)==null?void 0:S.getBoundingClientRect())??{x:0,width:0};return y-x.x-x.width/2}),a=n?35:40,l=n?50:80,d=ns(s,n?[-100,0,100]:[-150,0,150],[a,l,a]),p=S5(d,{mass:.1,stiffness:150,damping:12}),m=y=>{const x=document.getElementById(y);x&&x.scrollIntoView({behavior:"smooth"})};return w.jsxs(_e.div,{ref:r,style:{width:p,height:p},className:"aspect-square rounded-full bg-lightest-navy/20 border border-lightest-navy/30 flex items-center justify-center relative group cursor-pointer hover:bg-primary/20 transition-colors",onClick:()=>m(e.id),onMouseMove:y=>!n&&t.set(y.pageX),onMouseLeave:()=>!n&&t.set(1/0),children:[w.jsx(_e.div,{className:"text-slate-300 group-hover:text-primary transition-colors",style:{fontSize:ns(p,[a,l],n?[18,24]:[20,40])},children:e.icon}),!n&&w.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-navy/90 text-primary text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap border border-primary/20",children:e.label})]})},xb=P.createContext(),fo=()=>P.useContext(xb),B5=({children:t})=>{const[e,n]=P.useState([]),r=P.useCallback((s,a="info",l=5e3)=>{const c=Date.now()+Math.random();n(d=>[...d,{id:c,message:s,type:a}]),setTimeout(()=>{n(d=>d.filter(p=>p.id!==c))},l)},[]);return w.jsxs(xb.Provider,{value:{showAlert:r},children:[t,w.jsx("div",{style:{position:"fixed",top:20,right:20,zIndex:9999,display:"flex",flexDirection:"column",gap:"10px"},children:w.jsx(oo,{children:e.map(s=>w.jsx(_e.div,{initial:{opacity:0,x:50,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:50,scale:.8},transition:{type:"spring",stiffness:500,damping:30,duration:.4},style:{minWidth:200,padding:"12px 20px",borderRadius:6,background:s.type==="error"?"#ff4d4f":"#1890ff",color:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",fontWeight:500,opacity:.95},children:s.message},s.id))})})]})},ov=P.createContext(null),Eb=({onClose:t})=>{const[e,n]=P.useState(""),[r,s]=P.useState(""),[a,l]=P.useState(!1),{showAlert:c}=fo(),d=P.useContext(ov);P.useEffect(()=>{const x=S=>{S.key==="Escape"&&t()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[t]);const p=["Welcome back, superstar! ","You again? Awesome! ","Ready to conquer the day? ","Back for more? Let's go! ","The legend returns! ","You make this place better! ","Look who's here! ","High five, you're in! ","Welcome back, code ninja! ","Glad to see you again! "],m=()=>p[Math.floor(Math.random()*p.length)],y=async x=>{x.preventDefault();try{d.update(!0);const S=await ZD(Yd,e,r);console.log("Signed in:",S.user),d.update(!1),c(m(),"success"),t()}catch(S){d.update(!1),c(S.message,"error")}};return w.jsx(oo,{children:w.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-navy/80 backdrop-blur-sm flex justify-center items-center z-[1000]",children:w.jsxs(_e.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-light-navy/90 border border-lightest-navy p-8 rounded-xl shadow-2xl w-full max-w-md relative",children:[w.jsx("button",{type:"button",className:"absolute top-4 right-4 text-slate-400 hover:text-primary transition-colors text-xl",onClick:t,children:""}),w.jsx("h2",{className:"text-3xl font-bold text-slate-100 mb-6 text-center",children:"Sign In"}),w.jsxs("form",{onSubmit:y,className:"flex flex-col gap-4",children:[w.jsx("div",{className:"group",children:w.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:x=>n(x.target.value),className:"w-full bg-navy/50 border border-lightest-navy rounded-lg px-4 py-3 text-slate-300 focus:outline-none focus:border-primary transition-colors placeholder-slate-500",required:!0})}),w.jsxs("div",{className:"relative group",children:[w.jsx("input",{type:a?"text":"password",placeholder:"Password",value:r,onChange:x=>s(x.target.value),className:"w-full bg-navy/50 border border-lightest-navy rounded-lg px-4 py-3 text-slate-300 focus:outline-none focus:border-primary transition-colors placeholder-slate-500 pr-12",required:!0}),w.jsx("button",{type:"button",onClick:()=>l(x=>!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-primary transition-colors",title:a?"Hide password":"Show password",children:a?"":""})]}),w.jsx("button",{type:"submit",className:"mt-4 bg-primary text-navy font-bold py-3 rounded-lg hover:bg-primary/90 transition-colors shadow-lg shadow-primary/20",children:"Sign In"})]})]})})})};function z5(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function $5(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function H5(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(t)}function xd(t){return Je({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function W5(t){return Je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function q5(t){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function K5(t){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Tb(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function G5(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(t)}function Q5(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function Y5(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function X5(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function po(t){return Je({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function J5(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function av(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Z5(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const eF=()=>{const t=P.useContext(pi),[e,n]=P.useState(!1),[r,s]=P.useState(null),[a,l]=P.useState(!1),[c,d]=P.useState([]),[p,m]=P.useState(""),[y,x]=P.useState(!1),[S,A]=P.useState("connecting"),R=P.useRef(null),I=P.useRef(null),L=fo(),B=L?L.showAlert:()=>{},V="wss://personal-chatbot-hp83.onrender.com/ws/chat";P.useEffect(()=>{let k,M;const F=()=>{A(z=>z==="connected"?z:"connecting"),k=new WebSocket(V),s(k),k.onopen=()=>{l(!0),A("connected"),x(!1)},k.onmessage=z=>{x(!1),d(O=>[...O,{role:"assistant",content:z.data}])},k.onerror=z=>{console.error("WebSocket error:",z),k.close()},k.onclose=()=>{l(!1),A("reconnecting"),M=setTimeout(F,5e3)}};return e&&F(),()=>{clearTimeout(M),k&&k.close()}},[e]),P.useEffect(()=>{var k;(k=R.current)==null||k.scrollIntoView({behavior:"smooth"})},[c,y,e]);const K=k=>{m(k.target.value);const M=I.current;M&&(M.style.height="44px",M.style.height=Math.min(M.scrollHeight,140)+"px")},X=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),te())},te=()=>{if(!(!p.trim()||!r||r.readyState!==WebSocket.OPEN))try{r.send(p),d(k=>[...k,{role:"user",content:p}]),m(""),x(!0),I.current&&(I.current.style.height="44px")}catch{B("Failed to send. Please try again.","error")}},D={hidden:{opacity:0,scale:.9,y:20,transition:{duration:.2}},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,type:"spring",stiffness:300,damping:25}},exit:{opacity:0,scale:.9,y:20,transition:{duration:.2}}},C={hidden:{y:"100%",opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",damping:25,stiffness:300}},exit:{y:"100%",opacity:0,transition:{duration:.2}}};return w.jsxs(w.Fragment,{children:[w.jsx(oo,{children:!e&&w.jsx(_e.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(!0),className:`fixed z-[9990] flex items-center justify-center shadow-lg bg-primary text-navy rounded-full
              ${t?"bottom-24 right-6 w-14 h-14":"bottom-10 right-10 w-16 h-16"}
            `,children:w.jsx(q5,{size:t?24:28})})}),w.jsx(oo,{children:e&&w.jsxs(_e.div,{variants:t?C:D,initial:"hidden",animate:"visible",exit:"exit",className:`fixed z-[9999] flex flex-col bg-navy border border-lightest-navy shadow-2xl overflow-hidden
              ${t?"inset-0 rounded-none":"bottom-24 right-10 w-[400px] h-[600px] rounded-2xl"}
            `,style:t?{position:"fixed",top:0,left:0,right:0,bottom:0}:{},children:[w.jsxs("div",{className:"bg-light-navy/90 backdrop-blur-md px-4 py-3 flex items-center justify-between border-b border-lightest-navy shrink-0",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[t&&w.jsx("button",{onClick:()=>n(!1),className:"text-slate-400 hover:text-white",children:w.jsx($5,{size:20})}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"font-bold text-slate-200 text-lg",children:"Shiv's Assistant"}),w.jsxs("div",{className:"flex items-center gap-1.5",children:[w.jsx("span",{className:`w-2 h-2 rounded-full ${S==="connected"?"bg-green-500":S==="connecting"?"bg-yellow-500":"bg-red-500"}`}),w.jsx("span",{className:"text-xs text-slate-400 capitalize",children:S})]})]})]}),!t&&w.jsx("button",{onClick:()=>n(!1),className:"text-slate-400 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10",children:w.jsx(po,{size:20})})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-navy scrollbar-thin scrollbar-thumb-lightest-navy scrollbar-track-transparent",children:[c.length===0&&!y&&w.jsxs("div",{className:"bg-light-navy p-4 rounded-xl rounded-bl-none max-w-[85%] text-slate-300 self-start shadow-md border border-lightest-navy/50",children:[w.jsx("p",{children:" Hi there! I'm Shiv's AI assistant."}),w.jsx("p",{className:"mt-2",children:"I can tell you about his projects, skills, and experience. How can I help?"})]}),c.map((k,M)=>w.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:w.jsx("div",{className:`max-w-[85%] p-3 rounded-xl text-sm shadow-md ${k.role==="user"?"bg-primary text-navy rounded-br-none font-medium":"bg-light-navy text-slate-300 rounded-bl-none border border-lightest-navy/50"}`,children:k.content})},M)),y&&w.jsx("div",{className:"flex justify-start",children:w.jsxs("div",{className:"bg-light-navy p-3 rounded-xl rounded-bl-none flex gap-1 shadow-md border border-lightest-navy/50",children:[w.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),w.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-100"}),w.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-200"})]})}),w.jsx("div",{ref:R})]}),w.jsxs("div",{className:"p-3 bg-light-navy/50 border-t border-lightest-navy flex gap-2 items-end shrink-0 backdrop-blur-sm",children:[w.jsx("textarea",{ref:I,className:"flex-1 bg-navy/50 border border-lightest-navy rounded-xl p-3 text-sm text-slate-300 focus:outline-none focus:border-primary resize-none max-h-32 placeholder:text-slate-500",placeholder:"Type a message...",rows:1,value:p,onChange:K,onKeyDown:X}),w.jsx("button",{className:"p-3 bg-primary text-navy rounded-xl hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg active:scale-95 transform duration-100",onClick:te,disabled:!a||!p.trim(),children:w.jsx(Q5,{size:18})})]})]})})]})},tF=()=>{const t=P.useContext(pi),e=P.useRef(null),[n,r]=P.useState(!1),{scrollYProgress:s}=yb({target:e,offset:["start start","end start"]}),a=ns(s,[0,1],["0%","50%"]),l=ns(s,[0,.5],[1,0]);return P.useEffect(()=>{const d=document.getElementById("matrix-canvas");if(!d)return;const p=d.getContext("2d");d.width=window.innerWidth,d.height=window.innerHeight;const m="",y=14,x=d.width/y,S=Array(Math.floor(x)).fill(1);function A(){p.fillStyle="rgba(2, 12, 9, 0.05)",p.fillRect(0,0,d.width,d.height),p.fillStyle="#34d399",p.font=y+"px monospace";for(let I=0;I<S.length;I++){const L=m[Math.floor(Math.random()*m.length)];p.fillText(L,I*y,S[I]*y),S[I]*y>d.height&&Math.random()>.975&&(S[I]=0),S[I]++}}const R=setInterval(A,33);return()=>clearInterval(R)},[]),P.useEffect(()=>{const d=setInterval(()=>{r(!0),setTimeout(()=>r(!1),100)},5e3);return()=>clearInterval(d)},[]),w.jsxs("div",{ref:e,className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[w.jsx("canvas",{id:"matrix-canvas",className:"absolute inset-0 opacity-20 pointer-events-none"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-navy via-transparent to-navy pointer-events-none"}),w.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),w.jsxs(_e.div,{className:"w-full max-w-7xl px-4 grid md:grid-cols-2 gap-12 items-center z-10",style:{y:a,opacity:l},children:[w.jsxs("div",{className:"space-y-6",children:[w.jsxs(_e.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:n?"glitch":"",children:[w.jsx("p",{className:"text-primary font-mono text-xs md:text-base mb-2 tracking-wider",children:"$ whoami"}),w.jsxs("h1",{className:"text-4xl md:text-7xl font-bold text-slate-100 mb-4 font-mono tracking-tighter",children:["SHIV",w.jsx("span",{className:"text-primary",children:"."})]}),w.jsx("h2",{className:"text-xl md:text-4xl font-bold text-slate-400 mb-6 font-mono",children:"<JAVA_DEVELOPER />"})]}),w.jsxs(_e.p,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.8},className:"text-slate-300 text-lg leading-relaxed max-w-xl",children:["I craft ",w.jsx("span",{className:"text-primary font-semibold",children:"high-performance"})," backend systems and ",w.jsx("span",{className:"text-tertiary font-semibold",children:"elegant"})," web experiences. Specializing in Java, Spring Boot, and modern web technologies."]}),w.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex gap-4 flex-wrap",children:[w.jsxs("a",{href:"#projects",className:"group px-6 py-3 border-2 border-primary text-primary font-mono text-sm hover:bg-primary hover:text-navy transition-all duration-300 relative overflow-hidden",children:[w.jsx("span",{className:"relative z-10",children:"VIEW PROJECTS"}),w.jsx("div",{className:"absolute inset-0 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"})]}),w.jsx("a",{href:"#contact",className:"px-6 py-3 bg-transparent border-2 border-slate-600 text-slate-300 font-mono text-sm hover:border-tertiary hover:text-tertiary transition-all duration-300",children:"GET IN TOUCH"})]}),w.jsxs(_e.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"font-mono text-xs text-slate-500 space-y-1 mt-8",children:[w.jsxs("p",{children:[w.jsx("span",{className:"text-primary",children:""})," System: ONLINE"]}),w.jsxs("p",{children:[w.jsx("span",{className:"text-tertiary",children:""})," Skills: LOADED"]}),w.jsxs("p",{children:[w.jsx("span",{className:"text-green-400",children:""})," Status: READY_TO_BUILD"]})]})]}),!t&&w.jsxs(_e.div,{initial:{opacity:0,x:50,rotateY:-15},animate:{opacity:1,x:0,rotateY:0},transition:{delay:.4,duration:.8},className:"relative group",style:{perspective:"1000px"},children:[w.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 to-tertiary/20 rounded-lg blur-xl opacity-50 group-hover:opacity-75 transition duration-500"}),w.jsxs("div",{className:"relative bg-light-navy/80 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-2xl",children:[w.jsxs("div",{className:"bg-lightest-navy/50 px-4 py-3 flex items-center gap-2 border-b border-primary/20",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),w.jsx("span",{className:"ml-4 text-xs text-slate-400 font-mono",children:"Developer.java"})]}),w.jsx("div",{className:"p-6 font-mono text-sm",children:w.jsx("pre",{className:"text-slate-300 leading-relaxed",children:w.jsx("code",{children:`class Developer {
  constructor() {
    this.name = "Shiv Wakchaure";
    this.role = "Java Developer";
    this.skills = ["Java", "Spring", "React"];
  }
  
  build() {
    return "Innovative Solutions";
  }
}`.split(`
`).map((d,p)=>w.jsxs(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+p*.1},className:"hover:bg-primary/10 px-2 -mx-2 transition-colors",children:[w.jsx("span",{className:"text-slate-600 mr-4 select-none",children:String(p+1).padStart(2,"0")}),w.jsx("span",{dangerouslySetInnerHTML:{__html:d.replace(/class|constructor|this|return/g,'<span class="text-primary">$&</span>').replace(/"([^"]*)"/g,'<span class="text-tertiary">"$1"</span>')}})]},p))})})})]}),w.jsx(_e.div,{animate:{y:[0,-20,0],rotate:[0,5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute -top-8 -right-8 w-16 h-16 border border-primary/30 rounded-lg"}),w.jsx(_e.div,{animate:{y:[0,15,0],rotate:[0,-5,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute -bottom-6 -left-6 w-20 h-20 border border-tertiary/30 rounded-lg"})]})]}),w.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:1},className:"absolute bottom-10 left-1/2 -translate-x-1/2 hidden md:block",children:w.jsx(_e.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0},className:"text-primary/50 text-sm font-mono",children:w.jsx("div",{className:"w-6 h-10 border-2 border-primary/30 rounded-full flex justify-center pt-2",children:w.jsx(_e.div,{animate:{y:[0,12,0],opacity:[1,0,1]},transition:{duration:1.5,repeat:1/0},className:"w-1 h-2 bg-primary/50 rounded-full"})})})}),w.jsx("style",{children:`
        .glitch {
          animation: glitch 0.3s;
        }
        
        @keyframes glitch {
          0%, 100% { transform: translate(0); }
          20% { transform: translate(-2px, 2px); }
          40% { transform: translate(-2px, -2px); }
          60% { transform: translate(2px, 2px); }
          80% { transform: translate(2px, -2px); }
        }
      `})]})},Sb=Ht.createContext({}),Ib=!0;function nF({baseColor:t,highlightColor:e,width:n,height:r,borderRadius:s,circle:a,direction:l,duration:c,enableAnimation:d=Ib,customHighlightBackground:p}){const m={};return l==="rtl"&&(m["--animation-direction"]="reverse"),typeof c=="number"&&(m["--animation-duration"]=`${c}s`),d||(m["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(m.width=n),(typeof r=="string"||typeof r=="number")&&(m.height=r),(typeof s=="string"||typeof s=="number")&&(m.borderRadius=s),a&&(m.borderRadius="50%"),typeof t<"u"&&(m["--base-color"]=t),typeof e<"u"&&(m["--highlight-color"]=e),typeof p=="string"&&(m["--custom-highlight-background"]=p),m}function rs({count:t=1,wrapper:e,className:n,containerClassName:r,containerTestId:s,circle:a=!1,style:l,...c}){var d,p,m;const y=Ht.useContext(Sb),x={...c};for(const[V,K]of Object.entries(c))typeof K>"u"&&delete x[V];const S={...y,...x,circle:a},A={...l,...nF(S)};let R="react-loading-skeleton";n&&(R+=` ${n}`);const I=(d=S.inline)!==null&&d!==void 0?d:!1,L=[],B=Math.ceil(t);for(let V=0;V<B;V++){let K=A;if(B>t&&V===B-1){const te=(p=K.width)!==null&&p!==void 0?p:"100%",D=t%1,C=typeof te=="number"?te*D:`calc(${te} * ${D})`;K={...K,width:C}}const X=Ht.createElement("span",{className:R,style:K,key:V},"");I?L.push(X):L.push(Ht.createElement(Ht.Fragment,{key:V},X,Ht.createElement("br",null)))}return Ht.createElement("span",{className:r,"data-testid":s,"aria-live":"polite","aria-busy":(m=S.enableAnimation)!==null&&m!==void 0?m:Ib},e?L.map((V,K)=>Ht.createElement(e,{key:K},V)):L)}function Ed({children:t,...e}){return Ht.createElement(Sb.Provider,{value:e},t)}const rF=()=>{const t=P.useContext(pi),e=fs(Nn,"about"),[n,r]=P.useState({profile:"",description:""}),[s,a]=P.useState(!0),[l,c]=P.useState("");P.useEffect(()=>{(async()=>{try{const y=await Fu(e),x=y.docs[0].data();c(y.docs[0].id),r(x),a(!1)}catch(y){console.error(y)}})()},[]);const[d,p]=P.useState("profile");return w.jsxs("div",{className:"min-h-screen py-20 px-4 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-navy/50 to-transparent pointer-events-none"}),w.jsxs("div",{className:"w-full max-w-6xl mx-auto relative z-10",children:[w.jsxs(_e.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-8 md:mb-16",children:[w.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-200 mb-2 font-mono tracking-tighter",children:[w.jsx("span",{className:"text-primary",children:"$"})," cat about.txt"]}),w.jsx("div",{className:"h-1 w-20 bg-primary"})]}),t&&w.jsxs("div",{className:"flex gap-4 mb-8 border-b border-primary/20 pb-2",children:[w.jsx("button",{onClick:()=>p("profile"),className:`font-mono text-sm px-4 py-2 rounded transition-all ${d==="profile"?"bg-primary/20 text-primary border border-primary/50":"text-slate-400 hover:text-slate-200"}`,children:"profile.jpg"}),w.jsx("button",{onClick:()=>p("details"),className:`font-mono text-sm px-4 py-2 rounded transition-all ${d==="details"?"bg-primary/20 text-primary border border-primary/50":"text-slate-400 hover:text-slate-200"}`,children:"README.md"})]}),w.jsxs("div",{className:`${t?"block":"grid md:grid-cols-2 gap-12"} items-start`,children:[(!t||d==="profile")&&w.jsxs(_e.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"relative group",children:[w.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 to-tertiary/20 rounded-lg blur-xl opacity-50 group-hover:opacity-75 transition duration-500"}),w.jsxs("div",{className:"relative bg-light-navy/80 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-2xl",children:[w.jsxs("div",{className:"bg-lightest-navy/50 px-4 py-3 flex items-center gap-2 border-b border-primary/20",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),w.jsx("span",{className:"ml-4 text-xs text-slate-400 font-mono",children:"profile.jpg"})]}),w.jsx("div",{className:"p-6",children:s?w.jsx(Ed,{baseColor:"#112240",highlightColor:"#233554",children:w.jsx(rs,{height:400,borderRadius:8})}):w.jsxs(_e.div,{whileHover:{scale:1.02},className:"relative overflow-hidden rounded-lg border border-primary/20",children:[w.jsx("img",{src:n.profile,alt:"Profile",className:"w-full h-auto object-cover grayscale hover:grayscale-0 transition-all duration-500"}),w.jsx(_e.div,{animate:{y:[-400,400]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-b from-transparent via-primary/10 to-transparent h-20"})]})}),w.jsx("div",{className:"bg-lightest-navy/30 px-4 py-2 border-t border-primary/20 font-mono text-xs text-slate-400",children:w.jsxs("div",{className:"flex justify-between",children:[w.jsxs("span",{children:[w.jsx("span",{className:"text-primary",children:""})," STATUS: ACTIVE"]}),w.jsxs("span",{children:[w.jsx("span",{className:"text-tertiary",children:""})," ROLE: DEV"]})]})})]})]}),(!t||d==="details")&&w.jsx(_e.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"space-y-6",children:s?w.jsx(Ed,{baseColor:"#112240",highlightColor:"#233554",children:w.jsx(rs,{count:8})}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-light-navy/40 backdrop-blur-sm border border-primary/20 rounded-lg p-6",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-4 text-primary font-mono text-sm",children:[w.jsx("span",{className:"animate-pulse",children:">"}),w.jsx("span",{children:"README.md"})]}),w.jsx("div",{className:"text-slate-300 leading-relaxed space-y-4",children:n.description.split(`
`).map((m,y)=>w.jsx(_e.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:y*.1},className:"text-base",children:m},y))})]}),w.jsx("div",{className:"bg-light-navy/40 backdrop-blur-sm border border-tertiary/20 rounded-lg p-4",children:w.jsxs("div",{className:"font-mono text-xs text-slate-400 space-y-2",children:[w.jsx("p",{className:"text-tertiary mb-2",children:"// TECH_STACK"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:["Java","Spring Boot","React","Node.js","MySQL"].map((m,y)=>w.jsx(_e.span,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.5+y*.1},className:"px-3 py-1 bg-navy/50 border border-primary/30 rounded text-primary text-xs",children:m},y))})]})})]})})]})]})]})},iF=()=>{const t=P.useContext(pi),[e,n]=P.useState(!0),r=fs(Nn,"projects"),[s,a]=P.useState([]),[l,c]=P.useState(null);return P.useEffect(()=>{(async()=>{try{const y=(await Fu(r)).docs.map(x=>({id:x.id,data:x.data()})).sort((x,S)=>x.data.order-S.data.order);a(y),n(!1)}catch(p){console.error(p)}})()},[]),w.jsxs("div",{className:"relative w-full py-20 px-4 overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),w.jsxs("div",{className:"w-full max-w-6xl mx-auto relative z-10",children:[w.jsxs(_e.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-8 md:mb-16 flex justify-between items-end",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-200 mb-2 font-mono tracking-tighter",children:[w.jsx("span",{className:"text-primary",children:"$"})," cat projects.log"]}),w.jsx("div",{className:"h-1 w-20 bg-primary"})]}),t&&!e&&w.jsxs(_e.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{repeat:1/0,duration:1.5,repeatType:"reverse"},className:"flex items-center gap-1 text-primary font-mono text-xs mb-2",children:[w.jsx("span",{children:"Swipe"}),w.jsx(xd,{}),w.jsx(xd,{className:"-ml-1"})]})]}),w.jsx("div",{className:`${t?"flex overflow-x-auto snap-x snap-mandatory gap-4 pb-8 -mx-4 px-4 scrollbar-hide":"relative"}`,children:e?[1,2].map((d,p)=>w.jsx("div",{className:`bg-light-navy/40 border border-primary/30 rounded-lg p-6 ${t?"min-w-[85vw] snap-center":""}`,children:w.jsxs(Ed,{baseColor:"#112240",highlightColor:"#233554",children:[w.jsx(rs,{height:40,width:300,className:"mb-4"}),w.jsx(rs,{count:3,className:"mb-2"}),w.jsx(rs,{height:200,borderRadius:8,className:"mt-4"})]})},p)):t?s.map((d,p)=>w.jsx("div",{className:"min-w-[85vw] snap-center",children:w.jsxs(_e.div,{whileTap:{scale:.98},onClick:()=>c(d),className:"relative bg-light-navy/60 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-lg h-[400px] flex flex-col",children:[w.jsxs("div",{className:"h-3/5 relative overflow-hidden",children:[w.jsx("img",{src:d.data.image,alt:d.data.title,className:"w-full h-full object-cover"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-navy/90 to-transparent"}),w.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[w.jsxs("div",{className:"font-mono text-xs text-primary mb-1",children:["// PROJECT_",String(p+1).padStart(2,"0")]}),w.jsx("h3",{className:"text-2xl font-bold text-slate-100 font-mono leading-tight",children:d.data.title})]})]}),w.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-between bg-navy/40",children:[w.jsx("p",{className:"text-slate-400 text-sm line-clamp-3 font-sans",children:d.data.description}),w.jsxs("div",{className:"flex items-center gap-2 text-primary text-xs font-mono mt-4",children:[w.jsx("span",{children:"[TAP TO VIEW DETAILS]"}),w.jsx(Tb,{className:"w-3 h-3"})]})]})]})},d.id)):w.jsx(aF,{items:s,renderItem:(d,p)=>w.jsx(oF,{project:d,index:p,isMobile:t})})})]}),w.jsx(oo,{children:l&&w.jsx(sF,{project:l,onClose:()=>c(null)})})]})},sF=({project:t,onClose:e})=>typeof document>"u"?null:QE.createPortal(w.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[99999] flex items-center justify-center p-4 bg-navy/80 backdrop-blur-sm",onClick:e,children:w.jsxs(_e.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-light-navy border border-primary/30 rounded-xl overflow-hidden w-full max-w-lg max-h-[90vh] flex flex-col shadow-2xl relative",onClick:n=>n.stopPropagation(),children:[w.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 p-2 bg-navy/50 rounded-full text-slate-300 hover:text-white hover:bg-red-500/20 transition-colors",children:w.jsx(po,{})}),w.jsxs("div",{className:"h-48 sm:h-64 relative shrink-0",children:[w.jsx("img",{src:t.data.image,alt:t.data.title,className:"w-full h-full object-cover"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-light-navy to-transparent"}),w.jsx("div",{className:"absolute bottom-4 left-6",children:w.jsx("h3",{className:"text-3xl font-bold text-slate-100 font-mono tracking-tight shadow-black drop-shadow-lg",children:t.data.title})})]}),w.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[w.jsx("div",{className:"font-mono text-xs text-primary/70 mb-4",children:"// PROJECT DETAILS"}),w.jsx("div",{className:"bg-navy/30 border border-primary/10 rounded-lg p-4 mb-6",children:w.jsx("p",{className:"text-slate-300 text-sm leading-relaxed whitespace-pre-wrap",children:t.data.description})}),w.jsx("a",{href:t.data.link,target:"_blank",rel:"noreferrer",className:"block w-full text-center py-3 bg-primary/10 border border-primary text-primary font-mono font-bold rounded hover:bg-primary hover:text-navy transition-all active:scale-95",children:"[ LAUNCH PROJECT ]"})]})]})}),document.body),oF=({project:t,index:e,isMobile:n})=>{const r=P.useRef(null),{scrollYProgress:s}=yb({target:r,offset:["start end","end start"]}),a=ns(s,[0,1],[50,-50]),l=ns(s,[0,.2,.8,1],[0,1,1,0]);return w.jsx(_e.div,{ref:r,style:{opacity:l},initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"relative bg-light-navy/40 backdrop-blur-md border border-primary/30 rounded-xl overflow-hidden mb-20 shadow-2xl group min-h-[500px]",children:w.jsxs("div",{className:"grid md:grid-cols-2 h-full",children:[w.jsxs(_e.div,{style:{y:a},className:"relative h-64 md:h-full overflow-hidden",children:[w.jsx("img",{src:t.data.image,alt:t.data.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-navy/60 to-transparent"})]}),w.jsxs("div",{className:"p-8 flex flex-col justify-center",children:[w.jsxs("div",{className:"font-mono text-xs text-primary mb-2",children:["// PROJECT_",String(e+1).padStart(2,"0")]}),w.jsx("h3",{className:"text-3xl font-bold text-slate-100 mb-4 font-mono",children:t.data.title}),w.jsx("p",{className:"text-slate-400 mb-6 leading-relaxed",children:t.data.description}),w.jsxs("a",{href:t.data.link,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-primary hover:text-white transition-colors font-mono font-bold",children:["[ VIEW PROJECT ]",w.jsx(Tb,{className:"w-4 h-4"})]})]})]})})},aF=({items:t,renderItem:e})=>{const[n,r]=P.useState(0),[s,a]=P.useState(!1);return P.useEffect(()=>{if(s||t.length===0)return;const l=setInterval(()=>{r(c=>(c+1)%t.length)},5e3);return()=>clearInterval(l)},[s,t.length]),w.jsxs("div",{className:"relative",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[w.jsx(_e.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:(l,{offset:c,velocity:d})=>{c.x>100&&n>0?r(n-1):c.x<-100&&n<t.length-1&&r(n+1)},children:e(t[n],n)},n),w.jsx("div",{className:"flex justify-center gap-2 mt-6",children:t.map((l,c)=>w.jsx("button",{onClick:()=>r(c),className:`h-2 rounded-full transition-all ${c===n?"w-8 bg-primary":"w-2 bg-slate-600 hover:bg-slate-500"}`},c))})]})},DE=[{id:1,name:"Java",level:95,x:50,y:50,size:"large",color:"#f89820",category:"core"},{id:2,name:"JavaScript",level:95,x:50,y:35,size:"large",color:"#f7df1e",category:"core"},{id:3,name:"Spring Boot",level:88,x:65,y:55,size:"medium",color:"#6db33f",category:"backend"},{id:4,name:"Node.js",level:85,x:65,y:40,size:"medium",color:"#68a063",category:"backend"},{id:5,name:"Python",level:70,x:75,y:48,size:"small",color:"#3776ab",category:"backend"},{id:6,name:"React",level:92,x:35,y:40,size:"large",color:"#61dafb",category:"frontend"},{id:7,name:"TypeScript",level:85,x:25,y:48,size:"medium",color:"#3178c6",category:"frontend"},{id:8,name:"HTML/CSS",level:90,x:35,y:58,size:"medium",color:"#e34c26",category:"frontend"},{id:9,name:"MySQL",level:88,x:50,y:65,size:"medium",color:"#00758f",category:"database"},{id:10,name:"MongoDB",level:75,x:40,y:72,size:"small",color:"#47a248",category:"database"},{id:11,name:"Redis",level:72,x:60,y:72,size:"small",color:"#dc382d",category:"database"},{id:12,name:"Docker",level:85,x:70,y:30,size:"medium",color:"#2496ed",category:"devops"},{id:13,name:"Git",level:95,x:80,y:38,size:"large",color:"#f05032",category:"devops"},{id:14,name:"AWS",level:75,x:75,y:25,size:"small",color:"#ff9900",category:"devops"},{id:15,name:"VS Code",level:95,x:30,y:28,size:"medium",color:"#007acc",category:"tools"},{id:16,name:"Linux",level:88,x:85,y:58,size:"medium",color:"#fcc624",category:"tools"}],lF=()=>{const t=P.useContext(pi),e=["core","frontend","backend","database","devops","tools"];return w.jsxs("div",{className:"min-h-screen py-20 px-4 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),[...Array(30)].map((n,r)=>w.jsx(_e.div,{className:"absolute w-1 h-1 bg-primary/20 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-50,0],opacity:[.2,.5,.2]},transition:{duration:4+Math.random()*3,repeat:1/0,delay:Math.random()*2}},r)),w.jsxs("div",{className:"w-full max-w-7xl mx-auto relative z-10",children:[w.jsxs(_e.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-8 md:mb-16 text-center",children:[w.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-slate-200 mb-2 font-mono tracking-tighter",children:[w.jsx("span",{className:"text-primary",children:"$"})," ls -R ./skills"]}),w.jsx("div",{className:"h-1 w-20 bg-primary mx-auto mb-4"}),w.jsx("p",{className:"text-slate-400 font-mono text-xs md:text-sm",children:"// Categorized technical proficiency breakdown"}),t&&w.jsxs(_e.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{repeat:1/0,duration:1.5,repeatType:"reverse"},className:"flex items-center justify-center gap-1 text-primary font-mono text-xs mt-4",children:[w.jsx("span",{children:"Swipe Categories"}),w.jsxs("div",{className:"flex",children:[w.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),w.jsx("svg",{className:"w-3 h-3 -ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),w.jsx("div",{className:t?"flex overflow-x-auto snap-x snap-mandatory gap-6 pb-8 -mx-4 px-4 scrollbar-hide":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((n,r)=>{const s=DE.filter(a=>a.category===n);return s.length===0?null:w.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:`${t?"min-w-[85vw] snap-center":"w-full"} bg-light-navy/60 backdrop-blur-md border border-primary/30 rounded-xl overflow-hidden shadow-lg flex flex-col hover:border-primary/60 transition-colors duration-300`,children:[w.jsxs("div",{className:"bg-lightest-navy/50 px-4 py-3 border-b border-primary/20 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),w.jsx("h3",{className:"text-primary font-mono text-lg font-bold uppercase tracking-wider",children:n})]}),w.jsx("div",{className:"p-6 grid grid-cols-2 gap-4",children:s.map((a,l)=>w.jsxs(_e.div,{whileHover:{scale:1.05},className:"bg-navy/40 border border-primary/20 rounded-lg p-3 flex flex-col items-center justify-center text-center relative overflow-hidden group",children:[w.jsx("div",{className:"absolute inset-0 bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),w.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mb-2 relative z-10",style:{backgroundColor:`${a.color}20`,color:a.color},children:w.jsx("span",{className:"font-bold text-base",children:a.name.charAt(0)})}),w.jsx("h3",{className:"text-slate-200 font-bold text-xs mb-1 relative z-10",children:a.name}),w.jsx("div",{className:"w-full bg-navy/80 h-1 rounded-full overflow-hidden relative z-10",children:w.jsx("div",{className:"h-full rounded-full",style:{width:`${a.level}%`,backgroundColor:a.color}})})]},a.id))}),w.jsx("div",{className:"mt-auto bg-navy/30 px-4 py-2 border-t border-primary/10 text-right",children:w.jsxs("span",{className:"text-[10px] text-primary/50 font-mono",children:[s.length," modules loaded"]})})]},n)})}),w.jsx(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.8},className:"mt-12 grid grid-cols-2 md:grid-cols-5 gap-4",children:["core","backend","frontend","database","devops"].map(n=>{const r=DE.filter(a=>a.category===n),s=Math.floor(r.reduce((a,l)=>a+l.level,0)/r.length);return w.jsxs("div",{className:"bg-light-navy/40 backdrop-blur-sm border border-primary/20 rounded-lg p-4 text-center hover:bg-light-navy/60 transition-colors",children:[w.jsxs("div",{className:"text-primary font-mono text-xl md:text-2xl font-bold mb-1",children:[s,"%"]}),w.jsx("div",{className:"text-slate-400 font-mono text-xs capitalize",children:n}),w.jsxs("div",{className:"text-slate-600 font-mono text-xs mt-1",children:[r.length," skills"]})]},n)})})]})]})},uF=()=>{const[t,e]=P.useState(!0),[n,r]=P.useState(null),s=fs(Nn,"experiences"),[a,l]=P.useState([{id:"",data:{companyName:"",duration:"",role:"",desc:"",order:0}}]);P.useEffect(()=>{(async()=>{try{const p=await Fu(s);if(p.docs.length==0)return;const y=p.docs.map(x=>({id:x.id,data:x.data()})).sort((x,S)=>x.data.order-S.data.order);l(y),e(!1)}catch(p){console.error(p)}})()},[]);const c=P.useContext(pi);return w.jsxs("div",{className:"min-h-screen py-20 px-4 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),w.jsxs("div",{className:"w-full max-w-5xl mx-auto relative z-10",children:[w.jsxs(_e.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-8 md:mb-16 flex justify-between items-end",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-200 mb-2 font-mono tracking-tighter",children:[w.jsx("span",{className:"text-primary",children:"$"})," git log --experience"]}),w.jsx("div",{className:"h-1 w-20 bg-primary"})]}),c&&!t&&w.jsxs(_e.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{repeat:1/0,duration:1.5,repeatType:"reverse"},className:"flex items-center gap-1 text-primary font-mono text-xs mb-2",children:[w.jsx("span",{children:"Swipe"}),w.jsx(xd,{}),w.jsx(xd,{className:"-ml-1"})]})]}),w.jsx("div",{className:`${c?"flex overflow-x-auto snap-x snap-mandatory gap-4 pb-8 -mx-4 px-4 scrollbar-hide":"relative"}`,children:t?[1,2].map((d,p)=>w.jsx("div",{className:`bg-light-navy/40 border border-primary/30 rounded-lg p-6 ${c?"min-w-[85vw] snap-center":""}`,children:w.jsxs(Ed,{baseColor:"#112240",highlightColor:"#233554",children:[w.jsx(rs,{width:200,height:30,className:"mb-2"}),w.jsx(rs,{width:150,height:20,className:"mb-4"}),w.jsx(rs,{count:3})]})},p)):c?a.map((d,p)=>w.jsx(_e.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:p*.1},className:"min-w-[85vw] snap-center",children:w.jsxs(_e.div,{whileTap:{scale:.98},onClick:()=>r(d),className:"relative bg-light-navy/60 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-lg h-[250px] p-6 flex flex-col justify-between",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),w.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:["commit_",String(p+1).padStart(2,"0")]})]}),w.jsx("h3",{className:"text-xl font-bold text-slate-100 mb-1 line-clamp-1",children:d.data.companyName}),w.jsx("div",{className:"text-primary text-xs mb-2",children:d.data.duration}),w.jsx("div",{className:"text-green-400 text-sm font-mono line-clamp-1",children:d.data.role})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-slate-400 text-xs line-clamp-3 mb-4 font-sans",children:d.data.desc}),w.jsx("div",{className:"text-primary text-xs font-mono text-right",children:"[TAP FOR DETAILS]"})]})]})},d.id)):w.jsx(hF,{items:a,renderItem:(d,p)=>w.jsxs("div",{className:"relative group h-full p-4",children:[w.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary/10 to-transparent rounded-lg blur opacity-0 group-hover:opacity-75 transition duration-500"}),w.jsxs("div",{className:"relative bg-light-navy/60 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-lg h-full min-h-[400px]",children:[w.jsxs("div",{className:"bg-lightest-navy/50 px-4 py-3 flex items-center gap-2 border-b border-primary/20",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),w.jsxs("span",{className:"ml-4 text-xs text-slate-400 font-mono",children:["commit_",String(p+1).padStart(2,"0"),".log"]})]}),w.jsx("div",{className:"p-8 font-mono",children:w.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[w.jsx("span",{className:"text-tertiary",children:"commit"}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h3",{className:"text-3xl font-bold text-slate-100 mb-2",children:d.data.companyName}),w.jsx("div",{className:"text-primary text-sm mb-4",children:d.data.duration}),w.jsxs("div",{className:"text-green-400 text-lg mb-6",children:[w.jsx("span",{className:"text-slate-500 text-sm",children:"Author:"})," ",d.data.role]}),w.jsx("div",{className:"bg-navy/50 border border-primary/20 rounded p-6 mt-4",children:w.jsx("p",{className:"text-slate-300 text-base leading-relaxed font-sans",children:d.data.desc})})]})]})}),w.jsx("div",{className:"bg-lightest-navy/30 px-4 py-2 border-t border-primary/20 font-mono text-xs text-slate-400 absolute bottom-0 w-full",children:w.jsxs("span",{children:[w.jsx("span",{className:"text-primary",children:""})," branch: main"]})})]})]})})})]}),w.jsx(oo,{children:n&&w.jsx(cF,{exp:n,onClose:()=>r(null)})})]})},cF=({exp:t,onClose:e})=>typeof document>"u"?null:QE.createPortal(w.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[99999] flex items-center justify-center p-4 bg-navy/80 backdrop-blur-sm",onClick:e,children:w.jsxs(_e.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-light-navy border border-primary/30 rounded-xl overflow-hidden w-full max-w-lg max-h-[80vh] flex flex-col shadow-2xl relative",onClick:n=>n.stopPropagation(),children:[w.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 p-2 bg-navy/50 rounded-full text-slate-300 hover:text-white hover:bg-red-500/20 transition-colors",children:w.jsx(po,{})}),w.jsxs("div",{className:"bg-lightest-navy/50 px-6 py-6 border-b border-primary/20",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),w.jsx("h3",{className:"text-2xl font-bold text-slate-100 font-mono mb-1",children:t.data.companyName}),w.jsx("div",{className:"text-primary text-sm font-mono",children:t.data.duration})]}),w.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[w.jsxs("div",{className:"mb-6",children:[w.jsx("span",{className:"text-slate-500 font-mono text-xs block mb-1",children:"ROLE"}),w.jsx("div",{className:"text-green-400 font-bold text-lg",children:t.data.role})]}),w.jsx("div",{className:"bg-navy/30 border border-primary/10 rounded-lg p-4",children:w.jsx("p",{className:"text-slate-300 text-sm leading-relaxed whitespace-pre-wrap font-sans",children:t.data.desc})})]})]})}),document.body),hF=({items:t,renderItem:e})=>{const[n,r]=P.useState(0),[s,a]=P.useState(!1);P.useEffect(()=>{if(s)return;const c=setInterval(()=>{r(d=>(d+1)%t.length)},5e3);return()=>clearInterval(c)},[t.length,s]);const l=(c,d)=>{d.offset.x<-100?r(p=>(p+1)%t.length):d.offset.x>100&&r(p=>(p-1+t.length)%t.length)};return w.jsxs("div",{className:"relative overflow-hidden min-h-[500px]",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[w.jsx("div",{className:"absolute top-0 right-0 z-20 flex gap-2 mb-4",children:t.map((c,d)=>w.jsx("button",{onClick:()=>r(d),className:`w-3 h-1 rounded-full transition-all duration-300 ${d===n?"bg-primary w-8":"bg-primary/20 hover:bg-primary/50"}`},d))}),w.jsx(oo,{mode:"wait",children:w.jsx(_e.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5,ease:"easeInOut"},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:l,className:"w-full cursor-grab active:cursor-grabbing",children:e(t[n],n)},n)})]})};function bb(t,e){return function(){return t.apply(e,arguments)}}const{toString:dF}=Object.prototype,{getPrototypeOf:lv}=Object,rf=(t=>e=>{const n=dF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mr=t=>(t=t.toLowerCase(),e=>rf(e)===t),sf=t=>e=>typeof e===t,{isArray:Ga}=Array,Au=sf("undefined");function fF(t){return t!==null&&!Au(t)&&t.constructor!==null&&!Au(t.constructor)&&kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Cb=mr("ArrayBuffer");function pF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Cb(t.buffer),e}const mF=sf("string"),kn=sf("function"),Ab=sf("number"),of=t=>t!==null&&typeof t=="object",gF=t=>t===!0||t===!1,Wh=t=>{if(rf(t)!=="object")return!1;const e=lv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yF=mr("Date"),vF=mr("File"),wF=mr("Blob"),_F=mr("FileList"),xF=t=>of(t)&&kn(t.pipe),EF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||kn(t.append)&&((e=rf(t))==="formdata"||e==="object"&&kn(t.toString)&&t.toString()==="[object FormData]"))},TF=mr("URLSearchParams"),[SF,IF,bF,CF]=["ReadableStream","Request","Response","Headers"].map(mr),AF=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ga(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let c;for(r=0;r<l;r++)c=a[r],e.call(null,t[c],c,t)}}function Rb(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pb=t=>!Au(t)&&t!==Ys;function _g(){const{caseless:t}=Pb(this)&&this||{},e={},n=(r,s)=>{const a=t&&Rb(e,s)||s;Wh(e[a])&&Wh(r)?e[a]=_g(e[a],r):Wh(r)?e[a]=_g({},r):Ga(r)?e[a]=r.slice():e[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Gu(arguments[r],n);return e}const RF=(t,e,n,{allOwnKeys:r}={})=>(Gu(e,(s,a)=>{n&&kn(s)?t[a]=bb(s,n):t[a]=s},{allOwnKeys:r}),t),PF=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),kF=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},NF=(t,e,n,r)=>{let s,a,l;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)l=s[a],(!r||r(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&lv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},DF=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},LF=t=>{if(!t)return null;if(Ga(t))return t;let e=t.length;if(!Ab(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},VF=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&lv(Uint8Array)),OF=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},MF=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},jF=mr("HTMLFormElement"),FF=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),LE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),UF=mr("RegExp"),kb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Gu(n,(s,a)=>{let l;(l=e(s,a,t))!==!1&&(r[a]=l||s)}),Object.defineProperties(t,r)},BF=t=>{kb(t,(e,n)=>{if(kn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(kn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zF=(t,e)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return Ga(t)?r(t):r(String(t).split(e)),n},$F=()=>{},HF=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function WF(t){return!!(t&&kn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const qF=t=>{const e=new Array(10),n=(r,s)=>{if(of(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const a=Ga(r)?[]:{};return Gu(r,(l,c)=>{const d=n(l,s+1);!Au(d)&&(a[c]=d)}),e[s]=void 0,a}}return r};return n(t,0)},KF=mr("AsyncFunction"),GF=t=>t&&(of(t)||kn(t))&&kn(t.then)&&kn(t.catch),Nb=((t,e)=>t?setImmediate:e?((n,r)=>(Ys.addEventListener("message",({source:s,data:a})=>{s===Ys&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Ys.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",kn(Ys.postMessage)),QF=typeof queueMicrotask<"u"?queueMicrotask.bind(Ys):typeof process<"u"&&process.nextTick||Nb,Y={isArray:Ga,isArrayBuffer:Cb,isBuffer:fF,isFormData:EF,isArrayBufferView:pF,isString:mF,isNumber:Ab,isBoolean:gF,isObject:of,isPlainObject:Wh,isReadableStream:SF,isRequest:IF,isResponse:bF,isHeaders:CF,isUndefined:Au,isDate:yF,isFile:vF,isBlob:wF,isRegExp:UF,isFunction:kn,isStream:xF,isURLSearchParams:TF,isTypedArray:VF,isFileList:_F,forEach:Gu,merge:_g,extend:RF,trim:AF,stripBOM:PF,inherits:kF,toFlatObject:NF,kindOf:rf,kindOfTest:mr,endsWith:DF,toArray:LF,forEachEntry:OF,matchAll:MF,isHTMLForm:jF,hasOwnProperty:LE,hasOwnProp:LE,reduceDescriptors:kb,freezeMethods:BF,toObjectSet:zF,toCamelCase:FF,noop:$F,toFiniteNumber:HF,findKey:Rb,global:Ys,isContextDefined:Pb,isSpecCompliantForm:WF,toJSONObject:qF,isAsyncFn:KF,isThenable:GF,setImmediate:Nb,asap:QF};function Re(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Y.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const Db=Re.prototype,Lb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Lb[t]={value:t}});Object.defineProperties(Re,Lb);Object.defineProperty(Db,"isAxiosError",{value:!0});Re.from=(t,e,n,r,s,a)=>{const l=Object.create(Db);return Y.toFlatObject(t,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Re.call(l,t.message,e,n,r,s),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const YF=null;function xg(t){return Y.isPlainObject(t)||Y.isArray(t)}function Vb(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function VE(t,e,n){return t?t.concat(e).map(function(s,a){return s=Vb(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function XF(t){return Y.isArray(t)&&!t.some(xg)}const JF=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function af(t,e,n){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,I){return!Y.isUndefined(I[R])});const r=n.metaTokens,s=n.visitor||m,a=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(s))throw new TypeError("visitor must be a function");function p(A){if(A===null)return"";if(Y.isDate(A))return A.toISOString();if(!d&&Y.isBlob(A))throw new Re("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(A)||Y.isTypedArray(A)?d&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function m(A,R,I){let L=A;if(A&&!I&&typeof A=="object"){if(Y.endsWith(R,"{}"))R=r?R:R.slice(0,-2),A=JSON.stringify(A);else if(Y.isArray(A)&&XF(A)||(Y.isFileList(A)||Y.endsWith(R,"[]"))&&(L=Y.toArray(A)))return R=Vb(R),L.forEach(function(V,K){!(Y.isUndefined(V)||V===null)&&e.append(l===!0?VE([R],K,a):l===null?R:R+"[]",p(V))}),!1}return xg(A)?!0:(e.append(VE(I,R,a),p(A)),!1)}const y=[],x=Object.assign(JF,{defaultVisitor:m,convertValue:p,isVisitable:xg});function S(A,R){if(!Y.isUndefined(A)){if(y.indexOf(A)!==-1)throw Error("Circular reference detected in "+R.join("."));y.push(A),Y.forEach(A,function(L,B){(!(Y.isUndefined(L)||L===null)&&s.call(e,L,Y.isString(B)?B.trim():B,R,x))===!0&&S(L,R?R.concat(B):[B])}),y.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return S(t),e}function OE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function uv(t,e){this._pairs=[],t&&af(t,this,e)}const Ob=uv.prototype;Ob.append=function(e,n){this._pairs.push([e,n])};Ob.toString=function(e){const n=e?function(r){return e.call(this,r,OE)}:OE;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function ZF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mb(t,e,n){if(!e)return t;const r=n&&n.encode||ZF;Y.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(e,n):a=Y.isURLSearchParams(e)?e.toString():new uv(e,n).toString(r),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class ME{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(r){r!==null&&e(r)})}}const jb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},e6=typeof URLSearchParams<"u"?URLSearchParams:uv,t6=typeof FormData<"u"?FormData:null,n6=typeof Blob<"u"?Blob:null,r6={isBrowser:!0,classes:{URLSearchParams:e6,FormData:t6,Blob:n6},protocols:["http","https","file","blob","url","data"]},cv=typeof window<"u"&&typeof document<"u",Eg=typeof navigator=="object"&&navigator||void 0,i6=cv&&(!Eg||["ReactNative","NativeScript","NS"].indexOf(Eg.product)<0),s6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o6=cv&&window.location.href||"http://localhost",a6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cv,hasStandardBrowserEnv:i6,hasStandardBrowserWebWorkerEnv:s6,navigator:Eg,origin:o6},Symbol.toStringTag,{value:"Module"})),tn={...a6,...r6};function l6(t,e){return af(t,new tn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,a){return tn.isNode&&Y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function u6(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function c6(t){const e={},n=Object.keys(t);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],e[a]=t[a];return e}function Fb(t){function e(n,r,s,a){let l=n[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=a>=n.length;return l=!l&&Y.isArray(s)?s.length:l,d?(Y.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!c):((!s[l]||!Y.isObject(s[l]))&&(s[l]=[]),e(n,r,s[l],a)&&Y.isArray(s[l])&&(s[l]=c6(s[l])),!c)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const n={};return Y.forEachEntry(t,(r,s)=>{e(u6(r),s,n,0)}),n}return null}function h6(t,e,n){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Qu={transitional:jb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=Y.isObject(e);if(a&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return s?JSON.stringify(Fb(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return l6(e,this.formSerializer).toString();if((c=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return af(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),h6(e)):e}],transformResponse:[function(e){const n=this.transitional||Qu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Re.from(c,Re.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tn.classes.FormData,Blob:tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{Qu.headers[t]={}});const d6=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),f6=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||e[n]&&d6[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jE=Symbol("internals");function Gl(t){return t&&String(t).trim().toLowerCase()}function qh(t){return t===!1||t==null?t:Y.isArray(t)?t.map(qh):String(t)}function p6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const m6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xm(t,e,n,r,s){if(Y.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Y.isString(e)){if(Y.isString(r))return e.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(e)}}function g6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function y6(t,e){const n=Y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,a,l){return this[r].call(this,e,s,a,l)},configurable:!0})})}let En=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function a(c,d,p){const m=Gl(d);if(!m)throw new Error("header name must be a non-empty string");const y=Y.findKey(s,m);(!y||s[y]===void 0||p===!0||p===void 0&&s[y]!==!1)&&(s[y||d]=qh(c))}const l=(c,d)=>Y.forEach(c,(p,m)=>a(p,m,d));if(Y.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(Y.isString(e)&&(e=e.trim())&&!m6(e))l(f6(e),n);else if(Y.isHeaders(e))for(const[c,d]of e.entries())a(d,c,r);else e!=null&&a(n,e,r);return this}get(e,n){if(e=Gl(e),e){const r=Y.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return p6(s);if(Y.isFunction(n))return n.call(this,s,r);if(Y.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Gl(e),e){const r=Y.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||xm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function a(l){if(l=Gl(l),l){const c=Y.findKey(r,l);c&&(!n||xm(r,r[c],c,n))&&(delete r[c],s=!0)}}return Y.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!e||xm(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,r={};return Y.forEach(this,(s,a)=>{const l=Y.findKey(r,a);if(l){n[l]=qh(s),delete n[a];return}const c=e?g6(a):String(a).trim();c!==a&&delete n[a],n[c]=qh(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Y.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[jE]=this[jE]={accessors:{}}).accessors,s=this.prototype;function a(l){const c=Gl(l);r[c]||(y6(s,l),r[c]=!0)}return Y.isArray(e)?e.forEach(a):a(e),this}};En.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(En.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Y.freezeMethods(En);function Em(t,e){const n=this||Qu,r=e||n,s=En.from(r.headers);let a=r.data;return Y.forEach(t,function(c){a=c.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function Ub(t){return!!(t&&t.__CANCEL__)}function Qa(t,e,n){Re.call(this,t??"canceled",Re.ERR_CANCELED,e,n),this.name="CanceledError"}Y.inherits(Qa,Re,{__CANCEL__:!0});function Bb(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Re("Request failed with status code "+n.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function v6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function w6(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),m=r[a];l||(l=p),n[s]=d,r[s]=p;let y=a,x=0;for(;y!==s;)x+=n[y++],y=y%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),p-l<e)return;const S=m&&p-m;return S?Math.round(x*1e3/S):void 0}}function _6(t,e){let n=0,r=1e3/e,s,a;const l=(p,m=Date.now())=>{n=m,s=null,a&&(clearTimeout(a),a=null),t.apply(null,p)};return[(...p)=>{const m=Date.now(),y=m-n;y>=r?l(p,m):(s=p,a||(a=setTimeout(()=>{a=null,l(s)},r-y)))},()=>s&&l(s)]}const Td=(t,e,n=3)=>{let r=0;const s=w6(50,250);return _6(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,d=l-r,p=s(d),m=l<=c;r=l;const y={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:p||void 0,estimated:p&&c&&m?(c-l)/p:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(y)},n)},FE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},UE=t=>(...e)=>Y.asap(()=>t(...e)),x6=tn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,tn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(tn.origin),tn.navigator&&/(msie|trident)/i.test(tn.navigator.userAgent)):()=>!0,E6=tn.hasStandardBrowserEnv?{write(t,e,n,r,s,a){const l=[t+"="+encodeURIComponent(e)];Y.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Y.isString(r)&&l.push("path="+r),Y.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function T6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function S6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function zb(t,e,n){let r=!T6(e);return t&&(r||n==!1)?S6(t,e):e}const BE=t=>t instanceof En?{...t}:t;function ao(t,e){e=e||{};const n={};function r(p,m,y,x){return Y.isPlainObject(p)&&Y.isPlainObject(m)?Y.merge.call({caseless:x},p,m):Y.isPlainObject(m)?Y.merge({},m):Y.isArray(m)?m.slice():m}function s(p,m,y,x){if(Y.isUndefined(m)){if(!Y.isUndefined(p))return r(void 0,p,y,x)}else return r(p,m,y,x)}function a(p,m){if(!Y.isUndefined(m))return r(void 0,m)}function l(p,m){if(Y.isUndefined(m)){if(!Y.isUndefined(p))return r(void 0,p)}else return r(void 0,m)}function c(p,m,y){if(y in e)return r(p,m);if(y in t)return r(void 0,p)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(p,m,y)=>s(BE(p),BE(m),y,!0)};return Y.forEach(Object.keys(Object.assign({},t,e)),function(m){const y=d[m]||s,x=y(t[m],e[m],m);Y.isUndefined(x)&&y!==c||(n[m]=x)}),n}const $b=t=>{const e=ao({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:c}=e;e.headers=l=En.from(l),e.url=Mb(zb(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(Y.isFormData(n)){if(tn.hasStandardBrowserEnv||tn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[p,...m]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...m].join("; "))}}if(tn.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(e)),r||r!==!1&&x6(e.url))){const p=s&&a&&E6.read(a);p&&l.set(s,p)}return e},I6=typeof XMLHttpRequest<"u",b6=I6&&function(t){return new Promise(function(n,r){const s=$b(t);let a=s.data;const l=En.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:p}=s,m,y,x,S,A;function R(){S&&S(),A&&A(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let I=new XMLHttpRequest;I.open(s.method.toUpperCase(),s.url,!0),I.timeout=s.timeout;function L(){if(!I)return;const V=En.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),X={data:!c||c==="text"||c==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:V,config:t,request:I};Bb(function(D){n(D),R()},function(D){r(D),R()},X),I=null}"onloadend"in I?I.onloadend=L:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(L)},I.onabort=function(){I&&(r(new Re("Request aborted",Re.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new Re("Network Error",Re.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let K=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const X=s.transitional||jb;s.timeoutErrorMessage&&(K=s.timeoutErrorMessage),r(new Re(K,X.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,t,I)),I=null},a===void 0&&l.setContentType(null),"setRequestHeader"in I&&Y.forEach(l.toJSON(),function(K,X){I.setRequestHeader(X,K)}),Y.isUndefined(s.withCredentials)||(I.withCredentials=!!s.withCredentials),c&&c!=="json"&&(I.responseType=s.responseType),p&&([x,A]=Td(p,!0),I.addEventListener("progress",x)),d&&I.upload&&([y,S]=Td(d),I.upload.addEventListener("progress",y),I.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(m=V=>{I&&(r(!V||V.type?new Qa(null,t,I):V),I.abort(),I=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const B=v6(s.url);if(B&&tn.protocols.indexOf(B)===-1){r(new Re("Unsupported protocol "+B+":",Re.ERR_BAD_REQUEST,t));return}I.send(a||null)})},C6=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const a=function(p){if(!s){s=!0,c();const m=p instanceof Error?p:this.reason;r.abort(m instanceof Re?m:new Qa(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,a(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),t=null)};t.forEach(p=>p.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>Y.asap(c),d}},A6=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},R6=async function*(t,e){for await(const n of P6(t))yield*A6(n,e)},P6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},zE=(t,e,n,r)=>{const s=R6(t,e);let a=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:p,value:m}=await s.next();if(p){c(),d.close();return}let y=m.byteLength;if(n){let x=a+=y;n(x)}d.enqueue(new Uint8Array(m))}catch(p){throw c(p),p}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},lf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Hb=lf&&typeof ReadableStream=="function",k6=lf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Wb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},N6=Hb&&Wb(()=>{let t=!1;const e=new Request(tn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),$E=64*1024,Tg=Hb&&Wb(()=>Y.isReadableStream(new Response("").body)),Sd={stream:Tg&&(t=>t.body)};lf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Sd[e]&&(Sd[e]=Y.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,r)})})})(new Response);const D6=async t=>{if(t==null)return 0;if(Y.isBlob(t))return t.size;if(Y.isSpecCompliantForm(t))return(await new Request(tn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(t)||Y.isArrayBuffer(t))return t.byteLength;if(Y.isURLSearchParams(t)&&(t=t+""),Y.isString(t))return(await k6(t)).byteLength},L6=async(t,e)=>{const n=Y.toFiniteNumber(t.getContentLength());return n??D6(e)},V6=lf&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:a,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:p,headers:m,withCredentials:y="same-origin",fetchOptions:x}=$b(t);p=p?(p+"").toLowerCase():"text";let S=C6([s,a&&a.toAbortSignal()],l),A;const R=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let I;try{if(d&&N6&&n!=="get"&&n!=="head"&&(I=await L6(m,r))!==0){let X=new Request(e,{method:"POST",body:r,duplex:"half"}),te;if(Y.isFormData(r)&&(te=X.headers.get("content-type"))&&m.setContentType(te),X.body){const[D,C]=FE(I,Td(UE(d)));r=zE(X.body,$E,D,C)}}Y.isString(y)||(y=y?"include":"omit");const L="credentials"in Request.prototype;A=new Request(e,{...x,signal:S,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:L?y:void 0});let B=await fetch(A);const V=Tg&&(p==="stream"||p==="response");if(Tg&&(c||V&&R)){const X={};["status","statusText","headers"].forEach(k=>{X[k]=B[k]});const te=Y.toFiniteNumber(B.headers.get("content-length")),[D,C]=c&&FE(te,Td(UE(c),!0))||[];B=new Response(zE(B.body,$E,D,()=>{C&&C(),R&&R()}),X)}p=p||"text";let K=await Sd[Y.findKey(Sd,p)||"text"](B,t);return!V&&R&&R(),await new Promise((X,te)=>{Bb(X,te,{data:K,headers:En.from(B.headers),status:B.status,statusText:B.statusText,config:t,request:A})})}catch(L){throw R&&R(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,t,A),{cause:L.cause||L}):Re.from(L,L&&L.code,t,A)}}),Sg={http:YF,xhr:b6,fetch:V6};Y.forEach(Sg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const HE=t=>`- ${t}`,O6=t=>Y.isFunction(t)||t===null||t===!1,qb={getAdapter:t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let a=0;a<e;a++){n=t[a];let l;if(r=n,!O6(n)&&(r=Sg[(l=String(n)).toLowerCase()],r===void 0))throw new Re(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+a]=r}if(!r){const a=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(HE).join(`
`):" "+HE(a[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Sg};function Tm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qa(null,t)}function WE(t){return Tm(t),t.headers=En.from(t.headers),t.data=Em.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),qb.getAdapter(t.adapter||Qu.adapter)(t).then(function(r){return Tm(t),r.data=Em.call(t,t.transformResponse,r),r.headers=En.from(r.headers),r},function(r){return Ub(r)||(Tm(t),r&&r.response&&(r.response.data=Em.call(t,t.transformResponse,r.response),r.response.headers=En.from(r.response.headers))),Promise.reject(r)})}const Kb="1.8.4",uf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{uf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const qE={};uf.transitional=function(e,n,r){function s(a,l){return"[Axios v"+Kb+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,c)=>{if(e===!1)throw new Re(s(l," has been removed"+(n?" in "+n:"")),Re.ERR_DEPRECATED);return n&&!qE[l]&&(qE[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,c):!0}};uf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function M6(t,e,n){if(typeof t!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const a=r[s],l=e[a];if(l){const c=t[a],d=c===void 0||l(c,a,t);if(d!==!0)throw new Re("option "+a+" must be "+d,Re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Re("Unknown option "+a,Re.ERR_BAD_OPTION)}}const Kh={assertOptions:M6,validators:uf},Cr=Kh.validators;let Zs=class{constructor(e){this.defaults=e,this.interceptors={request:new ME,response:new ME}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ao(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&Kh.assertOptions(r,{silentJSONParsing:Cr.transitional(Cr.boolean),forcedJSONParsing:Cr.transitional(Cr.boolean),clarifyTimeoutError:Cr.transitional(Cr.boolean)},!1),s!=null&&(Y.isFunction(s)?n.paramsSerializer={serialize:s}:Kh.assertOptions(s,{encode:Cr.function,serialize:Cr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Kh.assertOptions(n,{baseUrl:Cr.spelling("baseURL"),withXsrfToken:Cr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&Y.merge(a.common,a[n.method]);a&&Y.forEach(["delete","get","head","post","put","patch","common"],A=>{delete a[A]}),n.headers=En.concat(l,a);const c=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(d=d&&R.synchronous,c.unshift(R.fulfilled,R.rejected))});const p=[];this.interceptors.response.forEach(function(R){p.push(R.fulfilled,R.rejected)});let m,y=0,x;if(!d){const A=[WE.bind(this),void 0];for(A.unshift.apply(A,c),A.push.apply(A,p),x=A.length,m=Promise.resolve(n);y<x;)m=m.then(A[y++],A[y++]);return m}x=c.length;let S=n;for(y=0;y<x;){const A=c[y++],R=c[y++];try{S=A(S)}catch(I){R.call(this,I);break}}try{m=WE.call(this,S)}catch(A){return Promise.reject(A)}for(y=0,x=p.length;y<x;)m=m.then(p[y++],p[y++]);return m}getUri(e){e=ao(this.defaults,e);const n=zb(e.baseURL,e.url,e.allowAbsoluteUrls);return Mb(n,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){Zs.prototype[e]=function(n,r){return this.request(ao(r||{},{method:e,url:n,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function n(r){return function(a,l,c){return this.request(ao(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Zs.prototype[e]=n(),Zs.prototype[e+"Form"]=n(!0)});let j6=class Gb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(c=>{r.subscribe(c),a=c}).then(s);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,c){r.reason||(r.reason=new Qa(a,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Gb(function(s){e=s}),cancel:e}}};function F6(t){return function(n){return t.apply(null,n)}}function U6(t){return Y.isObject(t)&&t.isAxiosError===!0}const Ig={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ig).forEach(([t,e])=>{Ig[e]=t});function Qb(t){const e=new Zs(t),n=bb(Zs.prototype.request,e);return Y.extend(n,Zs.prototype,e,{allOwnKeys:!0}),Y.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Qb(ao(t,s))},n}const gt=Qb(Qu);gt.Axios=Zs;gt.CanceledError=Qa;gt.CancelToken=j6;gt.isCancel=Ub;gt.VERSION=Kb;gt.toFormData=af;gt.AxiosError=Re;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=F6;gt.isAxiosError=U6;gt.mergeConfig=ao;gt.AxiosHeaders=En;gt.formToJSON=t=>Fb(Y.isHTMLForm(t)?new FormData(t):t);gt.getAdapter=qb.getAdapter;gt.HttpStatusCode=Ig;gt.default=gt;const{Axios:d9,AxiosError:f9,CanceledError:p9,isCancel:m9,CancelToken:g9,VERSION:y9,all:v9,Cancel:w9,isAxiosError:_9,spread:x9,toFormData:E9,AxiosHeaders:T9,HttpStatusCode:S9,formToJSON:I9,getAdapter:b9,mergeConfig:C9}=gt;function B6(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(t)}function z6(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(t)}function $6(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(t)}function H6(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function W6(){const[t,e]=P.useState({});return{errors:t,validate:r=>{const s={};return r.email?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(r.email)||(s.email="Invalid email address"):s.email="Email is required",r.contact?/^\d{10}$/.test(r.contact)||(s.contact="Invalid contact number"):s.contact="Contact number is required",e(s),{isValid:Object.keys(s).length===0,newErrors:s}}}}const q6=()=>{const t="https://portfolio-shiv-server.vercel.app/send-email",e=P.useContext(ov),[n,r]=P.useState({name:"",email:"",contact:"",message:""}),[s,a]=P.useState(""),{validate:l}=W6(),{showAlert:c}=fo(),d=x=>{r({...n,[x.target.name]:x.target.value})},p=[x=>`Your message is flying through the internet tubes, ${x||"friend"}! `,x=>`Mail sent! Carrier pigeon engaged for ${x||"you"}. `,x=>`Your words are on their way, ${x||"pal"}hopefully with good WiFi! `,x=>`Message delivered! The electrons salute you, ${x||"hero"}. `,x=>`Your message is now in the Matrix, ${x||"Neo"}! `,x=>`Mail sent! May the force be with your inbox, ${x||"Jedi"}! `,x=>`Your message is off to see the wizard, ${x||"traveler"}! `,x=>`Sent! Now let's hope it doesn't end up in a black hole, ${x||"space explorer"}. `,x=>`Your message is doing the cha-cha to its destination, ${x||"dancer"}! `,x=>`Mail sent! The internet hamsters are running fast for you, ${x||"champ"}! `];function m(x){const S=p[Math.floor(Math.random()*p.length)];return S(x)}const y=async x=>{var R,I;x.preventDefault();const{isValid:S,newErrors:A}=l(n);if(!S){c(Object.values(A).join(`
`),"error");return}try{e.update(!0);const L=await gt.post(t,n,{withCredentials:!0});e.update(!1),c(L.data.message,"info"),c(m(n.name)),a(L.data.message),r({name:"",email:"",contact:"",message:""})}catch(L){e.update(!1),c(((I=(R=L.response)==null?void 0:R.data)==null?void 0:I.message)||"Failed to send message. Try again later.","error"),a("Failed to send message. Try again later.")}};return w.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-20 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),w.jsxs("div",{className:"w-full max-w-4xl relative z-10",children:[w.jsxs(_e.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-12",children:[w.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-200 mb-2 font-mono tracking-tighter",children:[w.jsx("span",{className:"text-primary",children:"$"})," send --message"]}),w.jsx("div",{className:"h-1 w-20 bg-primary mb-4"}),w.jsx("p",{className:"text-slate-400 font-mono text-sm",children:"// Let's connect and build something amazing"})]}),w.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"relative group",children:[w.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 to-tertiary/20 rounded-lg blur-xl opacity-50 group-hover:opacity-75 transition duration-500"}),w.jsxs("div",{className:"relative bg-light-navy/80 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-2xl",children:[w.jsxs("div",{className:"bg-lightest-navy/50 px-4 py-3 flex items-center gap-2 border-b border-primary/20",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),w.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),w.jsx("span",{className:"ml-4 text-xs text-slate-400 font-mono",children:"contact.sh"})]}),w.jsx("div",{className:"p-8",children:w.jsxs("form",{className:"space-y-6 font-mono",onSubmit:y,children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{className:"text-primary text-sm flex items-center gap-2",children:[w.jsx("span",{className:"text-slate-500",children:"$"})," --name"]}),w.jsx("input",{type:"text",name:"name",value:n.name,onChange:d,className:"w-full bg-navy/50 border border-primary/30 rounded px-4 py-3 text-slate-300 font-mono text-sm focus:outline-none focus:border-primary transition-colors placeholder-slate-600",placeholder:"Enter your name...",required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{className:"text-primary text-sm flex items-center gap-2",children:[w.jsx("span",{className:"text-slate-500",children:"$"})," --email"]}),w.jsx("input",{type:"email",name:"email",value:n.email,onChange:d,className:"w-full bg-navy/50 border border-primary/30 rounded px-4 py-3 text-slate-300 font-mono text-sm focus:outline-none focus:border-primary transition-colors placeholder-slate-600",placeholder:"your.email@domain.com",required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{className:"text-primary text-sm flex items-center gap-2",children:[w.jsx("span",{className:"text-slate-500",children:"$"})," --contact"]}),w.jsx("input",{type:"tel",name:"contact",value:n.contact,onChange:d,className:"w-full bg-navy/50 border border-primary/30 rounded px-4 py-3 text-slate-300 font-mono text-sm focus:outline-none focus:border-primary transition-colors placeholder-slate-600",placeholder:"+1 234 567 8900"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{className:"text-primary text-sm flex items-center gap-2",children:[w.jsx("span",{className:"text-slate-500",children:"$"})," --message"]}),w.jsx("textarea",{name:"message",value:n.message,onChange:d,rows:"5",className:"w-full bg-navy/50 border border-primary/30 rounded px-4 py-3 text-slate-300 font-mono text-sm focus:outline-none focus:border-primary transition-colors placeholder-slate-600 resize-none",placeholder:"// Your message here...",required:!0})]}),w.jsx("div",{className:"flex justify-end pt-4",children:w.jsxs("button",{type:"submit",className:"group/btn px-8 py-3 border-2 border-primary text-primary font-mono text-sm hover:bg-primary hover:text-navy transition-all duration-300 relative overflow-hidden",children:[w.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["> EXECUTE",w.jsx("span",{className:"group-hover/btn:translate-x-1 transition-transform",children:""})]}),w.jsx("div",{className:"absolute inset-0 bg-primary transform scale-x-0 group-hover/btn:scale-x-100 transition-transform origin-left duration-300"})]})})]})}),w.jsxs("div",{className:"bg-lightest-navy/30 px-4 py-2 border-t border-primary/20 font-mono text-xs text-slate-400 flex justify-between",children:[w.jsxs("span",{children:[w.jsx("span",{className:"text-green-400",children:""})," READY"]}),w.jsx("span",{className:"text-primary/70",children:"// awaiting input"})]})]})]}),w.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"mt-8 relative group",children:[w.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-tertiary/20 to-primary/20 rounded-lg blur-xl opacity-50 group-hover:opacity-75 transition duration-500"}),w.jsx("div",{className:"relative bg-light-navy/80 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-2xl p-6",children:w.jsx("div",{className:"flex flex-wrap justify-center gap-6 md:gap-8",children:[{name:"GitHub",url:"https://github.com/en-rypted",icon:"FiGithub"},{name:"LinkedIn",url:"https://www.linkedin.com/in/shivwakchaure",icon:"FiLinkedin"},{name:"Instagram",url:"https://www.instagram.com/19hi22",icon:"FiInstagram"},{name:"WhatsApp",url:"https://wa.me/qr/3IPR4EEH4C2SH1",icon:"FaWhatsapp"},{name:"Email",url:"mailto:shivwakchaure19@gmail.com",icon:"FiMail"}].map((x,S)=>w.jsxs("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 group/icon",children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-navy/50 border border-primary/30 flex items-center justify-center text-slate-400 group-hover/icon:text-primary group-hover/icon:border-primary group-hover/icon:scale-110 transition-all duration-300",children:w.jsx(K6,{name:x.name})}),w.jsx("span",{className:"text-xs font-mono text-slate-500 group-hover/icon:text-primary transition-colors",children:x.name})]},S))})})]})]})]})},K6=({name:t})=>{switch(t){case"GitHub":return w.jsx(B6,{size:20});case"LinkedIn":return w.jsx($6,{size:20});case"Instagram":return w.jsx(z6,{size:20});case"WhatsApp":return w.jsx(z5,{size:20});case"Email":return w.jsx(H6,{size:20});default:return null}},G6=()=>{const[t,e]=P.useState(!1);return w.jsxs("div",{className:"min-h-screen bg-navy text-secondary selection:bg-primary selection:text-navy",children:[t&&w.jsx(Eb,{onClose:()=>{e(!1)}}),w.jsx(I5,{}),w.jsxs("main",{className:"relative z-10",children:[w.jsx("section",{id:"home",children:w.jsx(tF,{})}),w.jsx("section",{id:"about",className:"py-20 px-6 md:px-12 lg:px-24 max-w-[1600px] mx-auto",children:w.jsx(rF,{})}),w.jsx("section",{id:"skills",className:"py-20 px-6 md:px-12 lg:px-24 max-w-[1600px] mx-auto",children:w.jsx(lF,{})}),w.jsx("section",{id:"projects",className:"py-20 px-6 md:px-12 lg:px-24 max-w-[1600px] mx-auto",children:w.jsx(iF,{})}),w.jsx("section",{id:"experience",className:"py-20 px-6 md:px-12 lg:px-24 max-w-[1600px] mx-auto",children:w.jsx(uF,{})}),w.jsx("section",{id:"contact",className:"py-20 px-6 md:px-12 lg:px-24 max-w-[1600px] mx-auto",children:w.jsx(q6,{})})]}),w.jsx(F5,{}),w.jsx(eF,{}),w.jsx("div",{className:"fixed top-0 left-0 w-4 h-4 z-[9999]",onDoubleClick:()=>{e(!0)}})]})},Q6=({project:t,onClose:e,onSuccess:n})=>{const{showAlert:r}=fo(),[s,a]=P.useState(!1),[l,c]=P.useState(null),[d,p]=P.useState({title:"",description:"",image:"",link:"",order:0});P.useEffect(()=>{t&&p(t.data)},[t]);const m=A=>{const{name:R,value:I}=A.target;p(L=>({...L,[R]:R==="order"?parseInt(I)||0:I}))},y=A=>{const R=A.target.files[0];if(R){c(R);const I=new FileReader;I.onloadend=()=>{p(L=>({...L,image:I.result}))},I.readAsDataURL(R)}},x=async(A,R)=>{const I="drugj5n1l",L="shiv-portfolio",V=(X=>X.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,50))(R),K=new FormData;K.append("file",A),K.append("upload_preset",L),K.append("cloud_name",I),K.append("folder","shiv-portfolio/projects"),K.append("public_id",V);try{return(await(await fetch(`https://api.cloudinary.com/v1_1/${I}/image/upload`,{method:"POST",body:K})).json()).secure_url}catch(X){return console.error(X),r("Image upload failed","error"),null}},S=async A=>{A.preventDefault(),a(!0);try{let R=d.image;if(l){r("Uploading image...","info");const L=await x(l,d.title||"untitled");if(L)R=L;else{a(!1);return}}const I={...d,image:R};if(t){const L=Ba(Nn,"projects",t.id);await Wd(L,I),r("Project updated successfully!","success")}else await py(fs(Nn,"projects"),I),r("Project added successfully!","success");a(!1),n(),e()}catch(R){console.error(R),a(!1),r("Error: "+R.message,"error")}};return w.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/40 p-4",children:w.jsxs("div",{className:"bg-light-navy border border-primary/30 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"sticky top-0 bg-lightest-navy border-b border-primary/20 p-4 flex justify-between items-center",children:[w.jsx("h2",{className:"text-xl font-bold text-primary font-mono",children:t?"Edit Project":"Add New Project"}),w.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white",children:w.jsx(po,{})})]}),w.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Title *"}),w.jsx("input",{type:"text",name:"title",value:d.title,onChange:m,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Description *"}),w.jsx("textarea",{name:"description",value:d.description,onChange:m,required:!0,rows:4,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none resize-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Project Link *"}),w.jsx("input",{type:"url",name:"link",value:d.link,onChange:m,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Display Order"}),w.jsx("input",{type:"number",name:"order",value:d.order,onChange:m,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Project Image"}),d.image&&w.jsx("div",{className:"mb-2",children:w.jsx("img",{src:d.image,alt:"Preview",className:"h-32 w-auto rounded border border-primary/20"})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{type:"text",name:"image",value:l?l.name:d.image,readOnly:!!l,onChange:m,placeholder:"Image URL or select file below",className:"flex-1 bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none text-sm"}),w.jsxs("label",{className:"px-4 py-2 bg-primary/20 border border-primary text-primary rounded cursor-pointer hover:bg-primary/30 flex items-center gap-2",children:[w.jsx(av,{}),l?"Change":"Select",w.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden"})]})]}),l&&w.jsxs("p",{className:"text-xs text-green-400 mt-1",children:[" Will upload to: shiv-portfolio/projects/",d.title?d.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"):"untitled"]})]}),w.jsxs("div",{className:"flex gap-2 pt-4",children:[w.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-primary text-navy font-bold py-3 rounded hover:bg-primary/80 disabled:opacity-50",children:s?"Saving...":t?"Update Project":"Add Project"}),w.jsx("button",{type:"button",onClick:e,className:"px-6 bg-slate-700 text-slate-300 font-bold py-3 rounded hover:bg-slate-600",children:"Cancel"})]})]})]})})},Y6=({experience:t,onClose:e,onSuccess:n})=>{const{showAlert:r}=fo(),[s,a]=P.useState(!1),[l,c]=P.useState({companyName:"",role:"",duration:"",desc:"",order:0});P.useEffect(()=>{t&&c(t.data)},[t]);const d=m=>{const{name:y,value:x}=m.target;c(S=>({...S,[y]:y==="order"?parseInt(x)||0:x}))},p=async m=>{m.preventDefault(),a(!0);try{if(t){const y=Ba(Nn,"experiences",t.id);await Wd(y,l),r("Experience updated successfully!","success")}else await py(fs(Nn,"experiences"),l),r("Experience added successfully!","success");a(!1),n(),e()}catch(y){console.error(y),a(!1),r("Error: "+y.message,"error")}};return w.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/40 p-4",children:w.jsxs("div",{className:"bg-light-navy border border-primary/30 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"sticky top-0 bg-lightest-navy border-b border-primary/20 p-4 flex justify-between items-center",children:[w.jsx("h2",{className:"text-xl font-bold text-primary font-mono",children:t?"Edit Experience":"Add New Experience"}),w.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white",children:w.jsx(po,{})})]}),w.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Company Name *"}),w.jsx("input",{type:"text",name:"companyName",value:l.companyName,onChange:d,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Role *"}),w.jsx("input",{type:"text",name:"role",value:l.role,onChange:d,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Duration *"}),w.jsx("input",{type:"text",name:"duration",value:l.duration,onChange:d,required:!0,placeholder:"e.g., 2022 - Present",className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Description *"}),w.jsx("textarea",{name:"desc",value:l.desc,onChange:d,required:!0,rows:6,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none resize-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Display Order"}),w.jsx("input",{type:"number",name:"order",value:l.order,onChange:d,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),w.jsxs("div",{className:"flex gap-2 pt-4",children:[w.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-primary text-navy font-bold py-3 rounded hover:bg-primary/80 disabled:opacity-50",children:s?"Saving...":t?"Update Experience":"Add Experience"}),w.jsx("button",{type:"button",onClick:e,className:"px-6 bg-slate-700 text-slate-300 font-bold py-3 rounded hover:bg-slate-600",children:"Cancel"})]})]})]})})},X6=({skill:t,onClose:e,onSuccess:n})=>{const{showAlert:r}=fo(),[s,a]=P.useState(!1),[l,c]=P.useState(null),[d,p]=P.useState({name:"",level:0,category:"core",x:50,y:50,size:"medium",color:"#34d399",image:""});P.useEffect(()=>{t&&p(t.data)},[t]);const m=A=>{const{name:R,value:I}=A.target;p(L=>({...L,[R]:["level","x","y"].includes(R)?parseInt(I)||0:I}))},y=A=>{const R=A.target.files[0];if(R){c(R);const I=new FileReader;I.onloadend=()=>{p(L=>({...L,image:I.result}))},I.readAsDataURL(R)}},x=async(A,R)=>{const I="drugj5n1l",L="shiv-portfolio",V=(X=>X.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,50))(R),K=new FormData;K.append("file",A),K.append("upload_preset",L),K.append("cloud_name",I),K.append("folder","shiv-portfolio/skills"),K.append("public_id",V);try{return(await(await fetch(`https://api.cloudinary.com/v1_1/${I}/image/upload`,{method:"POST",body:K})).json()).secure_url}catch(X){return console.error(X),r("Image upload failed","error"),null}},S=async A=>{A.preventDefault(),a(!0);try{let R=d.image;if(l){r("Uploading image...","info");const L=await x(l,d.name);if(L)R=L;else{a(!1);return}}const I={...d,image:R};if(t){const L=Ba(Nn,"skills",t.id);await Wd(L,I),r("Skill updated successfully!","success")}else await py(fs(Nn,"skills"),I),r("Skill added successfully!","success");a(!1),n(),e()}catch(R){console.error(R),a(!1),r("Error: "+R.message,"error")}};return w.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/40 p-4",children:w.jsxs("div",{className:"bg-light-navy border border-primary/30 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"sticky top-0 bg-lightest-navy border-b border-primary/20 p-4 flex justify-between items-center",children:[w.jsx("h2",{className:"text-xl font-bold text-primary font-mono",children:t?"Edit Skill":"Add New Skill"}),w.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white",children:w.jsx(po,{})})]}),w.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Skill Name *"}),w.jsx("input",{type:"text",name:"name",value:d.name,onChange:m,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Level (0-100) *"}),w.jsx("input",{type:"number",name:"level",min:"0",max:"100",value:d.level,onChange:m,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Category *"}),w.jsxs("select",{name:"category",value:d.category,onChange:m,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none",children:[w.jsx("option",{value:"core",children:"Core"}),w.jsx("option",{value:"frontend",children:"Frontend"}),w.jsx("option",{value:"backend",children:"Backend"}),w.jsx("option",{value:"database",children:"Database"}),w.jsx("option",{value:"devops",children:"DevOps"}),w.jsx("option",{value:"tools",children:"Tools"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Color"}),w.jsx("input",{type:"color",name:"color",value:d.color,onChange:m,className:"w-full h-10 bg-navy border border-primary/30 rounded px-1 py-1 cursor-pointer"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Icon/Image (Optional)"}),d.image&&w.jsx("div",{className:"mb-2",children:w.jsx("img",{src:d.image,alt:"Preview",className:"h-16 w-16 rounded border border-primary/20"})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{type:"text",name:"image",value:l?l.name:d.image,readOnly:!!l,onChange:m,placeholder:"Image URL or select file below",className:"flex-1 bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none text-sm"}),w.jsxs("label",{className:"px-4 py-2 bg-primary/20 border border-primary text-primary rounded cursor-pointer hover:bg-primary/30 flex items-center gap-2",children:[w.jsx(av,{}),l?"Change":"Select",w.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden"})]})]}),l&&w.jsxs("p",{className:"text-xs text-green-400 mt-1",children:[" Will upload to: shiv-portfolio/skills/",d.name?d.name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):"skill"]})]}),w.jsxs("div",{className:"flex gap-2 pt-4",children:[w.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-primary text-navy font-bold py-3 rounded hover:bg-primary/80 disabled:opacity-50",children:s?"Saving...":t?"Update Skill":"Add Skill"}),w.jsx("button",{type:"button",onClick:e,className:"px-6 bg-slate-700 text-slate-300 font-bold py-3 rounded hover:bg-slate-600",children:"Cancel"})]})]})]})})},J6=({onClose:t,onSuccess:e})=>{const{showAlert:n}=fo(),[r,s]=P.useState(!1),[a,l]=P.useState(!1),[c,d]=P.useState(""),[p,m]=P.useState({profile:"",description:""});P.useEffect(()=>{(async()=>{try{const I=await Fu(fs(Nn,"about"));I.docs.length>0&&(d(I.docs[0].id),m(I.docs[0].data()))}catch(I){console.error(I)}})()},[]);const y=R=>{const{name:I,value:L}=R.target;m(B=>({...B,[I]:L}))},x=async R=>{const I="drugj5n1l",L="shiv-portfolio";l(!0);const B=new FormData;B.append("file",R),B.append("upload_preset",L),B.append("cloud_name",I);try{const K=await(await fetch(`https://api.cloudinary.com/v1_1/${I}/image/upload`,{method:"POST",body:B})).json();return l(!1),K.secure_url}catch(V){return console.error(V),l(!1),n("Image upload failed","error"),null}},S=async R=>{const I=R.target.files[0];if(!I)return;const L=await x(I);L&&(m(B=>({...B,profile:L})),n("Profile image uploaded successfully!","success"))},A=async R=>{R.preventDefault(),s(!0);try{if(c){const I=Ba(Nn,"about",c);await Wd(I,p),n("About section updated successfully!","success")}else n("No about document found","error");s(!1),e(),t()}catch(I){console.error(I),s(!1),n("Error: "+I.message,"error")}};return w.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/40 p-4",children:w.jsxs("div",{className:"bg-light-navy border border-primary/30 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"sticky top-0 bg-lightest-navy border-b border-primary/20 p-4 flex justify-between items-center",children:[w.jsx("h2",{className:"text-xl font-bold text-primary font-mono",children:"Edit About Section"}),w.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:w.jsx(po,{})})]}),w.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Profile Image"}),p.profile&&w.jsx("div",{className:"mb-2",children:w.jsx("img",{src:p.profile,alt:"Profile",className:"h-32 w-32 rounded-full border border-primary/20"})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{type:"text",name:"profile",value:p.profile,onChange:y,placeholder:"Image URL or upload below",className:"flex-1 bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none text-sm"}),w.jsxs("label",{className:"px-4 py-2 bg-primary/20 border border-primary text-primary rounded cursor-pointer hover:bg-primary/30 flex items-center gap-2",children:[w.jsx(av,{}),"Upload",w.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden",disabled:a})]})]}),a&&w.jsx("p",{className:"text-xs text-primary mt-1",children:"Uploading..."})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Description *"}),w.jsx("textarea",{name:"description",value:p.description,onChange:y,required:!0,rows:10,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none resize-none"})]}),w.jsxs("div",{className:"flex gap-2 pt-4",children:[w.jsx("button",{type:"submit",disabled:r||a,className:"flex-1 bg-primary text-navy font-bold py-3 rounded hover:bg-primary/80 disabled:opacity-50",children:r?"Saving...":"Update About"}),w.jsx("button",{type:"button",onClick:t,className:"px-6 bg-slate-700 text-slate-300 font-bold py-3 rounded hover:bg-slate-600",children:"Cancel"})]})]})]})})},Z6=()=>{const{user:t}=P.useContext(Dg),[e,n]=P.useState("projects"),[r,s]=P.useState([]),[a,l]=P.useState(!1),[c,d]=P.useState(!1),[p,m]=P.useState(null),[y,x]=P.useState(!1);P.useEffect(()=>{x(!t)},[t]),P.useEffect(()=>{if(!t||e==="about")return;const V=e==="skills"?"skills":e==="projects"?"projects":"experiences";(async()=>{l(!0);try{const te=(await Fu(fs(Nn,V))).docs.map(D=>({id:D.id,data:D.data()}));te.sort((D,C)=>(D.data.order||0)-(C.data.order||0)),s(te)}catch(X){console.error("Error fetching data: ",X)}l(!1)})()},[e,t,c]);const S=async V=>{if(window.confirm("Are you sure you want to delete this item?"))try{await nD(Ba(Nn,e==="skills"?"skills":e==="projects"?"projects":"experiences",V)),s(r.filter(X=>X.id!==V))}catch(K){console.error("Error deleting document: ",K),alert("Delete failed!")}},A=async()=>{await rL(Yd),window.location.href="/"},R=()=>{m(null),d(!0)},I=V=>{m(V),d(!0)},L=()=>{d(!1),m(null)},B=()=>{};return t?w.jsxs("div",{className:"min-h-screen bg-navy flex text-slate-300 font-sans",children:[w.jsxs("aside",{className:"w-64 bg-light-navy border-r border-primary/20 flex flex-col",children:[w.jsxs("div",{className:"p-6 border-b border-primary/20",children:[w.jsx("h1",{className:"text-2xl font-bold text-primary font-mono",children:"ADMIN_PANEL"}),w.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Welcome, ",t.email]})]}),w.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[w.jsx(Ih,{icon:w.jsx(Z5,{}),label:"About",active:e==="about",onClick:()=>n("about")}),w.jsx(Ih,{icon:w.jsx(G5,{}),label:"Skills",active:e==="skills",onClick:()=>n("skills")}),w.jsx(Ih,{icon:w.jsx(W5,{}),label:"Projects",active:e==="projects",onClick:()=>n("projects")}),w.jsx(Ih,{icon:w.jsx(H5,{}),label:"Experience",active:e==="experience",onClick:()=>n("experience")})]}),w.jsx("div",{className:"p-4 border-t border-primary/20",children:w.jsxs("button",{onClick:A,className:"flex items-center gap-2 text-red-400 hover:text-red-300 transition-colors w-full px-4 py-2 rounded hover:bg-red-500/10",children:[w.jsx(X5,{})," Logout"]})})]}),w.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsxs("h2",{className:"text-3xl font-bold text-slate-100 font-mono capitalize",children:["$ manage --",e]}),w.jsxs("button",{onClick:R,className:"flex items-center gap-2 bg-primary text-navy px-4 py-2 rounded font-bold hover:bg-primary/80 transition-colors",children:[w.jsx(Y5,{})," ",e==="about"?"Edit About":"Add New"]})]}),e==="about"?w.jsx("div",{className:"bg-light-navy/30 border border-primary/10 rounded-lg p-6",children:w.jsx("p",{className:"text-slate-400 mb-4",children:'Click "Edit About" to update your profile information.'})}):w.jsxs("div",{className:"grid gap-4",children:[a?w.jsx("p",{className:"text-primary font-mono",children:"Loading data..."}):r.map(V=>w.jsxs("div",{className:"bg-light-navy/50 border border-primary/10 p-4 rounded-lg flex justify-between items-center group hover:border-primary/30 transition-all",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-lg text-slate-200",children:V.data.title||V.data.name||V.data.companyName||"Untitled"}),w.jsx("p",{className:"text-sm text-slate-500 font-mono truncate max-w-md",children:V.data.description||V.data.category||V.data.role||""})]}),w.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[w.jsx("button",{onClick:()=>I(V),className:"p-2 bg-blue-500/20 text-blue-400 rounded hover:bg-blue-500/40",title:"Edit",children:w.jsx(K5,{})}),w.jsx("button",{onClick:()=>S(V.id),className:"p-2 bg-red-500/20 text-red-400 rounded hover:bg-red-500/40",title:"Delete",children:w.jsx(J5,{})})]})]},V.id)),r.length===0&&!a&&w.jsx("p",{className:"text-slate-500 italic",children:'No items found. Click "Add New" to create one.'})]})]})}),c&&e==="projects"&&w.jsx(Q6,{project:p,onClose:L,onSuccess:B}),c&&e==="experience"&&w.jsx(Y6,{experience:p,onClose:L,onSuccess:B}),c&&e==="skills"&&w.jsx(X6,{skill:p,onClose:L,onSuccess:B}),c&&e==="about"&&w.jsx(J6,{onClose:L,onSuccess:B})]}):w.jsx("div",{className:"min-h-screen bg-navy flex items-center justify-center",children:y&&w.jsx(Eb,{onClose:()=>window.location.href="/"})})},Ih=({icon:t,label:e,active:n,onClick:r})=>w.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-4 py-3 rounded transition-all ${n?"bg-primary/10 text-primary border-r-2 border-primary":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:[t,w.jsx("span",{className:"font-mono text-sm",children:e})]});function e9(){const t=nR({query:"(max-width: 600px)"}),[e,n]=P.useState(null);return P.useEffect(()=>{const r=Yd.onAuthStateChanged(s=>{n(s||null)});return()=>r()},[]),w.jsx(pi.Provider,{value:t,children:w.jsx(Dg.Provider,{value:{user:e,setUser:n},children:w.jsx(wA,{children:w.jsxs(YC,{children:[w.jsx(Im,{path:"/",element:w.jsx(G6,{})}),w.jsx(Im,{path:"/admin",element:w.jsx(Z6,{})})]})})})})}var bh={},KE;function t9(){if(KE)return bh;KE=1;var t=GE();return bh.createRoot=t.createRoot,bh.hydrateRoot=t.hydrateRoot,bh}var n9=t9();const r9=t=>{const[e,n]=P.useState(window.innerWidth<=600);return P.useEffect(()=>{const r=()=>{n(window.innerWidth<=600)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),w.jsx(pi.Provider,{value:e,children:t.children})},i9=()=>w.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/50 backdrop-blur-sm",children:w.jsx("span",{className:"w-2 h-2 rounded-full bg-white animate-ping"})}),s9=t=>{const[e,n]=P.useState(!1),r=s=>{n(s)};return w.jsxs(ov.Provider,{value:{isLoder:e,update:r},children:[t.children,e?w.jsx(i9,{}):""]})},o9=t=>{const[e,n]=P.useState(null),[r,s]=P.useState(!0);return P.useEffect(()=>{const a=nL(Yd,l=>{n(l),s(!1)});return()=>a()},[]),w.jsx(Dg.Provider,{value:{user:e,loading:r},children:t.children})};n9.createRoot(document.getElementById("root")).render(w.jsx(s9,{children:w.jsx(r9,{children:w.jsx(o9,{children:w.jsx(B5,{children:w.jsx(e9,{})})})})}));
