(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function pR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kp={exports:{}},Ul={},bp={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function mR(){if(Kv)return Oe;Kv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function P(F,Y,ue){this.props=F,this.context=Y,this.refs=x,this.updater=ue||S}P.prototype.isReactComponent={},P.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},P.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=P.prototype;function j(F,Y,ue){this.props=F,this.context=Y,this.refs=x,this.updater=ue||S}var z=j.prototype=new M;z.constructor=j,C(z,P.prototype),z.isPureReactComponent=!0;var J=Array.isArray,G=Object.prototype.hasOwnProperty,ee={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R(F,Y,ue){var Re,Pe={},je=null,He=null;if(Y!=null)for(Re in Y.ref!==void 0&&(He=Y.ref),Y.key!==void 0&&(je=""+Y.key),Y)G.call(Y,Re)&&!D.hasOwnProperty(Re)&&(Pe[Re]=Y[Re]);var We=arguments.length-2;if(We===1)Pe.children=ue;else if(1<We){for(var Ye=Array(We),Pt=0;Pt<We;Pt++)Ye[Pt]=arguments[Pt+2];Pe.children=Ye}if(F&&F.defaultProps)for(Re in We=F.defaultProps,We)Pe[Re]===void 0&&(Pe[Re]=We[Re]);return{$$typeof:t,type:F,key:je,ref:He,props:Pe,_owner:ee.current}}function k(F,Y){return{$$typeof:t,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function U(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ue){return Y[ue]})}var $=/\/+/g;function V(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?U(""+F.key):Y.toString(36)}function qe(F,Y,ue,Re,Pe){var je=typeof F;(je==="undefined"||je==="boolean")&&(F=null);var He=!1;if(F===null)He=!0;else switch(je){case"string":case"number":He=!0;break;case"object":switch(F.$$typeof){case t:case e:He=!0}}if(He)return He=F,Pe=Pe(He),F=Re===""?"."+V(He,0):Re,J(Pe)?(ue="",F!=null&&(ue=F.replace($,"$&/")+"/"),qe(Pe,Y,ue,"",function(Pt){return Pt})):Pe!=null&&(O(Pe)&&(Pe=k(Pe,ue+(!Pe.key||He&&He.key===Pe.key?"":(""+Pe.key).replace($,"$&/")+"/")+F)),Y.push(Pe)),1;if(He=0,Re=Re===""?".":Re+":",J(F))for(var We=0;We<F.length;We++){je=F[We];var Ye=Re+V(je,We);He+=qe(je,Y,ue,Ye,Pe)}else if(Ye=w(F),typeof Ye=="function")for(F=Ye.call(F),We=0;!(je=F.next()).done;)je=je.value,Ye=Re+V(je,We++),He+=qe(je,Y,ue,Ye,Pe);else if(je==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return He}function ye(F,Y,ue){if(F==null)return F;var Re=[],Pe=0;return qe(F,Re,"","",function(je){return Y.call(ue,je,Pe++)}),Re}function be(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(ue){(F._status===0||F._status===-1)&&(F._status=1,F._result=ue)},function(ue){(F._status===0||F._status===-1)&&(F._status=2,F._result=ue)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var _e={current:null},se={transition:null},pe={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:se,ReactCurrentOwner:ee};function le(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:ye,forEach:function(F,Y,ue){ye(F,function(){Y.apply(this,arguments)},ue)},count:function(F){var Y=0;return ye(F,function(){Y++}),Y},toArray:function(F){return ye(F,function(Y){return Y})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Oe.Component=P,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=j,Oe.StrictMode=r,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Oe.act=le,Oe.cloneElement=function(F,Y,ue){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Re=C({},F.props),Pe=F.key,je=F.ref,He=F._owner;if(Y!=null){if(Y.ref!==void 0&&(je=Y.ref,He=ee.current),Y.key!==void 0&&(Pe=""+Y.key),F.type&&F.type.defaultProps)var We=F.type.defaultProps;for(Ye in Y)G.call(Y,Ye)&&!D.hasOwnProperty(Ye)&&(Re[Ye]=Y[Ye]===void 0&&We!==void 0?We[Ye]:Y[Ye])}var Ye=arguments.length-2;if(Ye===1)Re.children=ue;else if(1<Ye){We=Array(Ye);for(var Pt=0;Pt<Ye;Pt++)We[Pt]=arguments[Pt+2];Re.children=We}return{$$typeof:t,type:F.type,key:Pe,ref:je,props:Re,_owner:He}},Oe.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Oe.createElement=R,Oe.createFactory=function(F){var Y=R.bind(null,F);return Y.type=F,Y},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(F){return{$$typeof:c,render:F}},Oe.isValidElement=O,Oe.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:be}},Oe.memo=function(F,Y){return{$$typeof:p,type:F,compare:Y===void 0?null:Y}},Oe.startTransition=function(F){var Y=se.transition;se.transition={};try{F()}finally{se.transition=Y}},Oe.unstable_act=le,Oe.useCallback=function(F,Y){return _e.current.useCallback(F,Y)},Oe.useContext=function(F){return _e.current.useContext(F)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(F){return _e.current.useDeferredValue(F)},Oe.useEffect=function(F,Y){return _e.current.useEffect(F,Y)},Oe.useId=function(){return _e.current.useId()},Oe.useImperativeHandle=function(F,Y,ue){return _e.current.useImperativeHandle(F,Y,ue)},Oe.useInsertionEffect=function(F,Y){return _e.current.useInsertionEffect(F,Y)},Oe.useLayoutEffect=function(F,Y){return _e.current.useLayoutEffect(F,Y)},Oe.useMemo=function(F,Y){return _e.current.useMemo(F,Y)},Oe.useReducer=function(F,Y,ue){return _e.current.useReducer(F,Y,ue)},Oe.useRef=function(F){return _e.current.useRef(F)},Oe.useState=function(F){return _e.current.useState(F)},Oe.useSyncExternalStore=function(F,Y,ue){return _e.current.useSyncExternalStore(F,Y,ue)},Oe.useTransition=function(){return _e.current.useTransition()},Oe.version="18.3.1",Oe}var Gv;function lg(){return Gv||(Gv=1,bp.exports=mR()),bp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function gR(){if(Qv)return Ul;Qv=1;var t=lg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,_={},w=null,S=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:c,key:w,ref:S,props:_,_owner:s.current}}return Ul.Fragment=n,Ul.jsx=l,Ul.jsxs=l,Ul}var Yv;function yR(){return Yv||(Yv=1,kp.exports=gR()),kp.exports}var I=yR(),b=lg();const sn=pR(b);var lh={},Dp={exports:{}},fn={},Np={exports:{}},Op={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function vR(){return Xv||(Xv=1,function(t){function e(se,pe){var le=se.length;se.push(pe);e:for(;0<le;){var F=le-1>>>1,Y=se[F];if(0<s(Y,pe))se[F]=pe,se[le]=Y,le=F;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var pe=se[0],le=se.pop();if(le!==pe){se[0]=le;e:for(var F=0,Y=se.length,ue=Y>>>1;F<ue;){var Re=2*(F+1)-1,Pe=se[Re],je=Re+1,He=se[je];if(0>s(Pe,le))je<Y&&0>s(He,Pe)?(se[F]=He,se[je]=le,F=je):(se[F]=Pe,se[Re]=le,F=Re);else if(je<Y&&0>s(He,le))se[F]=He,se[je]=le,F=je;else break e}}return pe}function s(se,pe){var le=se.sortIndex-pe.sortIndex;return le!==0?le:se.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,_=null,w=3,S=!1,C=!1,x=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(se){for(var pe=n(p);pe!==null;){if(pe.callback===null)r(p);else if(pe.startTime<=se)r(p),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=n(p)}}function J(se){if(x=!1,z(se),!C)if(n(f)!==null)C=!0,be(G);else{var pe=n(p);pe!==null&&_e(J,pe.startTime-se)}}function G(se,pe){C=!1,x&&(x=!1,M(R),R=-1),S=!0;var le=w;try{for(z(pe),_=n(f);_!==null&&(!(_.expirationTime>pe)||se&&!U());){var F=_.callback;if(typeof F=="function"){_.callback=null,w=_.priorityLevel;var Y=F(_.expirationTime<=pe);pe=t.unstable_now(),typeof Y=="function"?_.callback=Y:_===n(f)&&r(f),z(pe)}else r(f);_=n(f)}if(_!==null)var ue=!0;else{var Re=n(p);Re!==null&&_e(J,Re.startTime-pe),ue=!1}return ue}finally{_=null,w=le,S=!1}}var ee=!1,D=null,R=-1,k=5,O=-1;function U(){return!(t.unstable_now()-O<k)}function $(){if(D!==null){var se=t.unstable_now();O=se;var pe=!0;try{pe=D(!0,se)}finally{pe?V():(ee=!1,D=null)}}else ee=!1}var V;if(typeof j=="function")V=function(){j($)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,ye=qe.port2;qe.port1.onmessage=$,V=function(){ye.postMessage(null)}}else V=function(){P($,0)};function be(se){D=se,ee||(ee=!0,V())}function _e(se,pe){R=P(function(){se(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,be(G))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(se){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var le=w;w=pe;try{return se()}finally{w=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,pe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=w;w=se;try{return pe()}finally{w=le}},t.unstable_scheduleCallback=function(se,pe,le){var F=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,se={id:g++,callback:pe,priorityLevel:se,startTime:le,expirationTime:Y,sortIndex:-1},le>F?(se.sortIndex=le,e(p,se),n(f)===null&&se===n(p)&&(x?(M(R),R=-1):x=!0,_e(J,le-F))):(se.sortIndex=Y,e(f,se),C||S||(C=!0,be(G))),se},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(se){var pe=w;return function(){var le=w;w=pe;try{return se.apply(this,arguments)}finally{w=le}}}}(Op)),Op}var Jv;function _R(){return Jv||(Jv=1,Np.exports=vR()),Np.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function wR(){if(Zv)return fn;Zv=1;var t=lg(),e=_R();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function w(i){return f.call(_,i)?!0:f.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function S(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,u,d){if(o===null||typeof o>"u"||S(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(i,o,u,d,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];P[o]=new x(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(M,j);P[o]=new x(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(M,j);P[o]=new x(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(M,j);P[o]=new x(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function z(i,o,u,d){var m=P.hasOwnProperty(o)?P[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,u,m,d)&&(u=null),d||m===null?w(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var J=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),ee=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),se=Symbol.iterator;function pe(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,F;function Y(i){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+i}var ue=!1;function Re(i,o){if(!i||ue)return"";ue=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){d=K}i.call(o.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=d.stack.split(`
`),T=m.length-1,N=v.length-1;1<=T&&0<=N&&m[T]!==v[N];)N--;for(;1<=T&&0<=N;T--,N--)if(m[T]!==v[N]){if(T!==1||N!==1)do if(T--,N--,0>N||m[T]!==v[N]){var L=`
`+m[T].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=T&&0<=N);break}}}finally{ue=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Y(i):""}function Pe(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function je(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case ee:return"Portal";case k:return"Profiler";case R:return"StrictMode";case V:return"Suspense";case qe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case $:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ye:return o=i.displayName||null,o!==null?o:je(i.type)||"Memo";case be:o=i._payload,i=i._init;try{return je(i(o))}catch{}}return null}function He(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function We(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Pt(i){var o=Ye(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Mr(i){i._valueTracker||(i._valueTracker=Pt(i))}function uo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=Ye(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function pi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ps(i,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function co(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=We(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function qa(i,o){o=o.checked,o!=null&&z(i,"checked",o,!1)}function Ka(i,o){qa(i,o);var u=We(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ho(i,o.type,u):o.hasOwnProperty("defaultValue")&&ho(i,o.type,We(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ku(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function ho(i,o,u){(o!=="number"||pi(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Lr=Array.isArray;function jr(i,o,u,d){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&d&&(i[u].defaultSelected=!0)}else{for(u=""+We(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Ga(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function fo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Lr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:We(u)}}function po(i,o){var u=We(o.value),d=We(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function Qa(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function wt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?wt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Fr,Ya=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Fr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function mi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gs=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(i){gs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ms[o]=ms[i]})});function Xa(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ms.hasOwnProperty(i)&&ms[i]?(""+o).trim():o+"px"}function Ja(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=Xa(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,m):i[u]=m}}var Za=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function el(i,o){if(o){if(Za[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function tl(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ys=null;function mo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var go=null,bn=null,dr=null;function yo(i){if(i=Cl(i)){if(typeof go!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Sc(o),go(i.stateNode,i.type,o))}}function fr(i){bn?dr?dr.push(i):dr=[i]:bn=i}function nl(){if(bn){var i=bn,o=dr;if(dr=bn=null,yo(i),o)for(i=0;i<o.length;i++)yo(o[i])}}function vs(i,o){return i(o)}function rl(){}var Ur=!1;function il(i,o,u){if(Ur)return i(o,u);Ur=!0;try{return vs(i,o,u)}finally{Ur=!1,(bn!==null||dr!==null)&&(rl(),nl())}}function dt(i,o){var u=i.stateNode;if(u===null)return null;var d=Sc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var vo=!1;if(c)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){vo=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{vo=!1}function _s(i,o,u,d,m,v,T,N,L){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(ne){this.onError(ne)}}var ws=!1,_o=null,Kn=!1,sl=null,rf={onError:function(i){ws=!0,_o=i}};function wo(i,o,u,d,m,v,T,N,L){ws=!1,_o=null,_s.apply(rf,arguments)}function Gu(i,o,u,d,m,v,T,N,L){if(wo.apply(this,arguments),ws){if(ws){var K=_o;ws=!1,_o=null}else throw Error(n(198));Kn||(Kn=!0,sl=K)}}function Gn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Es(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Qn(i){if(Gn(i)!==i)throw Error(n(188))}function Qu(i){var o=i.alternate;if(!o){if(o=Gn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Qn(m),i;if(v===d)return Qn(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=v;else{for(var T=!1,N=m.child;N;){if(N===u){T=!0,u=m,d=v;break}if(N===d){T=!0,d=m,u=v;break}N=N.sibling}if(!T){for(N=v.child;N;){if(N===u){T=!0,u=v,d=m;break}if(N===d){T=!0,d=v,u=m;break}N=N.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function ol(i){return i=Qu(i),i!==null?Eo(i):null}function Eo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Eo(i);if(o!==null)return o;i=i.sibling}return null}var To=e.unstable_scheduleCallback,al=e.unstable_cancelCallback,Yu=e.unstable_shouldYield,sf=e.unstable_requestPaint,Xe=e.unstable_now,Xu=e.unstable_getCurrentPriorityLevel,Ts=e.unstable_ImmediatePriority,gi=e.unstable_UserBlockingPriority,Dn=e.unstable_NormalPriority,ll=e.unstable_LowPriority,Ju=e.unstable_IdlePriority,Ss=null,_n=null;function Zu(i){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Ss,i,void 0,(i.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:tc,ul=Math.log,ec=Math.LN2;function tc(i){return i>>>=0,i===0?32:31-(ul(i)/ec|0)|0}var So=64,Io=4194304;function yi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Is(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,m=i.suspendedLanes,v=i.pingedLanes,T=u&268435455;if(T!==0){var N=T&~m;N!==0?d=yi(N):(v&=T,v!==0&&(d=yi(v)))}else T=u&~m,T!==0?d=yi(T):v!==0&&(d=yi(v));if(d===0)return 0;if(o!==0&&o!==d&&!(o&m)&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(d&4&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-en(o),m=1<<u,d|=i[u],o&=~m;return d}function of(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-en(v),N=1<<T,L=m[T];L===-1?(!(N&u)||N&d)&&(m[T]=of(N,o)):L<=o&&(i.expiredLanes|=N),v&=~N}}function wn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Cs(){var i=So;return So<<=1,!(So&4194240)&&(So=64),i}function vi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function _i(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-en(o),i[o]=u}function Qe(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-en(u),v=1<<m;o[m]=0,d[m]=-1,i[m]=-1,u&=~v}}function wi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-en(u),m=1<<d;m&o|i[d]&o&&(i[d]|=o),u&=~m}}var Le=0;function Ei(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var nc,Co,rc,ic,sc,cl=!1,pr=[],Ot=null,Yn=null,Xn=null,Ti=new Map,Nn=new Map,mr=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(i,o){switch(i){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":Ti.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(o.pointerId)}}function on(i,o,u,d,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Cl(o),o!==null&&Co(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function lf(i,o,u,d,m){switch(o){case"focusin":return Ot=on(Ot,i,o,u,d,m),!0;case"dragenter":return Yn=on(Yn,i,o,u,d,m),!0;case"mouseover":return Xn=on(Xn,i,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return Ti.set(v,on(Ti.get(v)||null,i,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Nn.set(v,on(Nn.get(v)||null,i,o,u,d,m)),!0}return!1}function ac(i){var o=ks(i.target);if(o!==null){var u=Gn(o);if(u!==null){if(o=u.tag,o===13){if(o=Es(u),o!==null){i.blockedOn=o,sc(i.priority,function(){rc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ao(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);ys=d,u.target.dispatchEvent(d),ys=null}else return o=Cl(u),o!==null&&Co(o),i.blockedOn=u,!1;o.shift()}return!0}function As(i,o,u){zr(i)&&u.delete(o)}function lc(){cl=!1,Ot!==null&&zr(Ot)&&(Ot=null),Yn!==null&&zr(Yn)&&(Yn=null),Xn!==null&&zr(Xn)&&(Xn=null),Ti.forEach(As),Nn.forEach(As)}function Jn(i,o){i.blockedOn===o&&(i.blockedOn=null,cl||(cl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lc)))}function Zn(i){function o(m){return Jn(m,i)}if(0<pr.length){Jn(pr[0],i);for(var u=1;u<pr.length;u++){var d=pr[u];d.blockedOn===i&&(d.blockedOn=null)}}for(Ot!==null&&Jn(Ot,i),Yn!==null&&Jn(Yn,i),Xn!==null&&Jn(Xn,i),Ti.forEach(o),Nn.forEach(o),u=0;u<mr.length;u++)d=mr[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<mr.length&&(u=mr[0],u.blockedOn===null);)ac(u),u.blockedOn===null&&mr.shift()}var $r=J.ReactCurrentBatchConfig,Si=!0;function nt(i,o,u,d){var m=Le,v=$r.transition;$r.transition=null;try{Le=1,hl(i,o,u,d)}finally{Le=m,$r.transition=v}}function uf(i,o,u,d){var m=Le,v=$r.transition;$r.transition=null;try{Le=4,hl(i,o,u,d)}finally{Le=m,$r.transition=v}}function hl(i,o,u,d){if(Si){var m=Ao(i,o,u,d);if(m===null)wf(i,o,d,Rs,u),oc(i,d);else if(lf(m,i,o,u,d))d.stopPropagation();else if(oc(i,d),o&4&&-1<af.indexOf(i)){for(;m!==null;){var v=Cl(m);if(v!==null&&nc(v),v=Ao(i,o,u,d),v===null&&wf(i,o,d,Rs,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else wf(i,o,d,null,u)}}var Rs=null;function Ao(i,o,u,d){if(Rs=null,i=mo(d),i=ks(i),i!==null)if(o=Gn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Es(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Rs=i,null}function dl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xu()){case Ts:return 1;case gi:return 4;case Dn:case ll:return 16;case Ju:return 536870912;default:return 16}default:return 16}}var En=null,Ro=null,an=null;function fl(){if(an)return an;var i,o=Ro,u=o.length,d,m="value"in En?En.value:En.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var T=u-i;for(d=1;d<=T&&o[u-d]===m[v-d];d++);return an=m.slice(i,1<d?1-d:void 0)}function Po(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function gr(){return!0}function pl(){return!1}function Vt(i){function o(u,d,m,v,T){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?gr:pl,this.isPropagationStopped=pl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),o}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=Vt(er),yr=le({},er,{view:0,detail:0}),cf=Vt(yr),ko,Hr,Ii,Ps=le({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ii&&(Ii&&i.type==="mousemove"?(ko=i.screenX-Ii.screenX,Hr=i.screenY-Ii.screenY):Hr=ko=0,Ii=i),ko)},movementY:function(i){return"movementY"in i?i.movementY:Hr}}),bo=Vt(Ps),ml=le({},Ps,{dataTransfer:0}),uc=Vt(ml),Do=le({},yr,{relatedTarget:0}),No=Vt(Do),cc=le({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),Wr=Vt(cc),hc=le({},er,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dc=Vt(hc),fc=le({},er,{data:0}),gl=Vt(fc),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=pc[i])?!!o[i]:!1}function vr(){return mc}var h=le({},yr,{key:function(i){if(i.key){var o=Oo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Po(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(i){return i.type==="keypress"?Po(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Po(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Vt(h),E=le({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Vt(E),H=le({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Q=Vt(H),ae=le({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Vt(ae),Tt=le({},Ps,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=Vt(Tt),xt=[9,13,27,32],gt=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Tn=c&&"TextEvent"in window&&!On,xs=c&&(!gt||On&&8<On&&11>=On),Vo=" ",By=!1;function zy(i,o){switch(i){case"keyup":return xt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Mo=!1;function dA(i,o){switch(i){case"compositionend":return $y(o);case"keypress":return o.which!==32?null:(By=!0,Vo);case"textInput":return i=o.data,i===Vo&&By?null:i;default:return null}}function fA(i,o){if(Mo)return i==="compositionend"||!gt&&zy(i,o)?(i=fl(),an=Ro=En=null,Mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return xs&&o.locale!=="ko"?null:o.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!pA[i.type]:o==="textarea"}function Wy(i,o,u,d){fr(d),o=wc(o,"onChange"),0<o.length&&(u=new xo("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var yl=null,vl=null;function mA(i){u0(i,0)}function gc(i){var o=Bo(i);if(uo(o))return i}function gA(i,o){if(i==="change")return o}var qy=!1;if(c){var hf;if(c){var df="oninput"in document;if(!df){var Ky=document.createElement("div");Ky.setAttribute("oninput","return;"),df=typeof Ky.oninput=="function"}hf=df}else hf=!1;qy=hf&&(!document.documentMode||9<document.documentMode)}function Gy(){yl&&(yl.detachEvent("onpropertychange",Qy),vl=yl=null)}function Qy(i){if(i.propertyName==="value"&&gc(vl)){var o=[];Wy(o,vl,i,mo(i)),il(mA,o)}}function yA(i,o,u){i==="focusin"?(Gy(),yl=o,vl=u,yl.attachEvent("onpropertychange",Qy)):i==="focusout"&&Gy()}function vA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gc(vl)}function _A(i,o){if(i==="click")return gc(o)}function wA(i,o){if(i==="input"||i==="change")return gc(o)}function EA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var tr=typeof Object.is=="function"?Object.is:EA;function _l(i,o){if(tr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!tr(i[m],o[m]))return!1}return!0}function Yy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Xy(i,o){var u=Yy(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Yy(u)}}function Jy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Jy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Zy(){for(var i=window,o=pi();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=pi(i.document)}return o}function ff(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function TA(i){var o=Zy(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Jy(u.ownerDocument.documentElement,u)){if(d!==null&&ff(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!i.extend&&v>d&&(m=d,d=v,v=m),m=Xy(u,v);var T=Xy(u,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var SA=c&&"documentMode"in document&&11>=document.documentMode,Lo=null,pf=null,wl=null,mf=!1;function e0(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;mf||Lo==null||Lo!==pi(d)||(d=Lo,"selectionStart"in d&&ff(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),wl&&_l(wl,d)||(wl=d,d=wc(pf,"onSelect"),0<d.length&&(o=new xo("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=Lo)))}function yc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var jo={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},gf={},t0={};c&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function vc(i){if(gf[i])return gf[i];if(!jo[i])return i;var o=jo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in t0)return gf[i]=o[u];return i}var n0=vc("animationend"),r0=vc("animationiteration"),i0=vc("animationstart"),s0=vc("transitionend"),o0=new Map,a0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(i,o){o0.set(i,o),a(o,[i])}for(var yf=0;yf<a0.length;yf++){var vf=a0[yf],IA=vf.toLowerCase(),CA=vf[0].toUpperCase()+vf.slice(1);Ci(IA,"on"+CA)}Ci(n0,"onAnimationEnd"),Ci(r0,"onAnimationIteration"),Ci(i0,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(s0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function l0(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,Gu(d,o,void 0,i),i.currentTarget=null}function u0(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var T=d.length-1;0<=T;T--){var N=d[T],L=N.instance,K=N.currentTarget;if(N=N.listener,L!==v&&m.isPropagationStopped())break e;l0(m,N,K),v=L}else for(T=0;T<d.length;T++){if(N=d[T],L=N.instance,K=N.currentTarget,N=N.listener,L!==v&&m.isPropagationStopped())break e;l0(m,N,K),v=L}}}if(Kn)throw i=sl,Kn=!1,sl=null,i}function Ze(i,o){var u=o[Af];u===void 0&&(u=o[Af]=new Set);var d=i+"__bubble";u.has(d)||(c0(o,i,2,!1),u.add(d))}function _f(i,o,u){var d=0;o&&(d|=4),c0(u,i,d,o)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Tl(i){if(!i[_c]){i[_c]=!0,r.forEach(function(u){u!=="selectionchange"&&(AA.has(u)||_f(u,!1,i),_f(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[_c]||(o[_c]=!0,_f("selectionchange",!1,o))}}function c0(i,o,u,d){switch(dl(o)){case 1:var m=nt;break;case 4:m=uf;break;default:m=hl}u=m.bind(null,o,u,i),m=void 0,!vo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function wf(i,o,u,d,m){var v=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var N=d.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;T=T.return}for(;N!==null;){if(T=ks(N),T===null)return;if(L=T.tag,L===5||L===6){d=v=T;continue e}N=N.parentNode}}d=d.return}il(function(){var K=v,ne=mo(u),ie=[];e:{var te=o0.get(i);if(te!==void 0){var ce=xo,fe=i;switch(i){case"keypress":if(Po(u)===0)break e;case"keydown":case"keyup":ce=y;break;case"focusin":fe="focus",ce=No;break;case"focusout":fe="blur",ce=No;break;case"beforeblur":case"afterblur":ce=No;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Q;break;case n0:case r0:case i0:ce=Wr;break;case s0:ce=Ge;break;case"scroll":ce=cf;break;case"wheel":ce=Fe;break;case"copy":case"cut":case"paste":ce=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=A}var me=(o&4)!==0,ft=!me&&i==="scroll",W=me?te!==null?te+"Capture":null:te;me=[];for(var B=K,q;B!==null;){q=B;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,W!==null&&(oe=dt(B,W),oe!=null&&me.push(Sl(B,oe,q)))),ft)break;B=B.return}0<me.length&&(te=new ce(te,fe,null,u,ne),ie.push({event:te,listeners:me}))}}if(!(o&7)){e:{if(te=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",te&&u!==ys&&(fe=u.relatedTarget||u.fromElement)&&(ks(fe)||fe[qr]))break e;if((ce||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(fe=u.relatedTarget||u.toElement,ce=K,fe=fe?ks(fe):null,fe!==null&&(ft=Gn(fe),fe!==ft||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=K),ce!==fe)){if(me=bo,oe="onMouseLeave",W="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(me=A,oe="onPointerLeave",W="onPointerEnter",B="pointer"),ft=ce==null?te:Bo(ce),q=fe==null?te:Bo(fe),te=new me(oe,B+"leave",ce,u,ne),te.target=ft,te.relatedTarget=q,oe=null,ks(ne)===K&&(me=new me(W,B+"enter",fe,u,ne),me.target=q,me.relatedTarget=ft,oe=me),ft=oe,ce&&fe)t:{for(me=ce,W=fe,B=0,q=me;q;q=Fo(q))B++;for(q=0,oe=W;oe;oe=Fo(oe))q++;for(;0<B-q;)me=Fo(me),B--;for(;0<q-B;)W=Fo(W),q--;for(;B--;){if(me===W||W!==null&&me===W.alternate)break t;me=Fo(me),W=Fo(W)}me=null}else me=null;ce!==null&&h0(ie,te,ce,me,!1),fe!==null&&ft!==null&&h0(ie,ft,fe,me,!0)}}e:{if(te=K?Bo(K):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var ge=gA;else if(Hy(te))if(qy)ge=wA;else{ge=vA;var we=yA}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ge=_A);if(ge&&(ge=ge(i,K))){Wy(ie,ge,u,ne);break e}we&&we(i,te,K),i==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&ho(te,"number",te.value)}switch(we=K?Bo(K):window,i){case"focusin":(Hy(we)||we.contentEditable==="true")&&(Lo=we,pf=K,wl=null);break;case"focusout":wl=pf=Lo=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,e0(ie,u,ne);break;case"selectionchange":if(SA)break;case"keydown":case"keyup":e0(ie,u,ne)}var Ee;if(gt)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Mo?zy(i,u)&&(Ae="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(xs&&u.locale!=="ko"&&(Mo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Mo&&(Ee=fl()):(En=ne,Ro="value"in En?En.value:En.textContent,Mo=!0)),we=wc(K,Ae),0<we.length&&(Ae=new gl(Ae,i,null,u,ne),ie.push({event:Ae,listeners:we}),Ee?Ae.data=Ee:(Ee=$y(u),Ee!==null&&(Ae.data=Ee)))),(Ee=Tn?dA(i,u):fA(i,u))&&(K=wc(K,"onBeforeInput"),0<K.length&&(ne=new gl("onBeforeInput","beforeinput",null,u,ne),ie.push({event:ne,listeners:K}),ne.data=Ee))}u0(ie,o)})}function Sl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function wc(i,o){for(var u=o+"Capture",d=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=dt(i,u),v!=null&&d.unshift(Sl(i,v,m)),v=dt(i,o),v!=null&&d.push(Sl(i,v,m))),i=i.return}return d}function Fo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function h0(i,o,u,d,m){for(var v=o._reactName,T=[];u!==null&&u!==d;){var N=u,L=N.alternate,K=N.stateNode;if(L!==null&&L===d)break;N.tag===5&&K!==null&&(N=K,m?(L=dt(u,v),L!=null&&T.unshift(Sl(u,L,N))):m||(L=dt(u,v),L!=null&&T.push(Sl(u,L,N)))),u=u.return}T.length!==0&&i.push({event:o,listeners:T})}var RA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function d0(i){return(typeof i=="string"?i:""+i).replace(RA,`
`).replace(PA,"")}function Ec(i,o,u){if(o=d0(o),d0(i)!==o&&u)throw Error(n(425))}function Tc(){}var Ef=null,Tf=null;function Sf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var If=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,f0=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof f0<"u"?function(i){return f0.resolve(null).then(i).catch(bA)}:If;function bA(i){setTimeout(function(){throw i})}function Cf(i,o){var u=o,d=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){i.removeChild(m),Zn(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Zn(o)}function Ai(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function p0(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),_r="__reactFiber$"+Uo,Il="__reactProps$"+Uo,qr="__reactContainer$"+Uo,Af="__reactEvents$"+Uo,DA="__reactListeners$"+Uo,NA="__reactHandles$"+Uo;function ks(i){var o=i[_r];if(o)return o;for(var u=i.parentNode;u;){if(o=u[qr]||u[_r]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=p0(i);i!==null;){if(u=i[_r])return u;i=p0(i)}return o}i=u,u=i.parentNode}return null}function Cl(i){return i=i[_r]||i[qr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Bo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Sc(i){return i[Il]||null}var Rf=[],zo=-1;function Ri(i){return{current:i}}function et(i){0>zo||(i.current=Rf[zo],Rf[zo]=null,zo--)}function Je(i,o){zo++,Rf[zo]=i.current,i.current=o}var Pi={},$t=Ri(Pi),ln=Ri(!1),bs=Pi;function $o(i,o){var u=i.type.contextTypes;if(!u)return Pi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function un(i){return i=i.childContextTypes,i!=null}function Ic(){et(ln),et($t)}function m0(i,o,u){if($t.current!==Pi)throw Error(n(168));Je($t,o),Je(ln,u)}function g0(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,He(i)||"Unknown",m));return le({},u,d)}function Cc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Pi,bs=$t.current,Je($t,i),Je(ln,ln.current),!0}function y0(i,o,u){var d=i.stateNode;if(!d)throw Error(n(169));u?(i=g0(i,o,bs),d.__reactInternalMemoizedMergedChildContext=i,et(ln),et($t),Je($t,i)):et(ln),Je(ln,u)}var Kr=null,Ac=!1,Pf=!1;function v0(i){Kr===null?Kr=[i]:Kr.push(i)}function OA(i){Ac=!0,v0(i)}function xi(){if(!Pf&&Kr!==null){Pf=!0;var i=0,o=Le;try{var u=Kr;for(Le=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}Kr=null,Ac=!1}catch(m){throw Kr!==null&&(Kr=Kr.slice(i+1)),To(Ts,xi),m}finally{Le=o,Pf=!1}}return null}var Ho=[],Wo=0,Rc=null,Pc=0,Vn=[],Mn=0,Ds=null,Gr=1,Qr="";function Ns(i,o){Ho[Wo++]=Pc,Ho[Wo++]=Rc,Rc=i,Pc=o}function _0(i,o,u){Vn[Mn++]=Gr,Vn[Mn++]=Qr,Vn[Mn++]=Ds,Ds=i;var d=Gr;i=Qr;var m=32-en(d)-1;d&=~(1<<m),u+=1;var v=32-en(o)+m;if(30<v){var T=m-m%5;v=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Gr=1<<32-en(o)+m|u<<m|d,Qr=v+i}else Gr=1<<v|u<<m|d,Qr=i}function xf(i){i.return!==null&&(Ns(i,1),_0(i,1,0))}function kf(i){for(;i===Rc;)Rc=Ho[--Wo],Ho[Wo]=null,Pc=Ho[--Wo],Ho[Wo]=null;for(;i===Ds;)Ds=Vn[--Mn],Vn[Mn]=null,Qr=Vn[--Mn],Vn[Mn]=null,Gr=Vn[--Mn],Vn[Mn]=null}var Sn=null,In=null,rt=!1,nr=null;function w0(i,o){var u=Un(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function E0(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Sn=i,In=Ai(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Sn=i,In=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ds!==null?{id:Gr,overflow:Qr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Un(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Sn=i,In=null,!0):!1;default:return!1}}function bf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Df(i){if(rt){var o=In;if(o){var u=o;if(!E0(i,o)){if(bf(i))throw Error(n(418));o=Ai(u.nextSibling);var d=Sn;o&&E0(i,o)?w0(d,u):(i.flags=i.flags&-4097|2,rt=!1,Sn=i)}}else{if(bf(i))throw Error(n(418));i.flags=i.flags&-4097|2,rt=!1,Sn=i}}}function T0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Sn=i}function xc(i){if(i!==Sn)return!1;if(!rt)return T0(i),rt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Sf(i.type,i.memoizedProps)),o&&(o=In)){if(bf(i))throw S0(),Error(n(418));for(;o;)w0(i,o),o=Ai(o.nextSibling)}if(T0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){In=Ai(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}In=null}}else In=Sn?Ai(i.stateNode.nextSibling):null;return!0}function S0(){for(var i=In;i;)i=Ai(i.nextSibling)}function qo(){In=Sn=null,rt=!1}function Nf(i){nr===null?nr=[i]:nr.push(i)}var VA=J.ReactCurrentBatchConfig;function Al(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,i));var m=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var N=m.refs;T===null?delete N[v]:N[v]=T},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function kc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function I0(i){var o=i._init;return o(i._payload)}function C0(i){function o(W,B){if(i){var q=W.deletions;q===null?(W.deletions=[B],W.flags|=16):q.push(B)}}function u(W,B){if(!i)return null;for(;B!==null;)o(W,B),B=B.sibling;return null}function d(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function m(W,B){return W=Li(W,B),W.index=0,W.sibling=null,W}function v(W,B,q){return W.index=q,i?(q=W.alternate,q!==null?(q=q.index,q<B?(W.flags|=2,B):q):(W.flags|=2,B)):(W.flags|=1048576,B)}function T(W){return i&&W.alternate===null&&(W.flags|=2),W}function N(W,B,q,oe){return B===null||B.tag!==6?(B=Ip(q,W.mode,oe),B.return=W,B):(B=m(B,q),B.return=W,B)}function L(W,B,q,oe){var ge=q.type;return ge===D?ne(W,B,q.props.children,oe,q.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===be&&I0(ge)===B.type)?(oe=m(B,q.props),oe.ref=Al(W,B,q),oe.return=W,oe):(oe=eh(q.type,q.key,q.props,null,W.mode,oe),oe.ref=Al(W,B,q),oe.return=W,oe)}function K(W,B,q,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=Cp(q,W.mode,oe),B.return=W,B):(B=m(B,q.children||[]),B.return=W,B)}function ne(W,B,q,oe,ge){return B===null||B.tag!==7?(B=Bs(q,W.mode,oe,ge),B.return=W,B):(B=m(B,q),B.return=W,B)}function ie(W,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Ip(""+B,W.mode,q),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case G:return q=eh(B.type,B.key,B.props,null,W.mode,q),q.ref=Al(W,null,B),q.return=W,q;case ee:return B=Cp(B,W.mode,q),B.return=W,B;case be:var oe=B._init;return ie(W,oe(B._payload),q)}if(Lr(B)||pe(B))return B=Bs(B,W.mode,q,null),B.return=W,B;kc(W,B)}return null}function te(W,B,q,oe){var ge=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:N(W,B,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case G:return q.key===ge?L(W,B,q,oe):null;case ee:return q.key===ge?K(W,B,q,oe):null;case be:return ge=q._init,te(W,B,ge(q._payload),oe)}if(Lr(q)||pe(q))return ge!==null?null:ne(W,B,q,oe,null);kc(W,q)}return null}function ce(W,B,q,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return W=W.get(q)||null,N(B,W,""+oe,ge);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case G:return W=W.get(oe.key===null?q:oe.key)||null,L(B,W,oe,ge);case ee:return W=W.get(oe.key===null?q:oe.key)||null,K(B,W,oe,ge);case be:var we=oe._init;return ce(W,B,q,we(oe._payload),ge)}if(Lr(oe)||pe(oe))return W=W.get(q)||null,ne(B,W,oe,ge,null);kc(B,oe)}return null}function fe(W,B,q,oe){for(var ge=null,we=null,Ee=B,Ae=B=0,Dt=null;Ee!==null&&Ae<q.length;Ae++){Ee.index>Ae?(Dt=Ee,Ee=null):Dt=Ee.sibling;var ze=te(W,Ee,q[Ae],oe);if(ze===null){Ee===null&&(Ee=Dt);break}i&&Ee&&ze.alternate===null&&o(W,Ee),B=v(ze,B,Ae),we===null?ge=ze:we.sibling=ze,we=ze,Ee=Dt}if(Ae===q.length)return u(W,Ee),rt&&Ns(W,Ae),ge;if(Ee===null){for(;Ae<q.length;Ae++)Ee=ie(W,q[Ae],oe),Ee!==null&&(B=v(Ee,B,Ae),we===null?ge=Ee:we.sibling=Ee,we=Ee);return rt&&Ns(W,Ae),ge}for(Ee=d(W,Ee);Ae<q.length;Ae++)Dt=ce(Ee,W,Ae,q[Ae],oe),Dt!==null&&(i&&Dt.alternate!==null&&Ee.delete(Dt.key===null?Ae:Dt.key),B=v(Dt,B,Ae),we===null?ge=Dt:we.sibling=Dt,we=Dt);return i&&Ee.forEach(function(ji){return o(W,ji)}),rt&&Ns(W,Ae),ge}function me(W,B,q,oe){var ge=pe(q);if(typeof ge!="function")throw Error(n(150));if(q=ge.call(q),q==null)throw Error(n(151));for(var we=ge=null,Ee=B,Ae=B=0,Dt=null,ze=q.next();Ee!==null&&!ze.done;Ae++,ze=q.next()){Ee.index>Ae?(Dt=Ee,Ee=null):Dt=Ee.sibling;var ji=te(W,Ee,ze.value,oe);if(ji===null){Ee===null&&(Ee=Dt);break}i&&Ee&&ji.alternate===null&&o(W,Ee),B=v(ji,B,Ae),we===null?ge=ji:we.sibling=ji,we=ji,Ee=Dt}if(ze.done)return u(W,Ee),rt&&Ns(W,Ae),ge;if(Ee===null){for(;!ze.done;Ae++,ze=q.next())ze=ie(W,ze.value,oe),ze!==null&&(B=v(ze,B,Ae),we===null?ge=ze:we.sibling=ze,we=ze);return rt&&Ns(W,Ae),ge}for(Ee=d(W,Ee);!ze.done;Ae++,ze=q.next())ze=ce(Ee,W,Ae,ze.value,oe),ze!==null&&(i&&ze.alternate!==null&&Ee.delete(ze.key===null?Ae:ze.key),B=v(ze,B,Ae),we===null?ge=ze:we.sibling=ze,we=ze);return i&&Ee.forEach(function(fR){return o(W,fR)}),rt&&Ns(W,Ae),ge}function ft(W,B,q,oe){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case G:e:{for(var ge=q.key,we=B;we!==null;){if(we.key===ge){if(ge=q.type,ge===D){if(we.tag===7){u(W,we.sibling),B=m(we,q.props.children),B.return=W,W=B;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===be&&I0(ge)===we.type){u(W,we.sibling),B=m(we,q.props),B.ref=Al(W,we,q),B.return=W,W=B;break e}u(W,we);break}else o(W,we);we=we.sibling}q.type===D?(B=Bs(q.props.children,W.mode,oe,q.key),B.return=W,W=B):(oe=eh(q.type,q.key,q.props,null,W.mode,oe),oe.ref=Al(W,B,q),oe.return=W,W=oe)}return T(W);case ee:e:{for(we=q.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){u(W,B.sibling),B=m(B,q.children||[]),B.return=W,W=B;break e}else{u(W,B);break}else o(W,B);B=B.sibling}B=Cp(q,W.mode,oe),B.return=W,W=B}return T(W);case be:return we=q._init,ft(W,B,we(q._payload),oe)}if(Lr(q))return fe(W,B,q,oe);if(pe(q))return me(W,B,q,oe);kc(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(u(W,B.sibling),B=m(B,q),B.return=W,W=B):(u(W,B),B=Ip(q,W.mode,oe),B.return=W,W=B),T(W)):u(W,B)}return ft}var Ko=C0(!0),A0=C0(!1),bc=Ri(null),Dc=null,Go=null,Of=null;function Vf(){Of=Go=Dc=null}function Mf(i){var o=bc.current;et(bc),i._currentValue=o}function Lf(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function Qo(i,o){Dc=i,Of=Go=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(cn=!0),i.firstContext=null)}function Ln(i){var o=i._currentValue;if(Of!==i)if(i={context:i,memoizedValue:o,next:null},Go===null){if(Dc===null)throw Error(n(308));Go=i,Dc.dependencies={lanes:0,firstContext:i}}else Go=Go.next=i;return o}var Os=null;function jf(i){Os===null?Os=[i]:Os.push(i)}function R0(i,o,u,d){var m=o.interleaved;return m===null?(u.next=u,jf(o)):(u.next=m.next,m.next=u),o.interleaved=u,Yr(i,d)}function Yr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var ki=!1;function Ff(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Xr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function bi(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,Be&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Yr(i,u)}return m=d.interleaved,m===null?(o.next=o,jf(d)):(o.next=m.next,m.next=o),d.interleaved=o,Yr(i,u)}function Nc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,wi(i,u)}}function x0(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Oc(i,o,u,d){var m=i.updateQueue;ki=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var L=N,K=L.next;L.next=null,T===null?v=K:T.next=K,T=L;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==T&&(N===null?ne.firstBaseUpdate=K:N.next=K,ne.lastBaseUpdate=L))}if(v!==null){var ie=m.baseState;T=0,ne=K=L=null,N=v;do{var te=N.lane,ce=N.eventTime;if((d&te)===te){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var fe=i,me=N;switch(te=o,ce=u,me.tag){case 1:if(fe=me.payload,typeof fe=="function"){ie=fe.call(ce,ie,te);break e}ie=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=me.payload,te=typeof fe=="function"?fe.call(ce,ie,te):fe,te==null)break e;ie=le({},ie,te);break e;case 2:ki=!0}}N.callback!==null&&N.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[N]:te.push(N))}else ce={eventTime:ce,lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(K=ne=ce,L=ie):ne=ne.next=ce,T|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;te=N,N=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(L=ie),m.baseState=L,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ls|=T,i.lanes=T,i.memoizedState=ie}}function k0(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var Rl={},wr=Ri(Rl),Pl=Ri(Rl),xl=Ri(Rl);function Vs(i){if(i===Rl)throw Error(n(174));return i}function Uf(i,o){switch(Je(xl,o),Je(Pl,i),Je(wr,Rl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Et(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Et(o,i)}et(wr),Je(wr,o)}function Yo(){et(wr),et(Pl),et(xl)}function b0(i){Vs(xl.current);var o=Vs(wr.current),u=Et(o,i.type);o!==u&&(Je(Pl,i),Je(wr,u))}function Bf(i){Pl.current===i&&(et(wr),et(Pl))}var st=Ri(0);function Vc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var zf=[];function $f(){for(var i=0;i<zf.length;i++)zf[i]._workInProgressVersionPrimary=null;zf.length=0}var Mc=J.ReactCurrentDispatcher,Hf=J.ReactCurrentBatchConfig,Ms=0,ot=null,St=null,kt=null,Lc=!1,kl=!1,bl=0,MA=0;function Ht(){throw Error(n(321))}function Wf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!tr(i[u],o[u]))return!1;return!0}function qf(i,o,u,d,m,v){if(Ms=v,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Mc.current=i===null||i.memoizedState===null?UA:BA,i=u(d,m),kl){v=0;do{if(kl=!1,bl=0,25<=v)throw Error(n(301));v+=1,kt=St=null,o.updateQueue=null,Mc.current=zA,i=u(d,m)}while(kl)}if(Mc.current=Uc,o=St!==null&&St.next!==null,Ms=0,kt=St=ot=null,Lc=!1,o)throw Error(n(300));return i}function Kf(){var i=bl!==0;return bl=0,i}function Er(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ot.memoizedState=kt=i:kt=kt.next=i,kt}function jn(){if(St===null){var i=ot.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var o=kt===null?ot.memoizedState:kt.next;if(o!==null)kt=o,St=i;else{if(i===null)throw Error(n(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},kt===null?ot.memoizedState=kt=i:kt=kt.next=i}return kt}function Dl(i,o){return typeof o=="function"?o(i):o}function Gf(i){var o=jn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=St,m=d.baseQueue,v=u.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}d.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,d=d.baseState;var N=T=null,L=null,K=v;do{var ne=K.lane;if((Ms&ne)===ne)L!==null&&(L=L.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var ie={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};L===null?(N=L=ie,T=d):L=L.next=ie,ot.lanes|=ne,Ls|=ne}K=K.next}while(K!==null&&K!==v);L===null?T=d:L.next=N,tr(d,o.memoizedState)||(cn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=L,u.lastRenderedState=d}if(i=u.interleaved,i!==null){m=i;do v=m.lane,ot.lanes|=v,Ls|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Qf(i){var o=jn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do v=i(v,T.action),T=T.next;while(T!==m);tr(v,o.memoizedState)||(cn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function D0(){}function N0(i,o){var u=ot,d=jn(),m=o(),v=!tr(d.memoizedState,m);if(v&&(d.memoizedState=m,cn=!0),d=d.queue,Yf(M0.bind(null,u,d,i),[i]),d.getSnapshot!==o||v||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Nl(9,V0.bind(null,u,d,m,o),void 0,null),bt===null)throw Error(n(349));Ms&30||O0(u,o,m)}return m}function O0(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function V0(i,o,u,d){o.value=u,o.getSnapshot=d,L0(o)&&j0(i)}function M0(i,o,u){return u(function(){L0(o)&&j0(i)})}function L0(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!tr(i,u)}catch{return!0}}function j0(i){var o=Yr(i,1);o!==null&&or(o,i,1,-1)}function F0(i){var o=Er();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:i},o.queue=i,i=i.dispatch=FA.bind(null,ot,i),[o.memoizedState,i]}function Nl(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function U0(){return jn().memoizedState}function jc(i,o,u,d){var m=Er();ot.flags|=i,m.memoizedState=Nl(1|o,u,void 0,d===void 0?null:d)}function Fc(i,o,u,d){var m=jn();d=d===void 0?null:d;var v=void 0;if(St!==null){var T=St.memoizedState;if(v=T.destroy,d!==null&&Wf(d,T.deps)){m.memoizedState=Nl(o,u,v,d);return}}ot.flags|=i,m.memoizedState=Nl(1|o,u,v,d)}function B0(i,o){return jc(8390656,8,i,o)}function Yf(i,o){return Fc(2048,8,i,o)}function z0(i,o){return Fc(4,2,i,o)}function $0(i,o){return Fc(4,4,i,o)}function H0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function W0(i,o,u){return u=u!=null?u.concat([i]):null,Fc(4,4,H0.bind(null,o,i),u)}function Xf(){}function q0(i,o){var u=jn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Wf(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function K0(i,o){var u=jn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Wf(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function G0(i,o,u){return Ms&21?(tr(u,o)||(u=Cs(),ot.lanes|=u,Ls|=u,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,cn=!0),i.memoizedState=u)}function LA(i,o){var u=Le;Le=u!==0&&4>u?u:4,i(!0);var d=Hf.transition;Hf.transition={};try{i(!1),o()}finally{Le=u,Hf.transition=d}}function Q0(){return jn().memoizedState}function jA(i,o,u){var d=Vi(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Y0(i))X0(o,u);else if(u=R0(i,o,u,d),u!==null){var m=rn();or(u,i,d,m),J0(u,o,d)}}function FA(i,o,u){var d=Vi(i),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Y0(i))X0(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,N=v(T,u);if(m.hasEagerState=!0,m.eagerState=N,tr(N,T)){var L=o.interleaved;L===null?(m.next=m,jf(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}finally{}u=R0(i,o,m,d),u!==null&&(m=rn(),or(u,i,d,m),J0(u,o,d))}}function Y0(i){var o=i.alternate;return i===ot||o!==null&&o===ot}function X0(i,o){kl=Lc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function J0(i,o,u){if(u&4194240){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,wi(i,u)}}var Uc={readContext:Ln,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},UA={readContext:Ln,useCallback:function(i,o){return Er().memoizedState=[i,o===void 0?null:o],i},useContext:Ln,useEffect:B0,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,jc(4194308,4,H0.bind(null,o,i),u)},useLayoutEffect:function(i,o){return jc(4194308,4,i,o)},useInsertionEffect:function(i,o){return jc(4,2,i,o)},useMemo:function(i,o){var u=Er();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=Er();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=jA.bind(null,ot,i),[d.memoizedState,i]},useRef:function(i){var o=Er();return i={current:i},o.memoizedState=i},useState:F0,useDebugValue:Xf,useDeferredValue:function(i){return Er().memoizedState=i},useTransition:function(){var i=F0(!1),o=i[0];return i=LA.bind(null,i[1]),Er().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=ot,m=Er();if(rt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),bt===null)throw Error(n(349));Ms&30||O0(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,B0(M0.bind(null,d,v,i),[i]),d.flags|=2048,Nl(9,V0.bind(null,d,v,u,o),void 0,null),u},useId:function(){var i=Er(),o=bt.identifierPrefix;if(rt){var u=Qr,d=Gr;u=(d&~(1<<32-en(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=bl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=MA++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},BA={readContext:Ln,useCallback:q0,useContext:Ln,useEffect:Yf,useImperativeHandle:W0,useInsertionEffect:z0,useLayoutEffect:$0,useMemo:K0,useReducer:Gf,useRef:U0,useState:function(){return Gf(Dl)},useDebugValue:Xf,useDeferredValue:function(i){var o=jn();return G0(o,St.memoizedState,i)},useTransition:function(){var i=Gf(Dl)[0],o=jn().memoizedState;return[i,o]},useMutableSource:D0,useSyncExternalStore:N0,useId:Q0,unstable_isNewReconciler:!1},zA={readContext:Ln,useCallback:q0,useContext:Ln,useEffect:Yf,useImperativeHandle:W0,useInsertionEffect:z0,useLayoutEffect:$0,useMemo:K0,useReducer:Qf,useRef:U0,useState:function(){return Qf(Dl)},useDebugValue:Xf,useDeferredValue:function(i){var o=jn();return St===null?o.memoizedState=i:G0(o,St.memoizedState,i)},useTransition:function(){var i=Qf(Dl)[0],o=jn().memoizedState;return[i,o]},useMutableSource:D0,useSyncExternalStore:N0,useId:Q0,unstable_isNewReconciler:!1};function rr(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Jf(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:le({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Bc={isMounted:function(i){return(i=i._reactInternals)?Gn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=rn(),m=Vi(i),v=Xr(d,m);v.payload=o,u!=null&&(v.callback=u),o=bi(i,v,m),o!==null&&(or(o,i,m,d),Nc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=rn(),m=Vi(i),v=Xr(d,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=bi(i,v,m),o!==null&&(or(o,i,m,d),Nc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=rn(),d=Vi(i),m=Xr(u,d);m.tag=2,o!=null&&(m.callback=o),o=bi(i,m,d),o!==null&&(or(o,i,d,u),Nc(o,i,d))}};function Z0(i,o,u,d,m,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,T):o.prototype&&o.prototype.isPureReactComponent?!_l(u,d)||!_l(m,v):!0}function ev(i,o,u){var d=!1,m=Pi,v=o.contextType;return typeof v=="object"&&v!==null?v=Ln(v):(m=un(o)?bs:$t.current,d=o.contextTypes,v=(d=d!=null)?$o(i,m):Pi),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Bc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function tv(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&Bc.enqueueReplaceState(o,o.state,null)}function Zf(i,o,u,d){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Ff(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Ln(v):(v=un(o)?bs:$t.current,m.context=$o(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Jf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Bc.enqueueReplaceState(m,m.state,null),Oc(i,u,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Xo(i,o){try{var u="",d=o;do u+=Pe(d),d=d.return;while(d);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function ep(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function tp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var $A=typeof WeakMap=="function"?WeakMap:Map;function nv(i,o,u){u=Xr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Gc||(Gc=!0,gp=d),tp(i,o)},u}function rv(i,o,u){u=Xr(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){tp(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){tp(i,o),typeof d!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function iv(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new $A;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),i=rR.bind(null,i,o,u),o.then(i,i))}function sv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ov(i,o,u,d,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Xr(-1,1),o.tag=2,bi(u,o,1))),u.lanes|=1),i)}var HA=J.ReactCurrentOwner,cn=!1;function nn(i,o,u,d){o.child=i===null?A0(o,null,u,d):Ko(o,i.child,u,d)}function av(i,o,u,d,m){u=u.render;var v=o.ref;return Qo(o,m),d=qf(i,o,u,d,v,m),u=Kf(),i!==null&&!cn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Jr(i,o,m)):(rt&&u&&xf(o),o.flags|=1,nn(i,o,d,m),o.child)}function lv(i,o,u,d,m){if(i===null){var v=u.type;return typeof v=="function"&&!Sp(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,uv(i,o,v,d,m)):(i=eh(u.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:_l,u(T,d)&&i.ref===o.ref)return Jr(i,o,m)}return o.flags|=1,i=Li(v,d),i.ref=o.ref,i.return=o,o.child=i}function uv(i,o,u,d,m){if(i!==null){var v=i.memoizedProps;if(_l(v,d)&&i.ref===o.ref)if(cn=!1,o.pendingProps=d=v,(i.lanes&m)!==0)i.flags&131072&&(cn=!0);else return o.lanes=i.lanes,Jr(i,o,m)}return np(i,o,u,d,m)}function cv(i,o,u){var d=o.pendingProps,m=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Zo,Cn),Cn|=u;else{if(!(u&1073741824))return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Je(Zo,Cn),Cn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Je(Zo,Cn),Cn|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,Je(Zo,Cn),Cn|=d;return nn(i,o,m,u),o.child}function hv(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function np(i,o,u,d,m){var v=un(u)?bs:$t.current;return v=$o(o,v),Qo(o,m),u=qf(i,o,u,d,v,m),d=Kf(),i!==null&&!cn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Jr(i,o,m)):(rt&&d&&xf(o),o.flags|=1,nn(i,o,u,m),o.child)}function dv(i,o,u,d,m){if(un(u)){var v=!0;Cc(o)}else v=!1;if(Qo(o,m),o.stateNode===null)$c(i,o),ev(o,u,d),Zf(o,u,d,m),d=!0;else if(i===null){var T=o.stateNode,N=o.memoizedProps;T.props=N;var L=T.context,K=u.contextType;typeof K=="object"&&K!==null?K=Ln(K):(K=un(u)?bs:$t.current,K=$o(o,K));var ne=u.getDerivedStateFromProps,ie=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";ie||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==d||L!==K)&&tv(o,T,d,K),ki=!1;var te=o.memoizedState;T.state=te,Oc(o,d,T,m),L=o.memoizedState,N!==d||te!==L||ln.current||ki?(typeof ne=="function"&&(Jf(o,u,ne,d),L=o.memoizedState),(N=ki||Z0(o,u,N,d,te,L,K))?(ie||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=L),T.props=d,T.state=L,T.context=K,d=N):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,P0(i,o),N=o.memoizedProps,K=o.type===o.elementType?N:rr(o.type,N),T.props=K,ie=o.pendingProps,te=T.context,L=u.contextType,typeof L=="object"&&L!==null?L=Ln(L):(L=un(u)?bs:$t.current,L=$o(o,L));var ce=u.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==ie||te!==L)&&tv(o,T,d,L),ki=!1,te=o.memoizedState,T.state=te,Oc(o,d,T,m);var fe=o.memoizedState;N!==ie||te!==fe||ln.current||ki?(typeof ce=="function"&&(Jf(o,u,ce,d),fe=o.memoizedState),(K=ki||Z0(o,u,K,d,te,fe,L)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,fe,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,fe,L)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=fe),T.props=d,T.state=fe,T.context=L,d=K):(typeof T.componentDidUpdate!="function"||N===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),d=!1)}return rp(i,o,u,d,v,m)}function rp(i,o,u,d,m,v){hv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&y0(o,u,!1),Jr(i,o,v);d=o.stateNode,HA.current=o;var N=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=Ko(o,i.child,null,v),o.child=Ko(o,null,N,v)):nn(i,o,N,v),o.memoizedState=d.state,m&&y0(o,u,!0),o.child}function fv(i){var o=i.stateNode;o.pendingContext?m0(i,o.pendingContext,o.pendingContext!==o.context):o.context&&m0(i,o.context,!1),Uf(i,o.containerInfo)}function pv(i,o,u,d,m){return qo(),Nf(m),o.flags|=256,nn(i,o,u,d),o.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function sp(i){return{baseLanes:i,cachePool:null,transitions:null}}function mv(i,o,u){var d=o.pendingProps,m=st.current,v=!1,T=(o.flags&128)!==0,N;if((N=T)||(N=i!==null&&i.memoizedState===null?!1:(m&2)!==0),N?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Je(st,m&1),i===null)return Df(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=d.children,i=d.fallback,v?(d=o.mode,v=o.child,T={mode:"hidden",children:T},!(d&1)&&v!==null?(v.childLanes=0,v.pendingProps=T):v=th(T,d,0,null),i=Bs(i,d,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=sp(u),o.memoizedState=ip,i):op(o,T));if(m=i.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return WA(i,o,T,d,N,m,u);if(v){v=d.fallback,T=o.mode,m=i.child,N=m.sibling;var L={mode:"hidden",children:d.children};return!(T&1)&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=L,o.deletions=null):(d=Li(m,L),d.subtreeFlags=m.subtreeFlags&14680064),N!==null?v=Li(N,v):(v=Bs(v,T,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,T=i.child.memoizedState,T=T===null?sp(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~u,o.memoizedState=ip,d}return v=i.child,i=v.sibling,d=Li(v,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function op(i,o){return o=th({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function zc(i,o,u,d){return d!==null&&Nf(d),Ko(o,i.child,null,u),i=op(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function WA(i,o,u,d,m,v,T){if(u)return o.flags&256?(o.flags&=-257,d=ep(Error(n(422))),zc(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=th({mode:"visible",children:d.children},m,0,null),v=Bs(v,m,T,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,o.mode&1&&Ko(o,i.child,null,T),o.child.memoizedState=sp(T),o.memoizedState=ip,v);if(!(o.mode&1))return zc(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var N=d.dgst;return d=N,v=Error(n(419)),d=ep(v,d,void 0),zc(i,o,T,d)}if(N=(T&i.childLanes)!==0,cn||N){if(d=bt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|T)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Yr(i,m),or(d,i,m,-1))}return Tp(),d=ep(Error(n(421))),zc(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=iR.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,In=Ai(m.nextSibling),Sn=o,rt=!0,nr=null,i!==null&&(Vn[Mn++]=Gr,Vn[Mn++]=Qr,Vn[Mn++]=Ds,Gr=i.id,Qr=i.overflow,Ds=o),o=op(o,d.children),o.flags|=4096,o)}function gv(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Lf(i.return,o,u)}function ap(i,o,u,d,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function yv(i,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(nn(i,o,d.children,u),d=st.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gv(i,u,o);else if(i.tag===19)gv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Je(st,d),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Vc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),ap(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Vc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}ap(o,!0,u,null,v);break;case"together":ap(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function $c(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Jr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ls|=o.lanes,!(u&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Li(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Li(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function qA(i,o,u){switch(o.tag){case 3:fv(o),qo();break;case 5:b0(o);break;case 1:un(o.type)&&Cc(o);break;case 4:Uf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Je(bc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Je(st,st.current&1),o.flags|=128,null):u&o.child.childLanes?mv(i,o,u):(Je(st,st.current&1),i=Jr(i,o,u),i!==null?i.sibling:null);Je(st,st.current&1);break;case 19:if(d=(u&o.childLanes)!==0,i.flags&128){if(d)return yv(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Je(st,st.current),d)break;return null;case 22:case 23:return o.lanes=0,cv(i,o,u)}return Jr(i,o,u)}var vv,lp,_v,wv;vv=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},lp=function(){},_v=function(i,o,u,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,Vs(wr.current);var v=null;switch(u){case"input":m=ps(i,m),d=ps(i,d),v=[];break;case"select":m=le({},m,{value:void 0}),d=le({},d,{value:void 0}),v=[];break;case"textarea":m=Ga(i,m),d=Ga(i,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Tc)}el(u,d);var T;u=null;for(K in m)if(!d.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var N=m[K];for(T in N)N.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in d){var L=d[K];if(N=m!=null?m[K]:void 0,d.hasOwnProperty(K)&&L!==N&&(L!=null||N!=null))if(K==="style")if(N){for(T in N)!N.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in L)L.hasOwnProperty(T)&&N[T]!==L[T]&&(u||(u={}),u[T]=L[T])}else u||(v||(v=[]),v.push(K,u)),u=L;else K==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,N=N?N.__html:void 0,L!=null&&N!==L&&(v=v||[]).push(K,L)):K==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(K,""+L):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(L!=null&&K==="onScroll"&&Ze("scroll",i),v||N===L||(v=[])):(v=v||[]).push(K,L))}u&&(v=v||[]).push("style",u);var K=v;(o.updateQueue=K)&&(o.flags|=4)}},wv=function(i,o,u,d){u!==d&&(o.flags|=4)};function Ol(i,o){if(!rt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Wt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function KA(i,o,u){var d=o.pendingProps;switch(kf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return un(o.type)&&Ic(),Wt(o),null;case 3:return d=o.stateNode,Yo(),et(ln),et($t),$f(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(xc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,nr!==null&&(_p(nr),nr=null))),lp(i,o),Wt(o),null;case 5:Bf(o);var m=Vs(xl.current);if(u=o.type,i!==null&&o.stateNode!=null)_v(i,o,u,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Wt(o),null}if(i=Vs(wr.current),xc(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[_r]=o,d[Il]=v,i=(o.mode&1)!==0,u){case"dialog":Ze("cancel",d),Ze("close",d);break;case"iframe":case"object":case"embed":Ze("load",d);break;case"video":case"audio":for(m=0;m<El.length;m++)Ze(El[m],d);break;case"source":Ze("error",d);break;case"img":case"image":case"link":Ze("error",d),Ze("load",d);break;case"details":Ze("toggle",d);break;case"input":co(d,v),Ze("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Ze("invalid",d);break;case"textarea":fo(d,v),Ze("invalid",d)}el(u,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var N=v[T];T==="children"?typeof N=="string"?d.textContent!==N&&(v.suppressHydrationWarning!==!0&&Ec(d.textContent,N,i),m=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(v.suppressHydrationWarning!==!0&&Ec(d.textContent,N,i),m=["children",""+N]):s.hasOwnProperty(T)&&N!=null&&T==="onScroll"&&Ze("scroll",d)}switch(u){case"input":Mr(d),Ku(d,v,!0);break;case"textarea":Mr(d),Qa(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Tc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=wt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(u,{is:d.is}):(i=T.createElement(u),u==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,u),i[_r]=o,i[Il]=d,vv(i,o,!1,!1),o.stateNode=i;e:{switch(T=tl(u,d),u){case"dialog":Ze("cancel",i),Ze("close",i),m=d;break;case"iframe":case"object":case"embed":Ze("load",i),m=d;break;case"video":case"audio":for(m=0;m<El.length;m++)Ze(El[m],i);m=d;break;case"source":Ze("error",i),m=d;break;case"img":case"image":case"link":Ze("error",i),Ze("load",i),m=d;break;case"details":Ze("toggle",i),m=d;break;case"input":co(i,d),m=ps(i,d),Ze("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=le({},d,{value:void 0}),Ze("invalid",i);break;case"textarea":fo(i,d),m=Ga(i,d),Ze("invalid",i);break;default:m=d}el(u,m),N=m;for(v in N)if(N.hasOwnProperty(v)){var L=N[v];v==="style"?Ja(i,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ya(i,L)):v==="children"?typeof L=="string"?(u!=="textarea"||L!=="")&&mi(i,L):typeof L=="number"&&mi(i,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?L!=null&&v==="onScroll"&&Ze("scroll",i):L!=null&&z(i,v,L,T))}switch(u){case"input":Mr(i),Ku(i,d,!1);break;case"textarea":Mr(i),Qa(i);break;case"option":d.value!=null&&i.setAttribute("value",""+We(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?jr(i,!!d.multiple,v,!1):d.defaultValue!=null&&jr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Tc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Wt(o),null;case 6:if(i&&o.stateNode!=null)wv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=Vs(xl.current),Vs(wr.current),xc(o)){if(d=o.stateNode,u=o.memoizedProps,d[_r]=o,(v=d.nodeValue!==u)&&(i=Sn,i!==null))switch(i.tag){case 3:Ec(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ec(d.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[_r]=o,o.stateNode=d}return Wt(o),null;case 13:if(et(st),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(rt&&In!==null&&o.mode&1&&!(o.flags&128))S0(),qo(),o.flags|=98560,v=!1;else if(v=xc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[_r]=o}else qo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Wt(o),v=!1}else nr!==null&&(_p(nr),nr=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||st.current&1?It===0&&(It=3):Tp())),o.updateQueue!==null&&(o.flags|=4),Wt(o),null);case 4:return Yo(),lp(i,o),i===null&&Tl(o.stateNode.containerInfo),Wt(o),null;case 10:return Mf(o.type._context),Wt(o),null;case 17:return un(o.type)&&Ic(),Wt(o),null;case 19:if(et(st),v=o.memoizedState,v===null)return Wt(o),null;if(d=(o.flags&128)!==0,T=v.rendering,T===null)if(d)Ol(v,!1);else{if(It!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(T=Vc(i),T!==null){for(o.flags|=128,Ol(v,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,i=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Je(st,st.current&1|2),o.child}i=i.sibling}v.tail!==null&&Xe()>ea&&(o.flags|=128,d=!0,Ol(v,!1),o.lanes=4194304)}else{if(!d)if(i=Vc(T),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Ol(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!rt)return Wt(o),null}else 2*Xe()-v.renderingStartTime>ea&&u!==1073741824&&(o.flags|=128,d=!0,Ol(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(u=v.last,u!==null?u.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Xe(),o.sibling=null,u=st.current,Je(st,d?u&1|2:u&1),o):(Wt(o),null);case 22:case 23:return Ep(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?Cn&1073741824&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function GA(i,o){switch(kf(o),o.tag){case 1:return un(o.type)&&Ic(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Yo(),et(ln),et($t),$f(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Bf(o),null;case 13:if(et(st),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));qo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return et(st),null;case 4:return Yo(),null;case 10:return Mf(o.type._context),null;case 22:case 23:return Ep(),null;case 24:return null;default:return null}}var Hc=!1,qt=!1,QA=typeof WeakSet=="function"?WeakSet:Set,de=null;function Jo(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){ct(i,o,d)}else u.current=null}function up(i,o,u){try{u()}catch(d){ct(i,o,d)}}var Ev=!1;function YA(i,o){if(Ef=Si,i=Zy(),ff(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,N=-1,L=-1,K=0,ne=0,ie=i,te=null;t:for(;;){for(var ce;ie!==u||m!==0&&ie.nodeType!==3||(N=T+m),ie!==v||d!==0&&ie.nodeType!==3||(L=T+d),ie.nodeType===3&&(T+=ie.nodeValue.length),(ce=ie.firstChild)!==null;)te=ie,ie=ce;for(;;){if(ie===i)break t;if(te===u&&++K===m&&(N=T),te===v&&++ne===d&&(L=T),(ce=ie.nextSibling)!==null)break;ie=te,te=ie.parentNode}ie=ce}u=N===-1||L===-1?null:{start:N,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(Tf={focusedElem:i,selectionRange:u},Si=!1,de=o;de!==null;)if(o=de,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,de=i;else for(;de!==null;){o=de;try{var fe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var me=fe.memoizedProps,ft=fe.memoizedState,W=o.stateNode,B=W.getSnapshotBeforeUpdate(o.elementType===o.type?me:rr(o.type,me),ft);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){ct(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,de=i;break}de=o.return}return fe=Ev,Ev=!1,fe}function Vl(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&up(o,u,v)}m=m.next}while(m!==d)}}function Wc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function cp(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Tv(i){var o=i.alternate;o!==null&&(i.alternate=null,Tv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[_r],delete o[Il],delete o[Af],delete o[DA],delete o[NA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Sv(i){return i.tag===5||i.tag===3||i.tag===4}function Iv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Sv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hp(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Tc));else if(d!==4&&(i=i.child,i!==null))for(hp(i,o,u),i=i.sibling;i!==null;)hp(i,o,u),i=i.sibling}function dp(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(dp(i,o,u),i=i.sibling;i!==null;)dp(i,o,u),i=i.sibling}var Mt=null,ir=!1;function Di(i,o,u){for(u=u.child;u!==null;)Cv(i,o,u),u=u.sibling}function Cv(i,o,u){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Ss,u)}catch{}switch(u.tag){case 5:qt||Jo(u,o);case 6:var d=Mt,m=ir;Mt=null,Di(i,o,u),Mt=d,ir=m,Mt!==null&&(ir?(i=Mt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Mt.removeChild(u.stateNode));break;case 18:Mt!==null&&(ir?(i=Mt,u=u.stateNode,i.nodeType===8?Cf(i.parentNode,u):i.nodeType===1&&Cf(i,u),Zn(i)):Cf(Mt,u.stateNode));break;case 4:d=Mt,m=ir,Mt=u.stateNode.containerInfo,ir=!0,Di(i,o,u),Mt=d,ir=m;break;case 0:case 11:case 14:case 15:if(!qt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&(v&2||v&4)&&up(u,o,T),m=m.next}while(m!==d)}Di(i,o,u);break;case 1:if(!qt&&(Jo(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(N){ct(u,o,N)}Di(i,o,u);break;case 21:Di(i,o,u);break;case 22:u.mode&1?(qt=(d=qt)||u.memoizedState!==null,Di(i,o,u),qt=d):Di(i,o,u);break;default:Di(i,o,u)}}function Av(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new QA),o.forEach(function(d){var m=sR.bind(null,i,d);u.has(d)||(u.add(d),d.then(m,m))})}}function sr(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var v=i,T=o,N=T;e:for(;N!==null;){switch(N.tag){case 5:Mt=N.stateNode,ir=!1;break e;case 3:Mt=N.stateNode.containerInfo,ir=!0;break e;case 4:Mt=N.stateNode.containerInfo,ir=!0;break e}N=N.return}if(Mt===null)throw Error(n(160));Cv(v,T,m),Mt=null,ir=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(K){ct(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Rv(o,i),o=o.sibling}function Rv(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(sr(o,i),Tr(i),d&4){try{Vl(3,i,i.return),Wc(3,i)}catch(me){ct(i,i.return,me)}try{Vl(5,i,i.return)}catch(me){ct(i,i.return,me)}}break;case 1:sr(o,i),Tr(i),d&512&&u!==null&&Jo(u,u.return);break;case 5:if(sr(o,i),Tr(i),d&512&&u!==null&&Jo(u,u.return),i.flags&32){var m=i.stateNode;try{mi(m,"")}catch(me){ct(i,i.return,me)}}if(d&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,T=u!==null?u.memoizedProps:v,N=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{N==="input"&&v.type==="radio"&&v.name!=null&&qa(m,v),tl(N,T);var K=tl(N,v);for(T=0;T<L.length;T+=2){var ne=L[T],ie=L[T+1];ne==="style"?Ja(m,ie):ne==="dangerouslySetInnerHTML"?Ya(m,ie):ne==="children"?mi(m,ie):z(m,ne,ie,K)}switch(N){case"input":Ka(m,v);break;case"textarea":po(m,v);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?jr(m,!!v.multiple,ce,!1):te!==!!v.multiple&&(v.defaultValue!=null?jr(m,!!v.multiple,v.defaultValue,!0):jr(m,!!v.multiple,v.multiple?[]:"",!1))}m[Il]=v}catch(me){ct(i,i.return,me)}}break;case 6:if(sr(o,i),Tr(i),d&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(me){ct(i,i.return,me)}}break;case 3:if(sr(o,i),Tr(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Zn(o.containerInfo)}catch(me){ct(i,i.return,me)}break;case 4:sr(o,i),Tr(i);break;case 13:sr(o,i),Tr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(mp=Xe())),d&4&&Av(i);break;case 22:if(ne=u!==null&&u.memoizedState!==null,i.mode&1?(qt=(K=qt)||ne,sr(o,i),qt=K):sr(o,i),Tr(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ne&&i.mode&1)for(de=i,ne=i.child;ne!==null;){for(ie=de=ne;de!==null;){switch(te=de,ce=te.child,te.tag){case 0:case 11:case 14:case 15:Vl(4,te,te.return);break;case 1:Jo(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){d=te,u=te.return;try{o=d,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(me){ct(d,u,me)}}break;case 5:Jo(te,te.return);break;case 22:if(te.memoizedState!==null){kv(ie);continue}}ce!==null?(ce.return=te,de=ce):kv(ie)}ne=ne.sibling}e:for(ne=null,ie=i;;){if(ie.tag===5){if(ne===null){ne=ie;try{m=ie.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(N=ie.stateNode,L=ie.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,N.style.display=Xa("display",T))}catch(me){ct(i,i.return,me)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=K?"":ie.memoizedProps}catch(me){ct(i,i.return,me)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:sr(o,i),Tr(i),d&4&&Av(i);break;case 21:break;default:sr(o,i),Tr(i)}}function Tr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Sv(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(mi(m,""),d.flags&=-33);var v=Iv(i);dp(i,v,m);break;case 3:case 4:var T=d.stateNode.containerInfo,N=Iv(i);hp(i,N,T);break;default:throw Error(n(161))}}catch(L){ct(i,i.return,L)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function XA(i,o,u){de=i,Pv(i)}function Pv(i,o,u){for(var d=(i.mode&1)!==0;de!==null;){var m=de,v=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||Hc;if(!T){var N=m.alternate,L=N!==null&&N.memoizedState!==null||qt;N=Hc;var K=qt;if(Hc=T,(qt=L)&&!K)for(de=m;de!==null;)T=de,L=T.child,T.tag===22&&T.memoizedState!==null?bv(m):L!==null?(L.return=T,de=L):bv(m);for(;v!==null;)de=v,Pv(v),v=v.sibling;de=m,Hc=N,qt=K}xv(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,de=v):xv(i)}}function xv(i){for(;de!==null;){var o=de;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:qt||Wc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!qt)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:rr(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&k0(o,v,d);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}k0(o,T,u)}break;case 5:var N=o.stateNode;if(u===null&&o.flags&4){u=N;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&u.focus();break;case"img":L.src&&(u.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&Zn(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||o.flags&512&&cp(o)}catch(te){ct(o,o.return,te)}}if(o===i){de=null;break}if(u=o.sibling,u!==null){u.return=o.return,de=u;break}de=o.return}}function kv(i){for(;de!==null;){var o=de;if(o===i){de=null;break}var u=o.sibling;if(u!==null){u.return=o.return,de=u;break}de=o.return}}function bv(i){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Wc(4,o)}catch(L){ct(o,u,L)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(L){ct(o,m,L)}}var v=o.return;try{cp(o)}catch(L){ct(o,v,L)}break;case 5:var T=o.return;try{cp(o)}catch(L){ct(o,T,L)}}}catch(L){ct(o,o.return,L)}if(o===i){de=null;break}var N=o.sibling;if(N!==null){N.return=o.return,de=N;break}de=o.return}}var JA=Math.ceil,qc=J.ReactCurrentDispatcher,fp=J.ReactCurrentOwner,Fn=J.ReactCurrentBatchConfig,Be=0,bt=null,yt=null,Lt=0,Cn=0,Zo=Ri(0),It=0,Ml=null,Ls=0,Kc=0,pp=0,Ll=null,hn=null,mp=0,ea=1/0,Zr=null,Gc=!1,gp=null,Ni=null,Qc=!1,Oi=null,Yc=0,jl=0,yp=null,Xc=-1,Jc=0;function rn(){return Be&6?Xe():Xc!==-1?Xc:Xc=Xe()}function Vi(i){return i.mode&1?Be&2&&Lt!==0?Lt&-Lt:VA.transition!==null?(Jc===0&&(Jc=Cs()),Jc):(i=Le,i!==0||(i=window.event,i=i===void 0?16:dl(i.type)),i):1}function or(i,o,u,d){if(50<jl)throw jl=0,yp=null,Error(n(185));_i(i,u,d),(!(Be&2)||i!==bt)&&(i===bt&&(!(Be&2)&&(Kc|=u),It===4&&Mi(i,Lt)),dn(i,d),u===1&&Be===0&&!(o.mode&1)&&(ea=Xe()+500,Ac&&xi()))}function dn(i,o){var u=i.callbackNode;Br(i,o);var d=Is(i,i===bt?Lt:0);if(d===0)u!==null&&al(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&al(u),o===1)i.tag===0?OA(Nv.bind(null,i)):v0(Nv.bind(null,i)),kA(function(){!(Be&6)&&xi()}),u=null;else{switch(Ei(d)){case 1:u=Ts;break;case 4:u=gi;break;case 16:u=Dn;break;case 536870912:u=Ju;break;default:u=Dn}u=Bv(u,Dv.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Dv(i,o){if(Xc=-1,Jc=0,Be&6)throw Error(n(327));var u=i.callbackNode;if(ta()&&i.callbackNode!==u)return null;var d=Is(i,i===bt?Lt:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=Zc(i,d);else{o=d;var m=Be;Be|=2;var v=Vv();(bt!==i||Lt!==o)&&(Zr=null,ea=Xe()+500,Fs(i,o));do try{tR();break}catch(N){Ov(i,N)}while(!0);Vf(),qc.current=v,Be=m,yt!==null?o=0:(bt=null,Lt=0,o=It)}if(o!==0){if(o===2&&(m=wn(i),m!==0&&(d=m,o=vp(i,m))),o===1)throw u=Ml,Fs(i,0),Mi(i,d),dn(i,Xe()),u;if(o===6)Mi(i,d);else{if(m=i.current.alternate,!(d&30)&&!ZA(m)&&(o=Zc(i,d),o===2&&(v=wn(i),v!==0&&(d=v,o=vp(i,v))),o===1))throw u=Ml,Fs(i,0),Mi(i,d),dn(i,Xe()),u;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:Us(i,hn,Zr);break;case 3:if(Mi(i,d),(d&130023424)===d&&(o=mp+500-Xe(),10<o)){if(Is(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){rn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=If(Us.bind(null,i,hn,Zr),o);break}Us(i,hn,Zr);break;case 4:if(Mi(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-en(d);v=1<<T,T=o[T],T>m&&(m=T),d&=~v}if(d=m,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*JA(d/1960))-d,10<d){i.timeoutHandle=If(Us.bind(null,i,hn,Zr),d);break}Us(i,hn,Zr);break;case 5:Us(i,hn,Zr);break;default:throw Error(n(329))}}}return dn(i,Xe()),i.callbackNode===u?Dv.bind(null,i):null}function vp(i,o){var u=Ll;return i.current.memoizedState.isDehydrated&&(Fs(i,o).flags|=256),i=Zc(i,o),i!==2&&(o=hn,hn=u,o!==null&&_p(o)),i}function _p(i){hn===null?hn=i:hn.push.apply(hn,i)}function ZA(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!tr(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Mi(i,o){for(o&=~pp,o&=~Kc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-en(o),d=1<<u;i[u]=-1,o&=~d}}function Nv(i){if(Be&6)throw Error(n(327));ta();var o=Is(i,0);if(!(o&1))return dn(i,Xe()),null;var u=Zc(i,o);if(i.tag!==0&&u===2){var d=wn(i);d!==0&&(o=d,u=vp(i,d))}if(u===1)throw u=Ml,Fs(i,0),Mi(i,o),dn(i,Xe()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Us(i,hn,Zr),dn(i,Xe()),null}function wp(i,o){var u=Be;Be|=1;try{return i(o)}finally{Be=u,Be===0&&(ea=Xe()+500,Ac&&xi())}}function js(i){Oi!==null&&Oi.tag===0&&!(Be&6)&&ta();var o=Be;Be|=1;var u=Fn.transition,d=Le;try{if(Fn.transition=null,Le=1,i)return i()}finally{Le=d,Fn.transition=u,Be=o,!(Be&6)&&xi()}}function Ep(){Cn=Zo.current,et(Zo)}function Fs(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,xA(u)),yt!==null)for(u=yt.return;u!==null;){var d=u;switch(kf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ic();break;case 3:Yo(),et(ln),et($t),$f();break;case 5:Bf(d);break;case 4:Yo();break;case 13:et(st);break;case 19:et(st);break;case 10:Mf(d.type._context);break;case 22:case 23:Ep()}u=u.return}if(bt=i,yt=i=Li(i.current,null),Lt=Cn=o,It=0,Ml=null,pp=Kc=Ls=0,hn=Ll=null,Os!==null){for(o=0;o<Os.length;o++)if(u=Os[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,v=u.pending;if(v!==null){var T=v.next;v.next=m,d.next=T}u.pending=d}Os=null}return i}function Ov(i,o){do{var u=yt;try{if(Vf(),Mc.current=Uc,Lc){for(var d=ot.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Lc=!1}if(Ms=0,kt=St=ot=null,kl=!1,bl=0,fp.current=null,u===null||u.return===null){It=1,Ml=o,yt=null;break}e:{var v=i,T=u.return,N=u,L=o;if(o=Lt,N.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=L,ne=N,ie=ne.tag;if(!(ne.mode&1)&&(ie===0||ie===11||ie===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=sv(T);if(ce!==null){ce.flags&=-257,ov(ce,T,N,v,o),ce.mode&1&&iv(v,K,o),o=ce,L=K;var fe=o.updateQueue;if(fe===null){var me=new Set;me.add(L),o.updateQueue=me}else fe.add(L);break e}else{if(!(o&1)){iv(v,K,o),Tp();break e}L=Error(n(426))}}else if(rt&&N.mode&1){var ft=sv(T);if(ft!==null){!(ft.flags&65536)&&(ft.flags|=256),ov(ft,T,N,v,o),Nf(Xo(L,N));break e}}v=L=Xo(L,N),It!==4&&(It=2),Ll===null?Ll=[v]:Ll.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var W=nv(v,L,o);x0(v,W);break e;case 1:N=L;var B=v.type,q=v.stateNode;if(!(v.flags&128)&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ni===null||!Ni.has(q)))){v.flags|=65536,o&=-o,v.lanes|=o;var oe=rv(v,N,o);x0(v,oe);break e}}v=v.return}while(v!==null)}Lv(u)}catch(ge){o=ge,yt===u&&u!==null&&(yt=u=u.return);continue}break}while(!0)}function Vv(){var i=qc.current;return qc.current=Uc,i===null?Uc:i}function Tp(){(It===0||It===3||It===2)&&(It=4),bt===null||!(Ls&268435455)&&!(Kc&268435455)||Mi(bt,Lt)}function Zc(i,o){var u=Be;Be|=2;var d=Vv();(bt!==i||Lt!==o)&&(Zr=null,Fs(i,o));do try{eR();break}catch(m){Ov(i,m)}while(!0);if(Vf(),Be=u,qc.current=d,yt!==null)throw Error(n(261));return bt=null,Lt=0,It}function eR(){for(;yt!==null;)Mv(yt)}function tR(){for(;yt!==null&&!Yu();)Mv(yt)}function Mv(i){var o=Uv(i.alternate,i,Cn);i.memoizedProps=i.pendingProps,o===null?Lv(i):yt=o,fp.current=null}function Lv(i){var o=i;do{var u=o.alternate;if(i=o.return,o.flags&32768){if(u=GA(u,o),u!==null){u.flags&=32767,yt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{It=6,yt=null;return}}else if(u=KA(u,o,Cn),u!==null){yt=u;return}if(o=o.sibling,o!==null){yt=o;return}yt=o=i}while(o!==null);It===0&&(It=5)}function Us(i,o,u){var d=Le,m=Fn.transition;try{Fn.transition=null,Le=1,nR(i,o,u,d)}finally{Fn.transition=m,Le=d}return null}function nR(i,o,u,d){do ta();while(Oi!==null);if(Be&6)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Qe(i,v),i===bt&&(yt=bt=null,Lt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Qc||(Qc=!0,Bv(Dn,function(){return ta(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=Fn.transition,Fn.transition=null;var T=Le;Le=1;var N=Be;Be|=4,fp.current=null,YA(i,u),Rv(u,i),TA(Tf),Si=!!Ef,Tf=Ef=null,i.current=u,XA(u),sf(),Be=N,Le=T,Fn.transition=v}else i.current=u;if(Qc&&(Qc=!1,Oi=i,Yc=m),v=i.pendingLanes,v===0&&(Ni=null),Zu(u.stateNode),dn(i,Xe()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(Gc)throw Gc=!1,i=gp,gp=null,i;return Yc&1&&i.tag!==0&&ta(),v=i.pendingLanes,v&1?i===yp?jl++:(jl=0,yp=i):jl=0,xi(),null}function ta(){if(Oi!==null){var i=Ei(Yc),o=Fn.transition,u=Le;try{if(Fn.transition=null,Le=16>i?16:i,Oi===null)var d=!1;else{if(i=Oi,Oi=null,Yc=0,Be&6)throw Error(n(331));var m=Be;for(Be|=4,de=i.current;de!==null;){var v=de,T=v.child;if(de.flags&16){var N=v.deletions;if(N!==null){for(var L=0;L<N.length;L++){var K=N[L];for(de=K;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:Vl(8,ne,v)}var ie=ne.child;if(ie!==null)ie.return=ne,de=ie;else for(;de!==null;){ne=de;var te=ne.sibling,ce=ne.return;if(Tv(ne),ne===K){de=null;break}if(te!==null){te.return=ce,de=te;break}de=ce}}}var fe=v.alternate;if(fe!==null){var me=fe.child;if(me!==null){fe.child=null;do{var ft=me.sibling;me.sibling=null,me=ft}while(me!==null)}}de=v}}if(v.subtreeFlags&2064&&T!==null)T.return=v,de=T;else e:for(;de!==null;){if(v=de,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Vl(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,de=W;break e}de=v.return}}var B=i.current;for(de=B;de!==null;){T=de;var q=T.child;if(T.subtreeFlags&2064&&q!==null)q.return=T,de=q;else e:for(T=B;de!==null;){if(N=de,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:Wc(9,N)}}catch(ge){ct(N,N.return,ge)}if(N===T){de=null;break e}var oe=N.sibling;if(oe!==null){oe.return=N.return,de=oe;break e}de=N.return}}if(Be=m,xi(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Ss,i)}catch{}d=!0}return d}finally{Le=u,Fn.transition=o}}return!1}function jv(i,o,u){o=Xo(u,o),o=nv(i,o,1),i=bi(i,o,1),o=rn(),i!==null&&(_i(i,1,o),dn(i,o))}function ct(i,o,u){if(i.tag===3)jv(i,i,u);else for(;o!==null;){if(o.tag===3){jv(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ni===null||!Ni.has(d))){i=Xo(u,i),i=rv(o,i,1),o=bi(o,i,1),i=rn(),o!==null&&(_i(o,1,i),dn(o,i));break}}o=o.return}}function rR(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=rn(),i.pingedLanes|=i.suspendedLanes&u,bt===i&&(Lt&u)===u&&(It===4||It===3&&(Lt&130023424)===Lt&&500>Xe()-mp?Fs(i,0):pp|=u),dn(i,o)}function Fv(i,o){o===0&&(i.mode&1?(o=Io,Io<<=1,!(Io&130023424)&&(Io=4194304)):o=1);var u=rn();i=Yr(i,o),i!==null&&(_i(i,o,u),dn(i,u))}function iR(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Fv(i,u)}function sR(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),Fv(i,u)}var Uv;Uv=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||ln.current)cn=!0;else{if(!(i.lanes&u)&&!(o.flags&128))return cn=!1,qA(i,o,u);cn=!!(i.flags&131072)}else cn=!1,rt&&o.flags&1048576&&_0(o,Pc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;$c(i,o),i=o.pendingProps;var m=$o(o,$t.current);Qo(o,u),m=qf(null,o,d,i,m,u);var v=Kf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,un(d)?(v=!0,Cc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ff(o),m.updater=Bc,o.stateNode=m,m._reactInternals=o,Zf(o,d,i,u),o=rp(null,o,d,!0,v,u)):(o.tag=0,rt&&v&&xf(o),nn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch($c(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=aR(d),i=rr(d,i),m){case 0:o=np(null,o,d,i,u);break e;case 1:o=dv(null,o,d,i,u);break e;case 11:o=av(null,o,d,i,u);break e;case 14:o=lv(null,o,d,rr(d.type,i),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:rr(d,m),np(i,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:rr(d,m),dv(i,o,d,m,u);case 3:e:{if(fv(o),i===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,m=v.element,P0(i,o),Oc(o,d,null,u);var T=o.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Xo(Error(n(423)),o),o=pv(i,o,d,u,m);break e}else if(d!==m){m=Xo(Error(n(424)),o),o=pv(i,o,d,u,m);break e}else for(In=Ai(o.stateNode.containerInfo.firstChild),Sn=o,rt=!0,nr=null,u=A0(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(qo(),d===m){o=Jr(i,o,u);break e}nn(i,o,d,u)}o=o.child}return o;case 5:return b0(o),i===null&&Df(o),d=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,T=m.children,Sf(d,m)?T=null:v!==null&&Sf(d,v)&&(o.flags|=32),hv(i,o),nn(i,o,T,u),o.child;case 6:return i===null&&Df(o),null;case 13:return mv(i,o,u);case 4:return Uf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Ko(o,null,d,u):nn(i,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:rr(d,m),av(i,o,d,m,u);case 7:return nn(i,o,o.pendingProps,u),o.child;case 8:return nn(i,o,o.pendingProps.children,u),o.child;case 12:return nn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,Je(bc,d._currentValue),d._currentValue=T,v!==null)if(tr(v.value,T)){if(v.children===m.children&&!ln.current){o=Jr(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var N=v.dependencies;if(N!==null){T=v.child;for(var L=N.firstContext;L!==null;){if(L.context===d){if(v.tag===1){L=Xr(-1,u&-u),L.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?L.next=L:(L.next=ne.next,ne.next=L),K.pending=L}}v.lanes|=u,L=v.alternate,L!==null&&(L.lanes|=u),Lf(v.return,u,o),N.lanes|=u;break}L=L.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=u,N=T.alternate,N!==null&&(N.lanes|=u),Lf(T,u,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}nn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Qo(o,u),m=Ln(m),d=d(m),o.flags|=1,nn(i,o,d,u),o.child;case 14:return d=o.type,m=rr(d,o.pendingProps),m=rr(d.type,m),lv(i,o,d,m,u);case 15:return uv(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:rr(d,m),$c(i,o),o.tag=1,un(d)?(i=!0,Cc(o)):i=!1,Qo(o,u),ev(o,d,m),Zf(o,d,m,u),rp(null,o,d,!0,i,u);case 19:return yv(i,o,u);case 22:return cv(i,o,u)}throw Error(n(156,o.tag))};function Bv(i,o){return To(i,o)}function oR(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(i,o,u,d){return new oR(i,o,u,d)}function Sp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function aR(i){if(typeof i=="function")return Sp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===ye)return 14}return 2}function Li(i,o){var u=i.alternate;return u===null?(u=Un(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function eh(i,o,u,d,m,v){var T=2;if(d=i,typeof i=="function")Sp(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case D:return Bs(u.children,m,v,o);case R:T=8,m|=8;break;case k:return i=Un(12,u,o,m|2),i.elementType=k,i.lanes=v,i;case V:return i=Un(13,u,o,m),i.elementType=V,i.lanes=v,i;case qe:return i=Un(19,u,o,m),i.elementType=qe,i.lanes=v,i;case _e:return th(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:T=10;break e;case U:T=9;break e;case $:T=11;break e;case ye:T=14;break e;case be:T=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Un(T,u,o,m),o.elementType=i,o.type=d,o.lanes=v,o}function Bs(i,o,u,d){return i=Un(7,i,d,o),i.lanes=u,i}function th(i,o,u,d){return i=Un(22,i,d,o),i.elementType=_e,i.lanes=u,i.stateNode={isHidden:!1},i}function Ip(i,o,u){return i=Un(6,i,null,o),i.lanes=u,i}function Cp(i,o,u){return o=Un(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function lR(i,o,u,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vi(0),this.expirationTimes=vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Ap(i,o,u,d,m,v,T,N,L){return i=new lR(i,o,u,N,L),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Un(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ff(v),i}function uR(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function zv(i){if(!i)return Pi;i=i._reactInternals;e:{if(Gn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(un(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(un(u))return g0(i,u,o)}return o}function $v(i,o,u,d,m,v,T,N,L){return i=Ap(u,d,!0,i,m,v,T,N,L),i.context=zv(null),u=i.current,d=rn(),m=Vi(u),v=Xr(d,m),v.callback=o??null,bi(u,v,m),i.current.lanes=m,_i(i,m,d),dn(i,d),i}function nh(i,o,u,d){var m=o.current,v=rn(),T=Vi(m);return u=zv(u),o.context===null?o.context=u:o.pendingContext=u,o=Xr(v,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=bi(m,o,T),i!==null&&(or(i,m,T,v),Nc(i,m,T)),T}function rh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Hv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Rp(i,o){Hv(i,o),(i=i.alternate)&&Hv(i,o)}var Wv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Pp(i){this._internalRoot=i}ih.prototype.render=Pp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));nh(i,o,null,null)},ih.prototype.unmount=Pp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;js(function(){nh(null,i,null,null)}),o[qr]=null}};function ih(i){this._internalRoot=i}ih.prototype.unstable_scheduleHydration=function(i){if(i){var o=ic();i={blockedOn:null,target:i,priority:o};for(var u=0;u<mr.length&&o!==0&&o<mr[u].priority;u++);mr.splice(u,0,i),u===0&&ac(i)}};function xp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function sh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function qv(){}function cR(i,o,u,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var K=rh(T);v.call(K)}}var T=$v(o,d,i,0,null,!1,!1,"",qv);return i._reactRootContainer=T,i[qr]=T.current,Tl(i.nodeType===8?i.parentNode:i),js(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var N=d;d=function(){var K=rh(L);N.call(K)}}var L=Ap(i,0,!1,null,null,!1,!1,"",qv);return i._reactRootContainer=L,i[qr]=L.current,Tl(i.nodeType===8?i.parentNode:i),js(function(){nh(o,L,u,d)}),L}function oh(i,o,u,d,m){var v=u._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var N=m;m=function(){var L=rh(T);N.call(L)}}nh(o,T,i,m)}else T=cR(u,o,i,m,d);return rh(T)}nc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=yi(o.pendingLanes);u!==0&&(wi(o,u|1),dn(o,Xe()),!(Be&6)&&(ea=Xe()+500,xi()))}break;case 13:js(function(){var d=Yr(i,1);if(d!==null){var m=rn();or(d,i,1,m)}}),Rp(i,1)}},Co=function(i){if(i.tag===13){var o=Yr(i,134217728);if(o!==null){var u=rn();or(o,i,134217728,u)}Rp(i,134217728)}},rc=function(i){if(i.tag===13){var o=Vi(i),u=Yr(i,o);if(u!==null){var d=rn();or(u,i,o,d)}Rp(i,o)}},ic=function(){return Le},sc=function(i,o){var u=Le;try{return Le=i,o()}finally{Le=u}},go=function(i,o,u){switch(o){case"input":if(Ka(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var m=Sc(d);if(!m)throw Error(n(90));uo(d),Ka(d,m)}}}break;case"textarea":po(i,u);break;case"select":o=u.value,o!=null&&jr(i,!!u.multiple,o,!1)}},vs=wp,rl=js;var hR={usingClientEntryPoint:!1,Events:[Cl,Bo,Sc,fr,nl,wp]},Fl={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dR={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ol(i),i===null?null:i.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Ss=ah.inject(dR),_n=ah}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hR,fn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xp(o))throw Error(n(200));return uR(i,o,null,u)},fn.createRoot=function(i,o){if(!xp(i))throw Error(n(299));var u=!1,d="",m=Wv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Ap(i,1,!1,null,null,u,!1,d,m),i[qr]=o.current,Tl(i.nodeType===8?i.parentNode:i),new Pp(o)},fn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=ol(o),i=i===null?null:i.stateNode,i},fn.flushSync=function(i){return js(i)},fn.hydrate=function(i,o,u){if(!sh(o))throw Error(n(200));return oh(null,i,o,!0,u)},fn.hydrateRoot=function(i,o,u){if(!xp(i))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,v="",T=Wv;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=$v(o,null,i,1,u??null,m,!1,v,T),i[qr]=o.current,Tl(i),d)for(i=0;i<d.length;i++)u=d[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new ih(o)},fn.render=function(i,o,u){if(!sh(o))throw Error(n(200));return oh(null,i,o,!1,u)},fn.unmountComponentAtNode=function(i){if(!sh(i))throw Error(n(40));return i._reactRootContainer?(js(function(){oh(null,null,i,!1,function(){i._reactRootContainer=null,i[qr]=null})}),!0):!1},fn.unstable_batchedUpdates=wp,fn.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!sh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return oh(i,o,u,!1,d)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var e_;function ER(){if(e_)return Dp.exports;e_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dp.exports=wR(),Dp.exports}var t_;function TR(){if(t_)return lh;t_=1;var t=ER();return lh.createRoot=t.createRoot,lh.hydrateRoot=t.hydrateRoot,lh}var SR=TR();const Js=({height:t,width:e,content:n,margin:r})=>I.jsxs("div",{className:"cmd-cont",style:{margin:r},children:[I.jsxs("div",{className:"screen-header",style:{width:e},children:[I.jsxs("div",{className:"screen-header-left",children:[I.jsx("div",{className:"screen-header-button close"}),I.jsx("div",{className:"screen-header-button maximize"}),I.jsx("div",{className:"screen-header-button minimize"})]}),I.jsxs("div",{className:"screen-header-right",children:[I.jsx("div",{className:"screen-header-ellipsis"}),I.jsx("div",{className:"screen-header-ellipsis"}),I.jsx("div",{className:"screen-header-ellipsis"})]})]}),I.jsx("div",{style:{...IR,height:t,width:e},children:I.jsx("code",{markup:"tt",children:n})})]}),IR={alignItem:"center",padding:"0px 0px 0px 10px",fontFamily:"JetBrains Mono",clear:"both",color:"#fff",background:"#1b1b1b",MozTabSize:2,OTabSize:2,TabSize:2,MsWordBreak:"normal",wordBreak:"normal",WebkitHyphens:"none",MsHyphens:"none",hyphens:"none",position:"relative",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",overflow:"hidden",fontSize:"xx-large"},ug=b.createContext({});function cg(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const yd=b.createContext(null),hg=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class CR extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function AR({children:t,isPresent:e}){const n=b.useId(),r=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=b.useContext(hg);return b.useInsertionEffect(()=>{const{width:l,height:c,top:f,left:p}=s.current;if(e||!r.current||!l||!c)return;r.current.dataset.motionPopId=n;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            top: ${f}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),I.jsx(CR,{isPresent:e,childRef:r,sizeRef:s,children:b.cloneElement(t,{ref:r})})}const RR=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l})=>{const c=cg(PR),f=b.useId(),p=b.useCallback(_=>{c.set(_,!0);for(const w of c.values())if(!w)return;r&&r()},[c,r]),g=b.useMemo(()=>({id:f,initial:e,isPresent:n,custom:s,onExitComplete:p,register:_=>(c.set(_,!1),()=>c.delete(_))}),a?[Math.random(),p]:[n,p]);return b.useMemo(()=>{c.forEach((_,w)=>c.set(w,!1))},[n]),b.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),l==="popLayout"&&(t=I.jsx(AR,{isPresent:n,children:t})),I.jsx(yd.Provider,{value:g,children:t})};function PR(){return new Map}function _1(t=!0){const e=b.useContext(yd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=b.useId();b.useEffect(()=>{t&&s(a)},[t]);const l=b.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const uh=t=>t.key||"";function n_(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const dg=typeof window<"u",w1=dg?b.useLayoutEffect:b.useEffect,xR=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1})=>{const[c,f]=_1(l),p=b.useMemo(()=>n_(t),[t]),g=l&&!c?[]:p.map(uh),_=b.useRef(!0),w=b.useRef(p),S=cg(()=>new Map),[C,x]=b.useState(p),[P,M]=b.useState(p);w1(()=>{_.current=!1,w.current=p;for(let J=0;J<P.length;J++){const G=uh(P[J]);g.includes(G)?S.delete(G):S.get(G)!==!0&&S.set(G,!1)}},[P,g.length,g.join("-")]);const j=[];if(p!==C){let J=[...p];for(let G=0;G<P.length;G++){const ee=P[G],D=uh(ee);g.includes(D)||(J.splice(G,0,ee),j.push(ee))}a==="wait"&&j.length&&(J=j),M(n_(J)),x(p);return}const{forceRender:z}=b.useContext(ug);return I.jsx(I.Fragment,{children:P.map(J=>{const G=uh(J),ee=l&&!c?!1:p===P||g.includes(G),D=()=>{if(S.has(G))S.set(G,!0);else return;let R=!0;S.forEach(k=>{k||(R=!1)}),R&&(z==null||z(),M(w.current),l&&(f==null||f()),r&&r())};return I.jsx(RR,{isPresent:ee,initial:!_.current||n?void 0:!1,custom:ee?void 0:e,presenceAffectsLayout:s,mode:a,onExitComplete:ee?void 0:D,children:J},G)})})},Pn=t=>t;let dm=Pn;const kR={skipAnimations:!1,useManualTiming:!1};function bR(t){let e=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(f.schedule(p),t()),p(l)}const f={schedule:(p,g=!1,_=!1)=>{const S=_&&r?e:n;return g&&a.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(l=p,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,s&&(s=!1,f.process(p))}};return f}const ch=["read","resolveKeyframes","update","preRender","render","postRender"],DR=40;function E1(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=ch.reduce((M,j)=>(M[j]=bR(a),M),{}),{read:c,resolveKeyframes:f,update:p,preRender:g,render:_,postRender:w}=l,S=()=>{const M=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(M-s.timestamp,DR),1),s.timestamp=M,s.isProcessing=!0,c.process(s),f.process(s),p.process(s),g.process(s),_.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},C=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:ch.reduce((M,j)=>{const z=l[j];return M[j]=(J,G=!1,ee=!1)=>(n||C(),z.schedule(J,G,ee)),M},{}),cancel:M=>{for(let j=0;j<ch.length;j++)l[ch[j]].cancel(M)},state:s,steps:l}}const{schedule:tt,cancel:es,state:jt,steps:Vp}=E1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pn,!0),T1=b.createContext({strict:!1}),r_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ya={};for(const t in r_)ya[t]={isEnabled:e=>r_[t].some(n=>!!e[n])};function NR(t){for(const e in t)ya[e]={...ya[e],...t[e]}}const OR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OR.has(t)}let S1=t=>!Bh(t);function VR(t){t&&(S1=e=>e.startsWith("on")?!Bh(e):t(e))}try{VR(require("@emotion/is-prop-valid").default)}catch{}function MR(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(S1(s)||n===!0&&Bh(s)||!e&&!Bh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function LR(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const vd=b.createContext({});function cu(t){return typeof t=="string"||Array.isArray(t)}function _d(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pg=["initial",...fg];function wd(t){return _d(t.animate)||pg.some(e=>cu(t[e]))}function I1(t){return!!(wd(t)||t.variants)}function jR(t,e){if(wd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||cu(n)?n:void 0,animate:cu(r)?r:void 0}}return t.inherit!==!1?e:{}}function FR(t){const{initial:e,animate:n}=jR(t,b.useContext(vd));return b.useMemo(()=>({initial:e,animate:n}),[i_(e),i_(n)])}function i_(t){return Array.isArray(t)?t.join(" "):t}const UR=Symbol.for("motionComponentSymbol");function oa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function BR(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):oa(n)&&(n.current=r))},[e])}const mg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zR="framerAppearId",C1="data-"+mg(zR),{schedule:gg,cancel:Uj}=E1(queueMicrotask,!1),A1=b.createContext({});function $R(t,e,n,r,s){var a,l;const{visualElement:c}=b.useContext(vd),f=b.useContext(T1),p=b.useContext(yd),g=b.useContext(hg).reducedMotion,_=b.useRef(null);r=r||f.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const w=_.current,S=b.useContext(A1);w&&!w.projection&&s&&(w.type==="html"||w.type==="svg")&&HR(_.current,n,s,S);const C=b.useRef(!1);b.useInsertionEffect(()=>{w&&C.current&&w.update(n,p)});const x=n[C1],P=b.useRef(!!x&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,x))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,x)));return w1(()=>{w&&(C.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),gg.render(w.render),P.current&&w.animationState&&w.animationState.animateChanges())}),b.useEffect(()=>{w&&(!P.current&&w.animationState&&w.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)===null||M===void 0||M.call(window,x)}),P.current=!1))}),w}function HR(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:R1(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&oa(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function R1(t){if(t)return t.options.allowProjection!==!1?t.projection:R1(t.parent)}function WR({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,l;t&&NR(t);function c(p,g){let _;const w={...b.useContext(hg),...p,layoutId:qR(p)},{isStatic:S}=w,C=FR(p),x=r(p,S);if(!S&&dg){KR();const P=GR(w);_=P.MeasureLayout,C.visualElement=$R(s,x,w,e,P.ProjectionNode)}return I.jsxs(vd.Provider,{value:C,children:[_&&C.visualElement?I.jsx(_,{visualElement:C.visualElement,...w}):null,n(s,p,BR(x,C.visualElement,g),x,S,C.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const f=b.forwardRef(c);return f[UR]=s,f}function qR({layoutId:t}){const e=b.useContext(ug).id;return e&&t!==void 0?e+"-"+t:t}function KR(t,e){b.useContext(T1).strict}function GR(t){const{drag:e,layout:n}=ya;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const QR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yg(t){return typeof t!="string"||t.includes("-")?!1:!!(QR.indexOf(t)>-1||/[A-Z]/u.test(t))}function s_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function vg(t,e,n,r){if(typeof e=="function"){const[s,a]=s_(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=s_(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const fm=t=>Array.isArray(t),YR=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),XR=t=>fm(t)?t[t.length-1]||0:t,Jt=t=>!!(t&&t.getVelocity);function Sh(t){const e=Jt(t)?t.get():t;return YR(e)?e.toValue():e}function JR({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const l={latestValues:ZR(r,s,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const P1=t=>(e,n)=>{const r=b.useContext(vd),s=b.useContext(yd),a=()=>JR(t,e,r,s);return n?a():cg(a)};function ZR(t,e,n,r){const s={},a=r(t,{});for(const w in a)s[w]=Sh(a[w]);let{initial:l,animate:c}=t;const f=wd(t),p=I1(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?c:l;if(_&&typeof _!="boolean"&&!_d(_)){const w=Array.isArray(_)?_:[_];for(let S=0;S<w.length;S++){const C=vg(t,w[S]);if(C){const{transitionEnd:x,transition:P,...M}=C;for(const j in M){let z=M[j];if(Array.isArray(z)){const J=g?z.length-1:0;z=z[J]}z!==null&&(s[j]=z)}for(const j in x)s[j]=x[j]}}}return s}const Da=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],so=new Set(Da),x1=t=>e=>typeof e=="string"&&e.startsWith(t),k1=x1("--"),eP=x1("var(--"),_g=t=>eP(t)?tP.test(t.split("/*")[0].trim()):!1,tP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,b1=(t,e)=>e&&typeof t=="number"?e.transform(t):t,oi=(t,e,n)=>n>e?e:n<t?t:n,Na={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hu={...Na,transform:t=>oi(0,1,t)},hh={...Na,default:1},Ru=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ui=Ru("deg"),Cr=Ru("%"),Se=Ru("px"),nP=Ru("vh"),rP=Ru("vw"),o_={...Cr,parse:t=>Cr.parse(t)/100,transform:t=>Cr.transform(t*100)},iP={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},sP={rotate:Ui,rotateX:Ui,rotateY:Ui,rotateZ:Ui,scale:hh,scaleX:hh,scaleY:hh,scaleZ:hh,skew:Ui,skewX:Ui,skewY:Ui,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:hu,originX:o_,originY:o_,originZ:Se},a_={...Na,transform:Math.round},wg={...iP,...sP,zIndex:a_,size:Se,fillOpacity:hu,strokeOpacity:hu,numOctaves:a_},oP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aP=Da.length;function lP(t,e,n){let r="",s=!0;for(let a=0;a<aP;a++){const l=Da[a],c=t[l];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(l.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const p=b1(c,wg[l]);if(!f){s=!1;const g=oP[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Eg(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const f in e){const p=e[f];if(so.has(f)){l=!0;continue}else if(k1(f)){s[f]=p;continue}else{const g=b1(p,wg[f]);f.startsWith("origin")?(c=!0,a[f]=g):r[f]=g}}if(e.transform||(l||n?r.transform=lP(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const uP={offset:"stroke-dashoffset",array:"stroke-dasharray"},cP={offset:"strokeDashoffset",array:"strokeDasharray"};function hP(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?uP:cP;t[a.offset]=Se.transform(-r);const l=Se.transform(e),c=Se.transform(n);t[a.array]=`${l} ${c}`}function l_(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function dP(t,e,n){const r=l_(e,t.x,t.width),s=l_(n,t.y,t.height);return`${r} ${s}`}function Tg(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:f=0,...p},g,_){if(Eg(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:S,dimensions:C}=t;w.transform&&(C&&(S.transform=w.transform),delete w.transform),C&&(s!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=dP(C,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),l!==void 0&&hP(w,l,c,f,!1)}const Sg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),D1=()=>({...Sg(),attrs:{}}),Ig=t=>typeof t=="string"&&t.toLowerCase()==="svg";function N1(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const O1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V1(t,e,n,r){N1(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(O1.has(s)?s:mg(s),e.attrs[s])}const zh={};function fP(t){Object.assign(zh,t)}function M1(t,{layout:e,layoutId:n}){return so.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zh[t]||t==="opacity")}function Cg(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(Jt(s[l])||e.style&&Jt(e.style[l])||M1(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function L1(t,e,n){const r=Cg(t,e,n);for(const s in t)if(Jt(t[s])||Jt(e[s])){const a=Da.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}function pP(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const u_=["x","y","width","height","cx","cy","r"],mP={useVisualState:P1({scrapeMotionValuesFromProps:L1,createRenderState:D1,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in s)if(so.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<u_.length;c++){const f=u_[c];t[f]!==e[f]&&(l=!0)}l&&tt.read(()=>{pP(n,r),tt.render(()=>{Tg(r,s,Ig(n.tagName),t.transformTemplate),V1(n,r)})})}})},gP={useVisualState:P1({scrapeMotionValuesFromProps:Cg,createRenderState:Sg})};function j1(t,e,n){for(const r in e)!Jt(e[r])&&!M1(r,n)&&(t[r]=e[r])}function yP({transformTemplate:t},e){return b.useMemo(()=>{const n=Sg();return Eg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function vP(t,e){const n=t.style||{},r={};return j1(r,n,t),Object.assign(r,yP(t,e)),r}function _P(t,e){const n={},r=vP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function wP(t,e,n,r){const s=b.useMemo(()=>{const a=D1();return Tg(a,e,Ig(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};j1(a,t.style,t),s.style={...a,...s.style}}return s}function EP(t=!1){return(n,r,s,{latestValues:a},l)=>{const f=(yg(n)?wP:_P)(r,a,l,n),p=MR(r,typeof n=="string",t),g=n!==b.Fragment?{...p,...f,ref:s}:{},{children:_}=r,w=b.useMemo(()=>Jt(_)?_.get():_,[_]);return b.createElement(n,{...g,children:w})}}function TP(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...yg(r)?mP:gP,preloadedFeatures:t,useRender:EP(s),createVisualElement:e,Component:r};return WR(l)}}function F1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Ed(t,e,n){const r=t.getProps();return vg(r,e,n!==void 0?n:r.custom,t)}function Ag(t,e){return t?t[e]||t.default||t:void 0}const U1=new Set(["width","height","top","left","right","bottom",...Da]);let Ih;function SP(){Ih=void 0}const Ar={now:()=>(Ih===void 0&&Ar.set(jt.isProcessing||kR.useManualTiming?jt.timestamp:performance.now()),Ih),set:t=>{Ih=t,queueMicrotask(SP)}};function Rg(t,e){t.indexOf(e)===-1&&t.push(e)}function Pg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xg{constructor(){this.subscriptions=[]}add(e){return Rg(this.subscriptions,e),()=>Pg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function B1(t,e){return e?t*(1e3/e):0}const c_=30,IP=t=>!isNaN(parseFloat(t));class CP{constructor(e,n={}){this.version="11.18.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Ar.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ar.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=IP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new xg);const r=this.events[e].add(n);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>c_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,c_);return B1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function du(t,e){return new CP(t,e)}function AP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,du(n))}function RP(t,e){const n=Ed(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=XR(a[l]);AP(t,l,c)}}function PP(t){return!!(Jt(t)&&t.add)}function pm(t,e){const n=t.getValue("willChange");if(PP(n))return n.add(e)}function z1(t){return t.props[C1]}function kg(t){let e;return()=>(e===void 0&&(e=t()),e)}const xP=kg(()=>window.ScrollTimeline!==void 0);class kP{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(xP()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class bP extends kP{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}const ri=t=>t*1e3,ii=t=>t/1e3;function bg(t){return typeof t=="function"}function h_(t,e){t.timeline=e,t.onfinish=null}const Dg=t=>Array.isArray(t)&&typeof t[0]=="number",DP={linearEasing:void 0};function NP(t,e){const n=kg(t);return()=>{var r;return(r=DP[e])!==null&&r!==void 0?r:n()}}const $h=NP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),va=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},$1=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(va(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function H1(t){return!!(typeof t=="function"&&$h()||!t||typeof t=="string"&&(t in mm||$h())||Dg(t)||Array.isArray(t)&&t.every(H1))}const Wl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wl([0,.65,.55,1]),circOut:Wl([.55,0,1,.45]),backIn:Wl([.31,.01,.66,-.59]),backOut:Wl([.33,1.53,.69,.99])};function W1(t,e){if(t)return typeof t=="function"&&$h()?$1(t,e):Dg(t)?Wl(t):Array.isArray(t)?t.map(n=>W1(n,e)||mm.easeOut):mm[t]}const q1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OP=1e-7,VP=12;function MP(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=q1(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>OP&&++c<VP);return l}function Pu(t,e,n,r){if(t===e&&n===r)return Pn;const s=a=>MP(a,0,1,t,n);return a=>a===0||a===1?a:q1(s(a),e,r)}const K1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,G1=t=>e=>1-t(1-e),Q1=Pu(.33,1.53,.69,.99),Ng=G1(Q1),Y1=K1(Ng),X1=t=>(t*=2)<1?.5*Ng(t):.5*(2-Math.pow(2,-10*(t-1))),Og=t=>1-Math.sin(Math.acos(t)),J1=G1(Og),Z1=K1(Og),eT=t=>/^0[^.\s]+$/u.test(t);function LP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eT(t):!0}const eu=t=>Math.round(t*1e5)/1e5,Vg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jP(t){return t==null}const FP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mg=(t,e)=>n=>!!(typeof n=="string"&&FP.test(n)&&n.startsWith(t)||e&&!jP(n)&&Object.prototype.hasOwnProperty.call(n,e)),tT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(Vg);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},UP=t=>oi(0,255,t),Mp={...Na,transform:t=>Math.round(UP(t))},Ks={test:Mg("rgb","red"),parse:tT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Mp.transform(t)+", "+Mp.transform(e)+", "+Mp.transform(n)+", "+eu(hu.transform(r))+")"};function BP(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const gm={test:Mg("#"),parse:BP,transform:Ks.transform},aa={test:Mg("hsl","hue"),parse:tT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Cr.transform(eu(e))+", "+Cr.transform(eu(n))+", "+eu(hu.transform(r))+")"},Gt={test:t=>Ks.test(t)||gm.test(t)||aa.test(t),parse:t=>Ks.test(t)?Ks.parse(t):aa.test(t)?aa.parse(t):gm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ks.transform(t):aa.transform(t)},zP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $P(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Vg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(zP))===null||n===void 0?void 0:n.length)||0)>0}const nT="number",rT="color",HP="var",WP="var(",d_="${}",qP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(qP,f=>(Gt.test(f)?(r.color.push(a),s.push(rT),n.push(Gt.parse(f))):f.startsWith(WP)?(r.var.push(a),s.push(HP),n.push(f)):(r.number.push(a),s.push(nT),n.push(parseFloat(f))),++a,d_)).split(d_);return{values:n,split:c,indexes:r,types:s}}function iT(t){return fu(t).values}function sT(t){const{split:e,types:n}=fu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===nT?a+=eu(s[l]):c===rT?a+=Gt.transform(s[l]):a+=s[l]}return a}}const KP=t=>typeof t=="number"?0:t;function GP(t){const e=iT(t);return sT(t)(e.map(KP))}const ts={test:$P,parse:iT,createTransformer:sT,getAnimatableNone:GP},QP=new Set(["brightness","contrast","saturate","opacity"]);function YP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Vg)||[];if(!r)return t;const s=n.replace(r,"");let a=QP.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const XP=/\b([a-z-]*)\(.*?\)/gu,ym={...ts,getAnimatableNone:t=>{const e=t.match(XP);return e?e.map(YP).join(" "):t}},JP={...wg,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:ym,WebkitFilter:ym},Lg=t=>JP[t];function oT(t,e){let n=Lg(t);return n!==ym&&(n=ts),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ZP=new Set(["auto","none","0"]);function ex(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!ZP.has(a)&&fu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=oT(n,s)}const f_=t=>t===Na||t===Se,p_=(t,e)=>parseFloat(t.split(", ")[e]),m_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return p_(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?p_(a[1],t):0}},tx=new Set(["x","y","z"]),nx=Da.filter(t=>!tx.has(t));function rx(t){const e=[];return nx.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const _a={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:m_(4,13),y:m_(5,14)};_a.translateX=_a.x;_a.translateY=_a.y;const Ys=new Set;let vm=!1,_m=!1;function aT(){if(_m){const t=Array.from(Ys).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=rx(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_m=!1,vm=!1,Ys.forEach(t=>t.complete()),Ys.clear()}function lT(){Ys.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_m=!0)})}function ix(){lT(),aT()}class jg{constructor(e,n,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ys.add(this),vm||(vm=!0,tt.read(lT),tt.resolveKeyframes(aT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s==null?void 0:s.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const f=r.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ys.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ys.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const uT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),sx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ox(t){const e=sx.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function cT(t,e,n=1){const[r,s]=ox(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return uT(l)?parseFloat(l):l}return _g(s)?cT(s,e,n+1):s}const hT=t=>e=>e.test(t),ax={test:t=>t==="auto",parse:t=>t},dT=[Na,Se,Cr,Ui,rP,nP,ax],g_=t=>dT.find(hT(t));class fT extends jg{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),_g(p))){const g=cT(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!U1.has(r)||e.length!==2)return;const[s,a]=e,l=g_(s),c=g_(a);if(l!==c)if(f_(l)&&f_(c))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)LP(e[s])&&r.push(s);r.length&&ex(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_a[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=_a[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const y_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ts.test(t)||t==="0")&&!t.startsWith("url("));function lx(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ux(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=y_(s,e),c=y_(a,e);return!l||!c?!1:lx(t)||(n==="spring"||bg(n))&&r}const cx=t=>t!==null;function Td(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(cx),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const hx=40;class pT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ar.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>hx?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ix(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ar.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:c,onUpdate:f,isGenerator:p}=this.options;if(!p&&!ux(e,r,s,a))if(l)this.options.duration=0;else{f==null||f(Td(e,this.options,n)),c==null||c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const wm=2e4;function mT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wm;)e+=n,r=t.next(e);return e>=wm?1/0:e}const at=(t,e,n)=>t+(e-t)*n;function Lp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dx({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,f=2*n-c;s=Lp(f,c,t+1/3),a=Lp(f,c,t),l=Lp(f,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Hh(t,e){return n=>n>0?e:t}const jp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},fx=[gm,Ks,aa],px=t=>fx.find(e=>e.test(t));function v_(t){const e=px(t);if(!e)return!1;let n=e.parse(t);return e===aa&&(n=dx(n)),n}const __=(t,e)=>{const n=v_(t),r=v_(e);if(!n||!r)return Hh(t,e);const s={...n};return a=>(s.red=jp(n.red,r.red,a),s.green=jp(n.green,r.green,a),s.blue=jp(n.blue,r.blue,a),s.alpha=at(n.alpha,r.alpha,a),Ks.transform(s))},mx=(t,e)=>n=>e(t(n)),xu=(...t)=>t.reduce(mx),Em=new Set(["none","hidden"]);function gx(t,e){return Em.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function yx(t,e){return n=>at(t,e,n)}function Fg(t){return typeof t=="number"?yx:typeof t=="string"?_g(t)?Hh:Gt.test(t)?__:wx:Array.isArray(t)?gT:typeof t=="object"?Gt.test(t)?__:vx:Hh}function gT(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Fg(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function vx(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Fg(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function _x(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=f,s[l]++}return r}const wx=(t,e)=>{const n=ts.createTransformer(e),r=fu(t),s=fu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Em.has(t)&&!s.values.length||Em.has(e)&&!r.values.length?gx(t,e):xu(gT(_x(r,s),s.values),n):Hh(t,e)};function yT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?at(t,e,n):Fg(t)(t,e)}const Ex=5;function vT(t,e,n){const r=Math.max(e-Ex,0);return B1(n-t(r),e-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},w_=.001;function Tx({duration:t=ht.duration,bounce:e=ht.bounce,velocity:n=ht.velocity,mass:r=ht.mass}){let s,a,l=1-e;l=oi(ht.minDamping,ht.maxDamping,l),t=oi(ht.minDuration,ht.maxDuration,ii(t)),l<1?(s=p=>{const g=p*l,_=g*t,w=g-n,S=Tm(p,l),C=Math.exp(-_);return w_-w/S*C},a=p=>{const _=p*l*t,w=_*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,C=Math.exp(-_),x=Tm(Math.pow(p,2),l);return(-s(p)+w_>0?-1:1)*((w-S)*C)/x}):(s=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const c=5/t,f=Ix(s,a,c);if(t=ri(t),isNaN(f))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const Sx=12;function Ix(t,e,n){let r=n;for(let s=1;s<Sx;s++)r=r-t(r)/e(r);return r}function Tm(t,e){return t*Math.sqrt(1-e*e)}const Cx=["duration","bounce"],Ax=["stiffness","damping","mass"];function E_(t,e){return e.some(n=>t[n]!==void 0)}function Rx(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!E_(t,Ax)&&E_(t,Cx))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*oi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ht.mass,stiffness:s,damping:a}}else{const n=Tx(t);e={...e,...n,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function $n(t=ht.visualDuration,e=ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:w,isResolvedFromDuration:S}=Rx({...n,velocity:-ii(n.velocity||0)}),C=w||0,x=p/(2*Math.sqrt(f*g)),P=l-a,M=ii(Math.sqrt(f/g)),j=Math.abs(P)<5;r||(r=j?ht.restSpeed.granular:ht.restSpeed.default),s||(s=j?ht.restDelta.granular:ht.restDelta.default);let z;if(x<1){const G=Tm(M,x);z=ee=>{const D=Math.exp(-x*M*ee);return l-D*((C+x*M*P)/G*Math.sin(G*ee)+P*Math.cos(G*ee))}}else if(x===1)z=G=>l-Math.exp(-M*G)*(P+(C+M*P)*G);else{const G=M*Math.sqrt(x*x-1);z=ee=>{const D=Math.exp(-x*M*ee),R=Math.min(G*ee,300);return l-D*((C+x*M*P)*Math.sinh(R)+G*P*Math.cosh(R))/G}}const J={calculatedDuration:S&&_||null,next:G=>{const ee=z(G);if(S)c.done=G>=_;else{let D=0;x<1&&(D=G===0?ri(C):vT(z,G,ee));const R=Math.abs(D)<=r,k=Math.abs(l-ee)<=s;c.done=R&&k}return c.value=c.done?l:ee,c},toString:()=>{const G=Math.min(mT(J),wm),ee=$1(D=>J.next(G*D).value,G,30);return G+"ms "+ee}};return J}function T_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:f,restDelta:p=.5,restSpeed:g}){const _=t[0],w={done:!1,value:_},S=R=>c!==void 0&&R<c||f!==void 0&&R>f,C=R=>c===void 0?f:f===void 0||Math.abs(c-R)<Math.abs(f-R)?c:f;let x=n*e;const P=_+x,M=l===void 0?P:l(P);M!==P&&(x=M-_);const j=R=>-x*Math.exp(-R/r),z=R=>M+j(R),J=R=>{const k=j(R),O=z(R);w.done=Math.abs(k)<=p,w.value=w.done?M:O};let G,ee;const D=R=>{S(w.value)&&(G=R,ee=$n({keyframes:[w.value,C(w.value)],velocity:vT(z,R,w.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:R=>{let k=!1;return!ee&&G===void 0&&(k=!0,J(R),D(R)),G!==void 0&&R>=G?ee.next(R-G):(!k&&J(R),w)}}}const Px=Pu(.42,0,1,1),xx=Pu(0,0,.58,1),_T=Pu(.42,0,.58,1),kx=t=>Array.isArray(t)&&typeof t[0]!="number",S_={linear:Pn,easeIn:Px,easeInOut:_T,easeOut:xx,circIn:Og,circInOut:Z1,circOut:J1,backIn:Ng,backInOut:Y1,backOut:Q1,anticipate:X1},I_=t=>{if(Dg(t)){dm(t.length===4);const[e,n,r,s]=t;return Pu(e,n,r,s)}else if(typeof t=="string")return dm(S_[t]!==void 0),S_[t];return t};function bx(t,e,n){const r=[],s=n||yT,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Pn:e;c=xu(f,c)}r.push(c)}return r}function Dx(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(dm(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=bx(e,r,s),f=c.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const w=va(t[_],t[_+1],g);return c[_](w)};return n?g=>p(oi(t[0],t[a-1],g)):p}function Nx(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=va(0,e,r);t.push(at(n,1,s))}}function Ox(t){const e=[0];return Nx(e,t.length-1),e}function Vx(t,e){return t.map(n=>n*e)}function Mx(t,e){return t.map(()=>e||_T).splice(0,t.length-1)}function Wh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=kx(r)?r.map(I_):I_(r),a={done:!1,value:e[0]},l=Vx(n&&n.length===e.length?n:Ox(e),t),c=Dx(l,e,{ease:Array.isArray(s)?s:Mx(e,s)});return{calculatedDuration:t,next:f=>(a.value=c(f),a.done=f>=t,a)}}const Lx=t=>{const e=({timestamp:n})=>t(n);return{start:()=>tt.update(e,!0),stop:()=>es(e),now:()=>jt.isProcessing?jt.timestamp:Ar.now()}},jx={decay:T_,inertia:T_,tween:Wh,keyframes:Wh,spring:$n},Fx=t=>t/100;class Ug extends pT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||jg,c=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new l(a,c,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=bg(n)?n:jx[n]||Wh;let f,p;c!==Wh&&typeof e[0]!="number"&&(f=xu(Fx,yT(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=mT(g));const{calculatedDuration:_}=g,w=_+s,S=w*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:w,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:w,repeat:S,repeatType:C,repeatDelay:x,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const M=this.currentTime-w*(this.speed>=0?1:-1),j=this.speed>=0?M<0:M>g;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let z=this.currentTime,J=a;if(S){const R=Math.min(this.currentTime,g)/_;let k=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&k--,k=Math.min(k,S+1),!!(k%2)&&(C==="reverse"?(O=1-O,x&&(O-=x/_)):C==="mirror"&&(J=l)),z=oi(0,1,O)*_}const G=j?{done:!1,value:f[0]}:J.next(z);c&&(G.value=c(G.value));let{done:ee}=G;!j&&p!==null&&(ee=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ee);return D&&s!==void 0&&(G.value=Td(f,this.options,s)),P&&P(G.value),D&&this.finish(),G}get duration(){const{resolved:e}=this;return e?ii(e.calculatedDuration):0}get time(){return ii(this.currentTime)}set time(e){e=ri(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Lx,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Ux=new Set(["opacity","clipPath","filter","transform"]);function Bx(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=W1(c,s);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const zx=kg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qh=10,$x=2e4;function Hx(t){return bg(t.type)||t.type==="spring"||!H1(t.ease)}function Wx(t,e){const n=new Ug({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<$x;)r=n.sample(a),s.push(r.value),a+=qh;return{times:void 0,keyframes:s,duration:a-qh,ease:"linear"}}const wT={anticipate:X1,backInOut:Y1,circInOut:Z1};function qx(t){return t in wT}class C_ extends pT{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new fT(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:a,ease:l,type:c,motionValue:f,name:p,startTime:g}=this.options;if(!(!((r=f.owner)===null||r===void 0)&&r.current))return!1;if(typeof l=="string"&&$h()&&qx(l)&&(l=wT[l]),Hx(this.options)){const{onComplete:w,onUpdate:S,motionValue:C,element:x,...P}=this.options,M=Wx(e,P);e=M.keyframes,e.length===1&&(e[1]=e[0]),s=M.duration,a=M.times,l=M.ease,c="keyframes"}const _=Bx(f.owner.current,p,e,{...this.options,duration:s,times:a,ease:l});return _.startTime=g??this.calcStartTime(),this.pendingTimeline?(h_(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:w}=this.options;f.set(Td(e,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:s,times:a,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ii(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ii(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ri(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Pn;const{animation:r}=n;h_(r,e)}return Pn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:w,...S}=this.options,C=new Ug({...S,keyframes:r,duration:s,type:a,ease:l,times:c,isGenerator:!0}),x=ri(this.time);p.setWithVelocity(C.sample(x-qh).value,C.sample(x).value,qh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:c}=e;return zx()&&r&&Ux.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const Kx={type:"spring",stiffness:500,damping:25,restSpeed:10},Gx=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Qx={type:"keyframes",duration:.8},Yx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xx=(t,{keyframes:e})=>e.length>2?Qx:so.has(t)?t.startsWith("scale")?Gx(e[1]):Kx:Yx;function Jx({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Bg=(t,e,n,r={},s,a)=>l=>{const c=Ag(r,t)||{},f=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ri(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};Jx(c)||(g={...g,...Xx(t,g)}),g.duration&&(g.duration=ri(g.duration)),g.repeatDelay&&(g.repeatDelay=ri(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const w=Td(g.keyframes,c);if(w!==void 0)return tt.update(()=>{g.onUpdate(w),g.onComplete()}),new bP([])}return!a&&C_.supports(g)?new C_(g):new Ug(g)};function Zx({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ET(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;r&&(l=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const _ in f){const w=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),S=f[_];if(S===void 0||g&&Zx(g,_))continue;const C={delay:n,...Ag(l||{},_)};let x=!1;if(window.MotionHandoffAnimation){const M=z1(t);if(M){const j=window.MotionHandoffAnimation(M,_,tt);j!==null&&(C.startTime=j,x=!0)}}pm(t,_),w.start(Bg(_,w,S,t.shouldReduceMotion&&U1.has(_)?{type:!1}:C,t,x));const P=w.animation;P&&p.push(P)}return c&&Promise.all(p).then(()=>{tt.update(()=>{c&&RP(t,c)})}),p}function Sm(t,e,n={}){var r;const s=Ed(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(ET(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:w}=a;return e2(t,e,g+p,_,w,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function e2(t,e,n=0,r=0,s=1,a){const l=[],c=(t.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(t2).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Sm(p,e,{...a,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function t2(t,e){return t.sortNodePosition(e)}function n2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Sm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Sm(t,e,n);else{const s=typeof e=="function"?Ed(t,e,n.custom):e;r=Promise.all(ET(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const r2=pg.length;function TT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?TT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<r2;n++){const r=pg[n],s=t.props[r];(cu(s)||s===!1)&&(e[r]=s)}return e}const i2=[...fg].reverse(),s2=fg.length;function o2(t){return e=>Promise.all(e.map(({animation:n,options:r})=>n2(t,n,r)))}function a2(t){let e=o2(t),n=A_(),r=!0;const s=f=>(p,g)=>{var _;const w=Ed(t,g,f==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(w){const{transition:S,transitionEnd:C,...x}=w;p={...p,...x,...C}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,g=TT(t.parent)||{},_=[],w=new Set;let S={},C=1/0;for(let P=0;P<s2;P++){const M=i2[P],j=n[M],z=p[M]!==void 0?p[M]:g[M],J=cu(z),G=M===f?j.isActive:null;G===!1&&(C=P);let ee=z===g[M]&&z!==p[M]&&J;if(ee&&r&&t.manuallyAnimateOnMount&&(ee=!1),j.protectedKeys={...S},!j.isActive&&G===null||!z&&!j.prevProp||_d(z)||typeof z=="boolean")continue;const D=l2(j.prevProp,z);let R=D||M===f&&j.isActive&&!ee&&J||P>C&&J,k=!1;const O=Array.isArray(z)?z:[z];let U=O.reduce(s(M),{});G===!1&&(U={});const{prevResolvedValues:$={}}=j,V={...$,...U},qe=_e=>{R=!0,w.has(_e)&&(k=!0,w.delete(_e)),j.needsAnimating[_e]=!0;const se=t.getValue(_e);se&&(se.liveStyle=!1)};for(const _e in V){const se=U[_e],pe=$[_e];if(S.hasOwnProperty(_e))continue;let le=!1;fm(se)&&fm(pe)?le=!F1(se,pe):le=se!==pe,le?se!=null?qe(_e):w.add(_e):se!==void 0&&w.has(_e)?qe(_e):j.protectedKeys[_e]=!0}j.prevProp=z,j.prevResolvedValues=U,j.isActive&&(S={...S,...U}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(ee&&D)||k)&&_.push(...O.map(_e=>({animation:_e,options:{type:M}})))}if(w.size){const P={};w.forEach(M=>{const j=t.getBaseTarget(M),z=t.getValue(M);z&&(z.liveStyle=!0),P[M]=j??null}),_.push({animation:P})}let x=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(_):Promise.resolve()}function c(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(w=>{var S;return(S=w.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),n[f].isActive=p;const _=l(f);for(const w in n)n[w].protectedKeys={};return _}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=A_(),r=!0}}}function l2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!F1(e,t):!1}function zs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function A_(){return{animate:zs(!0),whileInView:zs(),whileHover:zs(),whileTap:zs(),whileDrag:zs(),whileFocus:zs(),exit:zs()}}class us{constructor(e){this.isMounted=!1,this.node=e}update(){}}class u2 extends us{constructor(e){super(e),e.animationState||(e.animationState=a2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_d(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let c2=0;class h2 extends us{constructor(){super(...arguments),this.id=c2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const d2={animation:{Feature:u2},exit:{Feature:h2}},lr={x:!1,y:!1};function ST(){return lr.x||lr.y}function f2(t){return t==="x"||t==="y"?lr[t]?null:(lr[t]=!0,()=>{lr[t]=!1}):lr.x||lr.y?null:(lr.x=lr.y=!0,()=>{lr.x=lr.y=!1})}const zg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function pu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ku(t){return{point:{x:t.pageX,y:t.pageY}}}const p2=t=>e=>zg(e)&&t(e,ku(e));function tu(t,e,n,r){return pu(t,e,p2(n),r)}const R_=(t,e)=>Math.abs(t-e);function m2(t,e){const n=R_(t.x,e.x),r=R_(t.y,e.y);return Math.sqrt(n**2+r**2)}class IT{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Up(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=m2(_.offset,{x:0,y:0})>=3;if(!w&&!S)return;const{point:C}=_,{timestamp:x}=jt;this.history.push({...C,timestamp:x});const{onStart:P,onMove:M}=this.handlers;w||(P&&P(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,_)},this.handlePointerMove=(_,w)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Fp(w,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(_,w)=>{this.end();const{onEnd:S,onSessionEnd:C,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Up(_.type==="pointercancel"?this.lastMoveEventInfo:Fp(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,P),C&&C(_,P)},!zg(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=ku(e),c=Fp(l,this.transformPagePoint),{point:f}=c,{timestamp:p}=jt;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Up(c,this.history)),this.removeListeners=xu(tu(this.contextWindow,"pointermove",this.handlePointerMove),tu(this.contextWindow,"pointerup",this.handlePointerUp),tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),es(this.updatePoint)}}function Fp(t,e){return e?{point:e(t.point)}:t}function P_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Up({point:t},e){return{point:t,delta:P_(t,CT(e)),offset:P_(t,g2(e)),velocity:y2(e,.1)}}function g2(t){return t[0]}function CT(t){return t[t.length-1]}function y2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=CT(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ri(e)));)n--;if(!r)return{x:0,y:0};const a=ii(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const AT=1e-4,v2=1-AT,_2=1+AT,RT=.01,w2=0-RT,E2=0+RT;function kn(t){return t.max-t.min}function T2(t,e,n){return Math.abs(t-e)<=n}function x_(t,e,n,r=.5){t.origin=r,t.originPoint=at(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(t.scale>=v2&&t.scale<=_2||isNaN(t.scale))&&(t.scale=1),(t.translate>=w2&&t.translate<=E2||isNaN(t.translate))&&(t.translate=0)}function nu(t,e,n,r){x_(t.x,e.x,n.x,r?r.originX:void 0),x_(t.y,e.y,n.y,r?r.originY:void 0)}function k_(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function S2(t,e,n){k_(t.x,e.x,n.x),k_(t.y,e.y,n.y)}function b_(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function ru(t,e,n){b_(t.x,e.x,n.x),b_(t.y,e.y,n.y)}function I2(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?at(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?at(n,t,r.max):Math.min(t,n)),t}function D_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function C2(t,{top:e,left:n,bottom:r,right:s}){return{x:D_(t.x,n,s),y:D_(t.y,e,r)}}function N_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function A2(t,e){return{x:N_(t.x,e.x),y:N_(t.y,e.y)}}function R2(t,e){let n=.5;const r=kn(t),s=kn(e);return s>r?n=va(e.min,e.max-r,t.min):r>s&&(n=va(t.min,t.max-s,e.min)),oi(0,1,n)}function P2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Im=.35;function x2(t=Im){return t===!1?t=0:t===!0&&(t=Im),{x:O_(t,"left","right"),y:O_(t,"top","bottom")}}function O_(t,e,n){return{min:V_(t,e),max:V_(t,n)}}function V_(t,e){return typeof t=="number"?t:t[e]||0}const M_=()=>({translate:0,scale:1,origin:0,originPoint:0}),la=()=>({x:M_(),y:M_()}),L_=()=>({min:0,max:0}),pt=()=>({x:L_(),y:L_()});function zn(t){return[t("x"),t("y")]}function PT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function k2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function b2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bp(t){return t===void 0||t===1}function Cm({scale:t,scaleX:e,scaleY:n}){return!Bp(t)||!Bp(e)||!Bp(n)}function $s(t){return Cm(t)||xT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xT(t){return j_(t.x)||j_(t.y)}function j_(t){return t&&t!=="0%"}function Kh(t,e,n){const r=t-n,s=e*r;return n+s}function F_(t,e,n,r,s){return s!==void 0&&(t=Kh(t,s,r)),Kh(t,n,r)+e}function Am(t,e=0,n=1,r,s){t.min=F_(t.min,e,n,r,s),t.max=F_(t.max,e,n,r,s)}function kT(t,{x:e,y:n}){Am(t.x,e.translate,e.scale,e.originPoint),Am(t.y,n.translate,n.scale,n.originPoint)}const U_=.999999999999,B_=1.0000000000001;function D2(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ca(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,kT(t,l)),r&&$s(a.latestValues)&&ca(t,a.latestValues))}e.x<B_&&e.x>U_&&(e.x=1),e.y<B_&&e.y>U_&&(e.y=1)}function ua(t,e){t.min=t.min+e,t.max=t.max+e}function z_(t,e,n,r,s=.5){const a=at(t.min,t.max,s);Am(t,e,n,a,r)}function ca(t,e){z_(t.x,e.x,e.scaleX,e.scale,e.originX),z_(t.y,e.y,e.scaleY,e.scale,e.originY)}function bT(t,e){return PT(b2(t.getBoundingClientRect(),e))}function N2(t,e,n){const r=bT(t,n),{scroll:s}=e;return s&&(ua(r.x,s.offset.x),ua(r.y,s.offset.y)),r}const DT=({current:t})=>t?t.ownerDocument.defaultView:null,O2=new WeakMap;class V2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ku(g).point)},a=(g,_)=>{const{drag:w,dragPropagation:S,onDragStart:C}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=f2(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(P=>{let M=this.getAxisMotionValue(P).get()||0;if(Cr.test(M)){const{projection:j}=this.visualElement;if(j&&j.layout){const z=j.layout.layoutBox[P];z&&(M=kn(z)*(parseFloat(M)/100))}}this.originPoint[P]=M}),C&&tt.postRender(()=>C(g,_)),pm(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:C,onDrag:x}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:P}=_;if(S&&this.currentDirection===null){this.currentDirection=M2(P),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,P),this.updateAxis("y",_.point,P),this.visualElement.render(),x&&x(g,_)},c=(g,_)=>this.stop(g,_),f=()=>zn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new IT(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:DT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&tt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!dh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=I2(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&oa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=C2(s.layoutBox,n):this.constraints=!1,this.elastic=x2(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=P2(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!oa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=N2(r,s.root,this.visualElement.getTransformPagePoint());let l=A2(s.layout.layoutBox,a);if(n){const c=n(k2(l));this.hasMutatedConstraints=!!c,c&&(l=PT(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},p=zn(g=>{if(!dh(g,n,this.currentDirection))return;let _=f[g]||{};l&&(_={min:0,max:0});const w=s?200:1e6,S=s?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,C)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return pm(this.visualElement,e),r.start(Bg(e,r,0,n,this.visualElement,!1))}stopAnimation(){zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zn(n=>{const{drag:r}=this.getProps();if(!dh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-at(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!oa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const f=c.get();s[l]=R2({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zn(l=>{if(!dh(l,e,null))return;const c=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];c.set(at(f,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;O2.set(this.visualElement,this);const e=this.visualElement.current,n=tu(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();oa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),tt.read(r);const l=pu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(zn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Im,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function dh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function M2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class L2 extends us{constructor(e){super(e),this.removeGroupControls=Pn,this.removeListeners=Pn,this.controls=new V2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pn}unmount(){this.removeGroupControls(),this.removeListeners()}}const $_=t=>(e,n)=>{t&&tt.postRender(()=>t(e,n))};class j2 extends us{constructor(){super(...arguments),this.removePointerDownListener=Pn}onPointerDown(e){this.session=new IT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:$_(e),onStart:$_(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&tt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ch={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function H_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=H_(t,e.target.x),r=H_(t,e.target.y);return`${n}% ${r}%`}},F2={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ts.parse(t);if(s.length>5)return r;const a=ts.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=f;const p=at(c,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class U2 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;fP(B2),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ch.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||tt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NT(t){const[e,n]=_1(),r=b.useContext(ug);return I.jsx(U2,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(A1),isPresent:e,safeToRemove:n})}const B2={borderRadius:{...Bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bl,borderTopRightRadius:Bl,borderBottomLeftRadius:Bl,borderBottomRightRadius:Bl,boxShadow:F2};function z2(t,e,n){const r=Jt(t)?t:du(t);return r.start(Bg("",r,e,n)),r.animation}function $2(t){return t instanceof SVGElement&&t.tagName!=="svg"}const H2=(t,e)=>t.depth-e.depth;class W2{constructor(){this.children=[],this.isDirty=!1}add(e){Rg(this.children,e),this.isDirty=!0}remove(e){Pg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(H2),this.isDirty=!1,this.children.forEach(e)}}function q2(t,e){const n=Ar.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(es(r),t(a-e))};return tt.read(r,!0),()=>es(r)}const OT=["TopLeft","TopRight","BottomLeft","BottomRight"],K2=OT.length,W_=t=>typeof t=="string"?parseFloat(t):t,q_=t=>typeof t=="number"||Se.test(t);function G2(t,e,n,r,s,a){s?(t.opacity=at(0,n.opacity!==void 0?n.opacity:1,Q2(r)),t.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,Y2(r))):a&&(t.opacity=at(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<K2;l++){const c=`border${OT[l]}Radius`;let f=K_(e,c),p=K_(n,c);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||q_(f)===q_(p)?(t[c]=Math.max(at(W_(f),W_(p),r),0),(Cr.test(p)||Cr.test(f))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,r))}function K_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Q2=VT(0,.5,J1),Y2=VT(.5,.95,Pn);function VT(t,e,n){return r=>r<t?0:r>e?1:n(va(t,e,r))}function G_(t,e){t.min=e.min,t.max=e.max}function Bn(t,e){G_(t.x,e.x),G_(t.y,e.y)}function Q_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Y_(t,e,n,r,s){return t-=e,t=Kh(t,1/n,r),s!==void 0&&(t=Kh(t,1/s,r)),t}function X2(t,e=0,n=1,r=.5,s,a=t,l=t){if(Cr.test(e)&&(e=parseFloat(e),e=at(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=at(a.min,a.max,r);t===a&&(c-=e),t.min=Y_(t.min,e,n,c,s),t.max=Y_(t.max,e,n,c,s)}function X_(t,e,[n,r,s],a,l){X2(t,e[n],e[r],e[s],e.scale,a,l)}const J2=["x","scaleX","originX"],Z2=["y","scaleY","originY"];function J_(t,e,n,r){X_(t.x,e,J2,n?n.x:void 0,r?r.x:void 0),X_(t.y,e,Z2,n?n.y:void 0,r?r.y:void 0)}function Z_(t){return t.translate===0&&t.scale===1}function MT(t){return Z_(t.x)&&Z_(t.y)}function ew(t,e){return t.min===e.min&&t.max===e.max}function ek(t,e){return ew(t.x,e.x)&&ew(t.y,e.y)}function tw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function LT(t,e){return tw(t.x,e.x)&&tw(t.y,e.y)}function nw(t){return kn(t.x)/kn(t.y)}function rw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class tk{constructor(){this.members=[]}add(e){Rg(this.members,e),e.scheduleRender()}remove(e){if(Pg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nk(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:w,skewX:S,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),w&&(r+=`rotateY(${w}deg) `),S&&(r+=`skewX(${S}deg) `),C&&(r+=`skewY(${C}deg) `)}const c=t.x.scale*e.x,f=t.y.scale*e.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}const Hs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ql=typeof window<"u"&&window.MotionDebug!==void 0,zp=["","X","Y","Z"],rk={visibility:"hidden"},iw=1e3;let ik=0;function $p(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function jT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=z1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tt,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&jT(r)}function FT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=ik++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ql&&(Hs.totalNodes=Hs.resolvedTargetDeltas=Hs.recalculatedProjection=0),this.nodes.forEach(ak),this.nodes.forEach(dk),this.nodes.forEach(fk),this.nodes.forEach(lk),ql&&window.MotionDebug.record(Hs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new W2)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new xg),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const f=this.eventHandlers.get(l);f&&f.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$2(l),this.instance=l;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||f)&&(this.isLayoutDirty=!0),t){let _;const w=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=q2(w,250),Ch.hasAnimatedSinceResize&&(Ch.hasAnimatedSinceResize=!1,this.nodes.forEach(ow))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:w,hasRelativeTargetChanged:S,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||g.getDefaultTransition()||vk,{onLayoutAnimationStart:P,onLayoutAnimationComplete:M}=g.getProps(),j=!this.targetLayout||!LT(this.targetLayout,C)||S,z=!w&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||z||w&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,z);const J={...Ag(x,"layout"),onPlay:P,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J)}else w||ow(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pk),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sw);return}this.isUpdating||this.nodes.forEach(ck),this.isUpdating=!1,this.nodes.forEach(hk),this.nodes.forEach(sk),this.nodes.forEach(ok),this.clearAllSnapshots();const c=Ar.now();jt.delta=oi(0,1e3/60,c-jt.timestamp),jt.timestamp=c,jt.isProcessing=!0,Vp.update.process(jt),Vp.preRender.process(jt),Vp.render.process(jt),jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uk),this.sharedNodes.forEach(mk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!MT(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||$s(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return l&&(f=this.removeTransform(f)),_k(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return pt();const f=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(wk))){const{scroll:g}=this.root;g&&(ua(f.x,g.offset.x),ua(f.y,g.offset.y))}return f}removeElementScroll(l){var c;const f=pt();if(Bn(f,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:w}=g;g!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&Bn(f,l),ua(f.x,_.offset.x),ua(f.y,_.offset.y))}return f}applyTransform(l,c=!1){const f=pt();Bn(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ca(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),$s(g.latestValues)&&ca(f,g.latestValues)}return $s(this.latestValues)&&ca(f,this.latestValues),f}removeTransform(l){const c=pt();Bn(c,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!$s(p.latestValues))continue;Cm(p.latestValues)&&p.updateSnapshot();const g=pt(),_=p.measurePageBox();Bn(g,_),J_(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return $s(this.latestValues)&&J_(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:w}=this.options;if(!(!this.layout||!(_||w))){if(this.resolvedRelativeTargetAt=jt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),ru(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),S2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),kT(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),ru(this.relativeTargetOrigin,this.target,S.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ql&&Hs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cm(this.parent.latestValues)||xT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===jt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Bn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,S=this.treeScale.y;D2(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=pt());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Q_(this.prevProjectionDelta.x,this.projectionDelta.x),Q_(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==S||!rw(this.projectionDelta.x,this.prevProjectionDelta.x)||!rw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),ql&&Hs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=la(),this.projectionDelta=la(),this.projectionDeltaWithTransform=la()}setAnimationOrigin(l,c=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=la();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=pt(),S=f?f.source:void 0,C=this.layout?this.layout.source:void 0,x=S!==C,P=this.getStack(),M=!P||P.members.length<=1,j=!!(x&&!M&&this.options.crossfade===!0&&!this.path.some(yk));this.animationProgress=0;let z;this.mixTargetDelta=J=>{const G=J/1e3;aw(_.x,l.x,G),aw(_.y,l.y,G),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ru(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gk(this.relativeTarget,this.relativeTargetOrigin,w,G),z&&ek(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=pt()),Bn(z,this.relativeTarget)),x&&(this.animationValues=g,G2(g,p,this.latestValues,G,j,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Ch.hasAnimatedSinceResize=!0,this.currentAnimation=z2(0,iw,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:f,layout:p,latestValues:g}=l;if(!(!c||!f||!p)){if(this!==l&&this.layout&&p&&UT(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||pt();const _=kn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const w=kn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+w}Bn(c,f),ca(c,g),nu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new tk),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const p={};f.z&&$p("z",l,p,this.animationValues);for(let g=0;g<zp.length;g++)$p(`rotate${zp[g]}`,l,p,this.animationValues),$p(`skew${zp[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var c,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rk;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Sh(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Sh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!$s(this.latestValues)&&(x.transform=g?g({},""):"none",this.hasProjected=!1),x}const w=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=nk(this.projectionDeltaWithTransform,this.treeScale,w),g&&(p.transform=g(w,p.transform));const{x:S,y:C}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${C.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=_===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const x in zh){if(w[x]===void 0)continue;const{correct:P,applyTo:M}=zh[x],j=p.transform==="none"?w[x]:P(w[x],_);if(M){const z=M.length;for(let J=0;J<z;J++)p[M[J]]=j}else p[x]=j}return this.options.layoutId&&(p.pointerEvents=_===this?Sh(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(sw),this.root.sharedNodes.clear()}}}function sk(t){t.updateLayout()}function ok(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?zn(_=>{const w=l?n.measuredBox[_]:n.layoutBox[_],S=kn(w);w.min=r[_].min,w.max=w.min+S}):UT(a,n.layoutBox,r)&&zn(_=>{const w=l?n.measuredBox[_]:n.layoutBox[_],S=kn(r[_]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const c=la();nu(c,r,n.layoutBox);const f=la();l?nu(f,t.applyTransform(s,!0),n.measuredBox):nu(f,r,n.layoutBox);const p=!MT(c);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:S}=_;if(w&&S){const C=pt();ru(C,n.layoutBox,w.layoutBox);const x=pt();ru(x,r,S.layoutBox),LT(C,x)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=C,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ak(t){ql&&Hs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uk(t){t.clearSnapshot()}function sw(t){t.clearMeasurements()}function ck(t){t.isLayoutDirty=!1}function hk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ow(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dk(t){t.resolveTargetDelta()}function fk(t){t.calcProjection()}function pk(t){t.resetSkewAndRotation()}function mk(t){t.removeLeadSnapshot()}function aw(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function lw(t,e,n,r){t.min=at(e.min,n.min,r),t.max=at(e.max,n.max,r)}function gk(t,e,n,r){lw(t.x,e.x,n.x,r),lw(t.y,e.y,n.y,r)}function yk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vk={duration:.45,ease:[.4,0,.1,1]},uw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cw=uw("applewebkit/")&&!uw("chrome/")?Math.round:Pn;function hw(t){t.min=cw(t.min),t.max=cw(t.max)}function _k(t){hw(t.x),hw(t.y)}function UT(t,e,n){return t==="position"||t==="preserve-aspect"&&!T2(nw(e),nw(n),.2)}function wk(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Ek=FT({attachResizeListener:(t,e)=>pu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hp={current:void 0},BT=FT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hp.current){const t=new Ek({});t.mount(window),t.setOptions({layoutScroll:!0}),Hp.current=t}return Hp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Tk={pan:{Feature:j2},drag:{Feature:L2,ProjectionNode:BT,MeasureLayout:NT}};function Sk(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function zT(t,e){const n=Sk(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function dw(t){return e=>{e.pointerType==="touch"||ST()||t(e)}}function Ik(t,e,n={}){const[r,s,a]=zT(t,n),l=dw(c=>{const{target:f}=c,p=e(c);if(typeof p!="function"||!f)return;const g=dw(_=>{p(_),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,s)});return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}function fw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&tt.postRender(()=>a(e,ku(e)))}class Ck extends us{mount(){const{current:e}=this.node;e&&(this.unmount=Ik(e,n=>(fw(this.node,n,"Start"),r=>fw(this.node,r,"End"))))}unmount(){}}class Ak extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xu(pu(this.node.current,"focus",()=>this.onFocus()),pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const $T=(t,e)=>e?t===e?!0:$T(t,e.parentElement):!1,Rk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pk(t){return Rk.has(t.tagName)||t.tabIndex!==-1}const Kl=new WeakSet;function pw(t){return e=>{e.key==="Enter"&&t(e)}}function Wp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xk=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=pw(()=>{if(Kl.has(n))return;Wp(n,"down");const s=pw(()=>{Wp(n,"up")}),a=()=>Wp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function mw(t){return zg(t)&&!ST()}function kk(t,e,n={}){const[r,s,a]=zT(t,n),l=c=>{const f=c.currentTarget;if(!mw(c)||Kl.has(f))return;Kl.add(f);const p=e(c),g=(S,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),!(!mw(S)||!Kl.has(f))&&(Kl.delete(f),typeof p=="function"&&p(S,{success:C}))},_=S=>{g(S,n.useGlobalTarget||$T(f,S.target))},w=S=>{g(S,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",w,s)};return r.forEach(c=>{!Pk(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c.addEventListener("focus",p=>xk(p,s),s)}),a}function gw(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&tt.postRender(()=>a(e,ku(e)))}class bk extends us{mount(){const{current:e}=this.node;e&&(this.unmount=kk(e,n=>(gw(this.node,n,"Start"),(r,{success:s})=>gw(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rm=new WeakMap,qp=new WeakMap,Dk=t=>{const e=Rm.get(t.target);e&&e(t)},Nk=t=>{t.forEach(Dk)};function Ok({root:t,...e}){const n=t||document;qp.has(n)||qp.set(n,{});const r=qp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Nk,{root:t,...e})),r[s]}function Vk(t,e,n){const r=Ok(e);return Rm.set(t,n),r.observe(t),()=>{Rm.delete(t),r.unobserve(t)}}const Mk={some:0,all:1};class Lk extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Mk[s]},c=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),w=p?g:_;w&&w(f)};return Vk(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jk(e,n))&&this.startObserver()}unmount(){}}function jk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Fk={inView:{Feature:Lk},tap:{Feature:bk},focus:{Feature:Ak},hover:{Feature:Ck}},Uk={layout:{ProjectionNode:BT,MeasureLayout:NT}},Pm={current:null},HT={current:!1};function Bk(){if(HT.current=!0,!!dg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pm.current=t.matches;t.addListener(e),e()}else Pm.current=!1}const zk=[...dT,Gt,ts],$k=t=>zk.find(hT(t)),yw=new WeakMap;function Hk(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Jt(s))t.addValue(r,s);else if(Jt(a))t.addValue(r,du(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,du(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const vw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wk{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Ar.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,tt.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=wd(n),this.isVariantNode=I1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in w){const C=w[S];f[S]!==void 0&&Jt(C)&&C.set(f[S],!1)}}mount(e){this.current=e,yw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),HT.current||Bk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){yw.delete(this.current),this.projection&&this.projection.unmount(),es(this.notifyUpdate),es(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=so.has(e),s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ya){const n=ya[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vw.length;r++){const s=vw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=Hk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=du(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(uT(s)||eT(s))?s=parseFloat(s):!$k(s)&&ts.test(n)&&(s=oT(e,n)),this.setBaseTarget(e,Jt(s)?s.get():s)),Jt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=vg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Jt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new xg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class WT extends Wk{constructor(){super(...arguments),this.KeyframeResolver=fT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function qk(t){return window.getComputedStyle(t)}class Kk extends WT{constructor(){super(...arguments),this.type="html",this.renderInstance=N1}readValueFromInstance(e,n){if(so.has(n)){const r=Lg(n);return r&&r.default||0}else{const r=qk(e),s=(k1(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bT(e,n)}build(e,n,r){Eg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Cg(e,n,r)}}class Gk extends WT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(so.has(n)){const r=Lg(n);return r&&r.default||0}return n=O1.has(n)?n:mg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return L1(e,n,r)}build(e,n,r){Tg(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){V1(e,n,r,s)}mount(e){this.isSVGTag=Ig(e.tagName),super.mount(e)}}const Qk=(t,e)=>yg(t)?new Gk(e):new Kk(e,{allowProjection:t!==b.Fragment}),Yk=TP({...d2,...Fk,...Tk,...Uk},Qk),$e=LR(Yk),cs=b.createContext(null),Xk=()=>{const t=b.useContext(cs);b.useEffect(()=>{e()},[]);function e(n){let r=["Hi !","I am shiv 😊","I am a java developer."];function s(l,c,f){c<l.length?(document.getElementById("text").innerHTML=l.substring(0,c+1)+'<span aria-hidden="true"></span>',setTimeout(function(){s(l,c+1,f)},100)):typeof f=="function"&&setTimeout(f,1500)}function a(l){typeof r[l]>"u"&&setTimeout(function(){a(0)},2e4),l<r[l].length&&s(r[l],0,function(){a(l+1)})}a(0)}return I.jsx(I.Fragment,{children:I.jsx($e.div,{className:"console-container",initial:{transform:"translateY(100px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{type:"spring"},children:I.jsx(Js,{height:t?150:120,width:t?350:700,content:I.jsxs(I.Fragment,{children:[" ",I.jsx("span",{children:">_"}),I.jsx("br",{}),I.jsx("span",{style:{color:"green",fontSize:t?"x-large":void 0},children:t?"C:19>":"C:\\system32$ ~"})," ",I.jsx("span",{id:"text",style:{fontSize:t?"x-large":void 0}})]})})})})};var zl={},_w;function Jk(){if(_w)return zl;_w=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.parse=l,zl.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,S){const C=new a,x=w.length;if(x<2)return C;const P=(S==null?void 0:S.decode)||g;let M=0;do{const j=w.indexOf("=",M);if(j===-1)break;const z=w.indexOf(";",M),J=z===-1?x:z;if(j>J){M=w.lastIndexOf(";",j-1)+1;continue}const G=c(w,M,j),ee=f(w,j,G),D=w.slice(G,ee);if(C[D]===void 0){let R=c(w,j+1,J),k=f(w,J,R);const O=P(w.slice(R,k));C[D]=O}M=J+1}while(M<x);return C}function c(w,S,C){do{const x=w.charCodeAt(S);if(x!==32&&x!==9)return S}while(++S<C);return C}function f(w,S,C){for(;S>C;){const x=w.charCodeAt(--S);if(x!==32&&x!==9)return S+1}return C}function p(w,S,C){const x=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const P=x(S);if(!e.test(P))throw new TypeError(`argument val is invalid: ${S}`);let M=w+"="+P;if(!C)return M;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);M+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);M+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);M+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);M+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(M+="; HttpOnly"),C.secure&&(M+="; Secure"),C.partitioned&&(M+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return M}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return s.call(w)==="[object Date]"}return zl}Jk();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ww="popstate";function Zk(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return xm("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:mu(s)}return tb(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eb(){return Math.random().toString(36).substring(2,10)}function Ew(t,e){return{usr:t.state,key:t.key,idx:e}}function xm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oa(e):e,state:n,key:e&&e.key||r||eb()}}function mu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function tb(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",f=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let P=g(),M=P==null?null:P-p;p=P,f&&f({action:c,location:x.location,delta:M})}function w(P,M){c="PUSH";let j=xm(x.location,P,M);p=g()+1;let z=Ew(j,p),J=x.createHref(j);try{l.pushState(z,"",J)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(J)}a&&f&&f({action:c,location:x.location,delta:1})}function S(P,M){c="REPLACE";let j=xm(x.location,P,M);p=g();let z=Ew(j,p),J=x.createHref(j);l.replaceState(z,"",J),a&&f&&f({action:c,location:x.location,delta:0})}function C(P){let M=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof P=="string"?P:mu(P);return j=j.replace(/ $/,"%20"),lt(M,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,M)}let x={get action(){return c},get location(){return t(s,l)},listen(P){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(ww,_),f=P,()=>{s.removeEventListener(ww,_),f=null}},createHref(P){return e(s,P)},createURL:C,encodeLocation(P){let M=C(P);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:S,go(P){return l.go(P)}};return x}function qT(t,e,n="/"){return nb(t,e,n,!1)}function nb(t,e,n,r){let s=typeof e=="string"?Oa(e):e,a=ns(s.pathname||"/",n);if(a==null)return null;let l=KT(t);rb(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=pb(a);c=db(l[f],p,r)}return c}function KT(t,e=[],n=[],r=""){let s=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(lt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=si([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(lt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),KT(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:cb(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let f of GT(a.path))s(a,l,f)}),e}function GT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=GT(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function rb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ib=/^:[\w-]+$/,sb=3,ob=2,ab=1,lb=10,ub=-2,Tw=t=>t==="*";function cb(t,e){let n=t.split("/"),r=n.length;return n.some(Tw)&&(r+=ub),e&&(r+=ob),n.filter(s=>!Tw(s)).reduce((s,a)=>s+(ib.test(a)?sb:a===""?ab:lb),r)}function hb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function db(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Gh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),w=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Gh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:si([a,_.pathname]),pathnameBase:vb(si([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=si([a,_.pathnameBase]))}return l}function Gh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fb(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},w)=>{if(g==="*"){let C=c[w]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const S=c[w];return _&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function fb(t,e=!1,n=!0){Dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ns(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mb(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Oa(t):t;return{pathname:n?n.startsWith("/")?n:gb(n,e):e,search:_b(r),hash:wb(s)}}function gb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function QT(t){let e=yb(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function YT(t,e,n,r=!1){let s;typeof t=="string"?s=Oa(t):(s={...t},lt(!s.pathname||!s.pathname.includes("?"),Kp("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),Kp("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),Kp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;s.pathname=w.join("/")}c=_>=0?e[_]:"/"}let f=mb(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var si=t=>t.join("/").replace(/\/\/+/g,"/"),vb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_b=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Eb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var XT=["POST","PUT","PATCH","DELETE"];new Set(XT);var Tb=["GET",...XT];new Set(Tb);var Va=b.createContext(null);Va.displayName="DataRouter";var Sd=b.createContext(null);Sd.displayName="DataRouterState";var JT=b.createContext({isTransitioning:!1});JT.displayName="ViewTransition";var Sb=b.createContext(new Map);Sb.displayName="Fetchers";var Ib=b.createContext(null);Ib.displayName="Await";var Vr=b.createContext(null);Vr.displayName="Navigation";var bu=b.createContext(null);bu.displayName="Location";var hi=b.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var $g=b.createContext(null);$g.displayName="RouteError";function Cb(t,{relative:e}={}){lt(Du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Vr),{hash:s,pathname:a,search:l}=Nu(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:si([n,a])),r.createHref({pathname:c,search:l,hash:s})}function Du(){return b.useContext(bu)!=null}function di(){return lt(Du(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(bu).location}var ZT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eS(t){b.useContext(Vr).static||b.useLayoutEffect(t)}function Ab(){let{isDataRoute:t}=b.useContext(hi);return t?Fb():Rb()}function Rb(){lt(Du(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Va),{basename:e,navigator:n}=b.useContext(Vr),{matches:r}=b.useContext(hi),{pathname:s}=di(),a=JSON.stringify(QT(r)),l=b.useRef(!1);return eS(()=>{l.current=!0}),b.useCallback((f,p={})=>{if(Dr(l.current,ZT),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=YT(f,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:si([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}b.createContext(null);function Nu(t,{relative:e}={}){let{matches:n}=b.useContext(hi),{pathname:r}=di(),s=JSON.stringify(QT(n));return b.useMemo(()=>YT(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Pb(t,e){return tS(t,e)}function tS(t,e,n,r){var M;lt(Du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(Vr),{matches:a}=b.useContext(hi),l=a[a.length-1],c=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let j=g&&g.path||"";nS(f,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=di(),w;if(e){let j=typeof e=="string"?Oa(e):e;lt(p==="/"||((M=j.pathname)==null?void 0:M.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),w=j}else w=_;let S=w.pathname||"/",C=S;if(p!=="/"){let j=p.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=qT(t,{pathname:C});Dr(g||x!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Dr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Nb(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:si([p,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:si([p,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,n,r);return e&&P?b.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},P):P}function xb(){let t=jb(),e=Eb(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,l)}var kb=b.createElement(xb,null),bb=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?b.createElement(hi.Provider,{value:this.props.routeContext},b.createElement($g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Db({routeContext:t,match:e,children:n}){let r=b.useContext(Va);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(hi.Provider,{value:t},n)}function Nb(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);lt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:_}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let _,w=!1,S=null,C=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||kb,l&&(c<0&&g===0?(nS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):c===g&&(w=!0,C=p.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,g+1)),P=()=>{let M;return _?M=S:w?M=C:p.route.Component?M=b.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=f,b.createElement(Db,{match:p,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:M})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?b.createElement(bb,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:P(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):P()},null)}function Hg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ob(t){let e=b.useContext(Va);return lt(e,Hg(t)),e}function Vb(t){let e=b.useContext(Sd);return lt(e,Hg(t)),e}function Mb(t){let e=b.useContext(hi);return lt(e,Hg(t)),e}function Wg(t){let e=Mb(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Lb(){return Wg("useRouteId")}function jb(){var r;let t=b.useContext($g),e=Vb("useRouteError"),n=Wg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Fb(){let{router:t}=Ob("useNavigate"),e=Wg("useNavigate"),n=b.useRef(!1);return eS(()=>{n.current=!0}),b.useCallback(async(s,a={})=>{Dr(n.current,ZT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Sw={};function nS(t,e,n){!e&&!Sw[t]&&(Sw[t]=!0,Dr(!1,n))}b.memo(Ub);function Ub({routes:t,future:e,state:n}){return tS(t,void 0,n,e)}function Ws(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bb({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){lt(!Du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Oa(n));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:w="default"}=n,S=b.useMemo(()=>{let C=ns(f,l);return C==null?null:{location:{pathname:C,search:p,hash:g,state:_,key:w},navigationType:r}},[l,f,p,g,_,w,r]);return Dr(S!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:b.createElement(Vr.Provider,{value:c},b.createElement(bu.Provider,{children:e,value:S}))}function zb({children:t,location:e}){return Pb(km(t),e)}function km(t,e=[]){let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let a=[...e,s];if(r.type===b.Fragment){n.push.apply(n,km(r.props.children,a));return}lt(r.type===Ws,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=km(r.props.children,a)),n.push(l)}),n}var Ah="get",Rh="application/x-www-form-urlencoded";function Id(t){return t!=null&&typeof t.tagName=="string"}function $b(t){return Id(t)&&t.tagName.toLowerCase()==="button"}function Hb(t){return Id(t)&&t.tagName.toLowerCase()==="form"}function Wb(t){return Id(t)&&t.tagName.toLowerCase()==="input"}function qb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Kb(t,e){return t.button===0&&(!e||e==="_self")&&!qb(t)}var fh=null;function Gb(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var Qb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gp(t){return t!=null&&!Qb.has(t)?(Dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rh}"`),null):t}function Yb(t,e){let n,r,s,a,l;if(Hb(t)){let c=t.getAttribute("action");r=c?ns(c,e):null,n=t.getAttribute("method")||Ah,s=Gp(t.getAttribute("enctype"))||Rh,a=new FormData(t)}else if($b(t)||Wb(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(r=f?ns(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Ah,s=Gp(t.getAttribute("formenctype"))||Gp(c.getAttribute("enctype"))||Rh,a=new FormData(c,t),!Gb()){let{name:p,type:g,value:_}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,_)}}else{if(Id(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ah,r=null,s=Rh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function qg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Xb(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Zb(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await Xb(a,n);return l.links?l.links():[]}return[]}));return rD(r.flat(1).filter(Jb).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Iw(t,e,n,r,s,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,c=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function eD(t,e){return tD(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function tD(t){return[...new Set(t)]}function nD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function rD(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(nD(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function iD(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sD(){let t=b.useContext(Va);return qg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function oD(){let t=b.useContext(Sd);return qg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Kg=b.createContext(void 0);Kg.displayName="FrameworkContext";function rS(){let t=b.useContext(Kg);return qg(t,"You must render this element inside a <HydratedRouter> element"),t}function aD(t,e){let n=b.useContext(Kg),[r,s]=b.useState(!1),[a,l]=b.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let x=M=>{M.forEach(j=>{l(j.isIntersecting)})},P=new IntersectionObserver(x,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[t]),b.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let S=()=>{s(!0)},C=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:$l(c,S),onBlur:$l(f,C),onMouseEnter:$l(p,S),onMouseLeave:$l(g,C),onTouchStart:$l(_,S)}]:[!1,w,{}]}function $l(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function lD({page:t,...e}){let{router:n}=sD(),r=b.useMemo(()=>qT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(cD,{page:t,matches:r,...e}):null}function uD(t){let{manifest:e,routeModules:n}=rS(),[r,s]=b.useState([]);return b.useEffect(()=>{let a=!1;return Zb(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function cD({page:t,matches:e,...n}){let r=di(),{manifest:s,routeModules:a}=rS(),{loaderData:l,matches:c}=oD(),f=b.useMemo(()=>Iw(t,e,c,s,r,"data"),[t,e,c,s,r]),p=b.useMemo(()=>Iw(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,C=!1;if(e.forEach(P=>{var j;let M=s.routes[P.route.id];!M||!M.hasLoader||(!f.some(z=>z.route.id===P.route.id)&&P.route.id in l&&((j=a[P.route.id])!=null&&j.shouldRevalidate)||M.hasClientLoader?C=!0:S.add(P.route.id))}),S.size===0)return[];let x=iD(t);return C&&S.size>0&&x.searchParams.set("_routes",e.filter(P=>S.has(P.route.id)).map(P=>P.route.id).join(",")),[x.pathname+x.search]},[l,r,s,f,e,t,a]),_=b.useMemo(()=>eD(p,s),[p,s]),w=uD(p);return b.createElement(b.Fragment,null,g.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:C})=>b.createElement("link",{key:S,...C})))}function hD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var iS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iS&&(window.__reactRouterVersion="7.1.3")}catch{}function dD({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=Zk({window:n,v5Compat:!0}));let s=r.current,[a,l]=b.useState({action:s.action,location:s.location}),c=b.useCallback(f=>{b.startTransition(()=>l(f))},[l]);return b.useLayoutEffect(()=>s.listen(c),[s,c]),b.createElement(Bb,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var sS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pn=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:g,viewTransition:_,...w},S){let{basename:C}=b.useContext(Vr),x=typeof p=="string"&&sS.test(p),P,M=!1;if(typeof p=="string"&&x&&(P=p,iS))try{let k=new URL(window.location.href),O=p.startsWith("//")?new URL(k.protocol+p):new URL(p),U=ns(O.pathname,C);O.origin===k.origin&&U!=null?p=U+O.search+O.hash:M=!0}catch{Dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=Cb(p,{relative:s}),[z,J,G]=aD(r,w),ee=gD(p,{replace:l,state:c,target:f,preventScrollReset:g,relative:s,viewTransition:_});function D(k){e&&e(k),k.defaultPrevented||ee(k)}let R=b.createElement("a",{...w,...G,href:P||j,onClick:M||a?e:D,ref:hD(S,J),target:f,"data-discover":!x&&n==="render"?"true":void 0});return z&&!x?b.createElement(b.Fragment,null,R,b.createElement(lD,{page:j})):R});pn.displayName="Link";var fD=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:f,...p},g){let _=Nu(l,{relative:p.relative}),w=di(),S=b.useContext(Sd),{navigator:C,basename:x}=b.useContext(Vr),P=S!=null&&ED(_)&&c===!0,M=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,j=w.pathname,z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(j=j.toLowerCase(),z=z?z.toLowerCase():null,M=M.toLowerCase()),z&&x&&(z=ns(z,x)||z);const J=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let G=j===M||!s&&j.startsWith(M)&&j.charAt(J)==="/",ee=z!=null&&(z===M||!s&&z.startsWith(M)&&z.charAt(M.length)==="/"),D={isActive:G,isPending:ee,isTransitioning:P},R=G?e:void 0,k;typeof r=="function"?k=r(D):k=[r,G?"active":null,ee?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(D):a;return b.createElement(pn,{...p,"aria-current":R,className:k,ref:g,style:O,to:l,viewTransition:c},typeof f=="function"?f(D):f)});fD.displayName="NavLink";var pD=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=Ah,action:c,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...w},S)=>{let C=_D(),x=wD(c,{relative:p}),P=l.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&sS.test(c),j=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let J=z.nativeEvent.submitter,G=(J==null?void 0:J.getAttribute("formmethod"))||l;C(J||z.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return b.createElement("form",{ref:S,method:P,action:x,onSubmit:r?f:j,...w,"data-discover":!M&&t==="render"?"true":void 0})});pD.displayName="Form";function mD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oS(t){let e=b.useContext(Va);return lt(e,mD(t)),e}function gD(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Ab(),f=di(),p=Nu(t,{relative:a});return b.useCallback(g=>{if(Kb(g,e)){g.preventDefault();let _=n!==void 0?n:mu(f)===mu(p);c(t,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[f,c,p,n,r,e,t,s,a,l])}var yD=0,vD=()=>`__${String(++yD)}__`;function _D(){let{router:t}=oS("useSubmit"),{basename:e}=b.useContext(Vr),n=Lb();return b.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:f,body:p}=Yb(r,e);if(s.navigate===!1){let g=s.fetcherKey||vD();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function wD(t,{relative:e}={}){let{basename:n}=b.useContext(Vr),r=b.useContext(hi);lt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Nu(t||".",{relative:e})},l=di();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:si([n,a.pathname])),mu(a)}function ED(t,e={}){let n=b.useContext(JT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oS("useViewTransitionState"),s=Nu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Gh(s.pathname,l)!=null||Gh(s.pathname,a)!=null}new TextEncoder;const TD=()=>{};var Cw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},SD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},lS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,S=p&63;f||(S=64,l||(w=64)),r.push(n[g],n[_],n[w],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||_==null)throw new ID;const w=a<<2|c>>4;if(r.push(w),p!==64){const S=c<<4&240|p>>2;if(r.push(S),_!==64){const C=p<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ID extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CD=function(t){const e=aS(t);return lS.encodeByteArray(e,!0)},Qh=function(t){return CD(t).replace(/\./g,"")},uS=function(t){try{return lS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=()=>AD().__FIREBASE_DEFAULTS__,PD=()=>{if(typeof process>"u"||typeof Cw>"u")return;const t=Cw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uS(t[1]);return e&&JSON.parse(e)},Cd=()=>{try{return TD()||RD()||PD()||xD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cS=t=>{var e,n;return(n=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kD=t=>{const e=cS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hS=()=>{var t;return(t=Cd())===null||t===void 0?void 0:t.config},dS=t=>{var e;return(e=Cd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qh(JSON.stringify(n)),Qh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ND(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function OD(){var t;const e=(t=Cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jD(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FD(){return!OD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UD(){try{return typeof indexedDB=="object"}catch{return!1}}function BD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zD,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?$D(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new fi(s,c,r)}}function $D(t,e){return t.replace(HD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const HD=/\{\$([^}]+)}/g;function WD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Aw(a)&&Aw(l)){if(!Zs(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Aw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qD(t,e){const n=new KD(t,e);return n.subscribe.bind(n)}class KD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Qp),s.error===void 0&&(s.error=Qp),s.complete===void 0&&(s.complete=Qp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XD(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YD(t){return t===qs?void 0:t}function XD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const ZD={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},e4=Ve.INFO,t4={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},n4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=t4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gg{constructor(e){this.name=e,this._logLevel=e4,this._logHandler=n4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const r4=(t,e)=>e.some(n=>t instanceof n);let Rw,Pw;function i4(){return Rw||(Rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s4(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fS=new WeakMap,bm=new WeakMap,pS=new WeakMap,Yp=new WeakMap,Qg=new WeakMap;function o4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(qi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&fS.set(n,t)}).catch(()=>{}),Qg.set(e,t),e}function a4(t){if(bm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});bm.set(t,e)}let Dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function l4(t){Dm=t(Dm)}function u4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xp(this),e,...n);return pS.set(r,e.sort?e.sort():[e]),qi(r)}:s4().includes(t)?function(...e){return t.apply(Xp(this),e),qi(fS.get(this))}:function(...e){return qi(t.apply(Xp(this),e))}}function c4(t){return typeof t=="function"?u4(t):(t instanceof IDBTransaction&&a4(t),r4(t,i4())?new Proxy(t,Dm):t)}function qi(t){if(t instanceof IDBRequest)return o4(t);if(Yp.has(t))return Yp.get(t);const e=c4(t);return e!==t&&(Yp.set(t,e),Qg.set(e,t)),e}const Xp=t=>Qg.get(t);function h4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=qi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(qi(l.result),f.oldVersion,f.newVersion,qi(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const d4=["get","getKey","getAll","getAllKeys","count"],f4=["put","add","delete","clear"],Jp=new Map;function xw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=f4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||d4.includes(n)))return;const a=async function(l,...c){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&f.done]))[0]};return Jp.set(e,a),a}l4(t=>({...t,get:(e,n,r)=>xw(e,n)||t.get(e,n,r),has:(e,n)=>!!xw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function m4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nm="@firebase/app",kw="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Gg("@firebase/app"),g4="@firebase/app-compat",y4="@firebase/analytics-compat",v4="@firebase/analytics",_4="@firebase/app-check-compat",w4="@firebase/app-check",E4="@firebase/auth",T4="@firebase/auth-compat",S4="@firebase/database",I4="@firebase/data-connect",C4="@firebase/database-compat",A4="@firebase/functions",R4="@firebase/functions-compat",P4="@firebase/installations",x4="@firebase/installations-compat",k4="@firebase/messaging",b4="@firebase/messaging-compat",D4="@firebase/performance",N4="@firebase/performance-compat",O4="@firebase/remote-config",V4="@firebase/remote-config-compat",M4="@firebase/storage",L4="@firebase/storage-compat",j4="@firebase/firestore",F4="@firebase/vertexai",U4="@firebase/firestore-compat",B4="firebase",z4="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",$4={[Nm]:"fire-core",[g4]:"fire-core-compat",[v4]:"fire-analytics",[y4]:"fire-analytics-compat",[w4]:"fire-app-check",[_4]:"fire-app-check-compat",[E4]:"fire-auth",[T4]:"fire-auth-compat",[S4]:"fire-rtdb",[I4]:"fire-data-connect",[C4]:"fire-rtdb-compat",[A4]:"fire-fn",[R4]:"fire-fn-compat",[P4]:"fire-iid",[x4]:"fire-iid-compat",[k4]:"fire-fcm",[b4]:"fire-fcm-compat",[D4]:"fire-perf",[N4]:"fire-perf-compat",[O4]:"fire-rc",[V4]:"fire-rc-compat",[M4]:"fire-gcs",[L4]:"fire-gcs-compat",[j4]:"fire-fst",[U4]:"fire-fst-compat",[F4]:"fire-vertex","fire-js":"fire-js",[B4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,H4=new Map,Vm=new Map;function bw(t,e){try{t.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wa(t){const e=t.name;if(Vm.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,t);for(const n of Yh.values())bw(n,t);for(const n of H4.values())bw(n,t);return!0}function Yg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new Ou("app","Firebase",W4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=z4;function mS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Om,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ki.create("bad-app-name",{appName:String(s)});if(n||(n=hS()),!n)throw Ki.create("no-options");const a=Yh.get(s);if(a){if(Zs(n,a.options)&&Zs(r,a.config))return a;throw Ki.create("duplicate-app",{appName:s})}const l=new JD(s);for(const f of Vm.values())l.addComponent(f);const c=new q4(n,r,l);return Yh.set(s,c),c}function gS(t=Om){const e=Yh.get(t);if(!e&&t===Om&&hS())return mS();if(!e)throw Ki.create("no-app",{appName:t});return e}function Gi(t,e,n){var r;let s=(r=$4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(c.join(" "));return}wa(new eo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="firebase-heartbeat-database",G4=1,gu="firebase-heartbeat-store";let Zp=null;function yS(){return Zp||(Zp=h4(K4,G4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),Zp}async function Q4(t){try{const n=(await yS()).transaction(gu),r=await n.objectStore(gu).get(vS(t));return await n.done,r}catch(e){if(e instanceof fi)ai.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(n.message)}}}async function Dw(t,e){try{const r=(await yS()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,vS(t)),await r.done}catch(n){if(n instanceof fi)ai.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ai.warn(r.message)}}}function vS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=1024,X4=30;class J4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Nw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>X4){const l=tN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nw(),{heartbeatsToSend:r,unsentEntries:s}=Z4(this._heartbeatsCache.heartbeats),a=Qh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ai.warn(n),""}}}function Nw(){return new Date().toISOString().substring(0,10)}function Z4(t,e=Y4){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Ow(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ow(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UD()?BD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Q4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ow(t){return Qh(JSON.stringify({version:2,heartbeats:t})).length}function tN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){wa(new eo("platform-logger",e=>new p4(e),"PRIVATE")),wa(new eo("heartbeat",e=>new J4(e),"PRIVATE")),Gi(Nm,kw,t),Gi(Nm,kw,"esm2017"),Gi("fire-js","")}nN("");function Xg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rN=_S,wS=new Ou("auth","Firebase",_S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Gg("@firebase/auth");function iN(t,...e){Xh.logLevel<=Ve.WARN&&Xh.warn(`Auth (${Ma}): ${t}`,...e)}function Ph(t,...e){Xh.logLevel<=Ve.ERROR&&Xh.error(`Auth (${Ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,...e){throw Jg(t,...e)}function Rr(t,...e){return Jg(t,...e)}function ES(t,e,n){const r=Object.assign(Object.assign({},rN()),{[e]:n});return new Ou("auth","Firebase",r).create(e,{appName:t.name})}function Qi(t){return ES(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wS.create(t,...e)}function Ie(t,e,...n){if(!t)throw Jg(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ph(e),new Error(e)}function li(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sN(){return Vw()==="http:"||Vw()==="https:"}function Vw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sN()||MD()||"connection"in navigator)?navigator.onLine:!0}function aN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=ND()||LD()}get(){return oN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new Mu(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hs(t,e,n,r,s={}){return SS(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Vu(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},a);return VD()||(p.referrerPolicy="no-referrer"),TS.fetch()(IS(t,t.config.apiHost,n,c),p)})}async function SS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lN),e);try{const s=new hN(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw ph(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw ph(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw ph(t,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ES(t,g,p);cr(t,g)}}catch(s){if(s instanceof fi)throw s;cr(t,"network-request-failed",{message:String(s)})}}async function Ad(t,e,n,r,s={}){const a=await hs(t,e,n,r,s);return"mfaPendingCredential"in a&&cr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function IS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Zg(t.config,s):`${t.config.apiScheme}://${s}`}function cN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),uN.get())})}}function ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rr(t,e,r);return s.customData._tokenResponse=n,s}function Mw(t){return t!==void 0&&t.enterprise!==void 0}class dN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fN(t,e){return hs(t,"GET","/v2/recaptchaConfig",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e){return hs(t,"POST","/v1/accounts:delete",e)}async function CS(t,e){return hs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mN(t,e=!1){const n=Bt(t),r=await n.getIdToken(e),s=ey(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:iu(em(s.auth_time)),issuedAtTime:iu(em(s.iat)),expirationTime:iu(em(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function em(t){return Number(t)*1e3}function ey(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const s=uS(n);return s?JSON.parse(s):(Ph("Failed to decode base64 JWT payload"),null)}catch(s){return Ph("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Lw(t){const e=ey(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fi&&gN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await yu(t,CS(n,{idToken:r}));Ie(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?AS(a.providerUserInfo):[],c=_N(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Lm(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function vN(t){const e=Bt(t);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _N(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function AS(t){return t.map(e=>{var{providerId:n}=e,r=Xg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e){const n=await SS(t,{},async()=>{const r=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=IS(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",TS.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EN(t,e){return hs(t,"POST","/v2/accounts:revokeToken",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=Lw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await wN(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new fa;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ie(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Xg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Lm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mN(this,e)}reload(){return vN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await yu(this,pN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,c,f,p,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(s=n.email)!==null&&s!==void 0?s:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,C=(l=n.photoURL)!==null&&l!==void 0?l:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,M=(p=n.createdAt)!==null&&p!==void 0?p:void 0,j=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:z,emailVerified:J,isAnonymous:G,providerData:ee,stsTokenManager:D}=n;Ie(z&&D,e,"internal-error");const R=fa.fromJSON(this.name,D);Ie(typeof z=="string",e,"internal-error"),Fi(_,e.name),Fi(w,e.name),Ie(typeof J=="boolean",e,"internal-error"),Ie(typeof G=="boolean",e,"internal-error"),Fi(S,e.name),Fi(C,e.name),Fi(x,e.name),Fi(P,e.name),Fi(M,e.name),Fi(j,e.name);const k=new ti({uid:z,auth:e,email:w,emailVerified:J,displayName:_,isAnonymous:G,photoURL:C,phoneNumber:S,tenantId:x,stsTokenManager:R,createdAt:M,lastLoginAt:j});return ee&&Array.isArray(ee)&&(k.providerData=ee.map(O=>Object.assign({},O))),P&&(k._redirectEventId=P),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new fa;s.updateFromServerResponse(n);const a=new ti({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Jh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?AS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new fa;c.updateFromIdToken(r);const f=new ti({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Lm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Map;function ni(t){li(t instanceof Function,"Expected a class definition");let e=jw.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RS.type="NONE";const Fw=RS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t,e,n){return`firebase:${t}:${e}:${n}`}class pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=xh(this.userKey,s.apiKey,a),this.fullPersistenceKey=xh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pa(ni(Fw),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ni(Fw);const l=xh(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){const _=ti._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new pa(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new pa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NS(e))return"Blackberry";if(OS(e))return"Webos";if(xS(e))return"Safari";if((e.includes("chrome/")||kS(e))&&!e.includes("edge/"))return"Chrome";if(DS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PS(t=Zt()){return/firefox\//i.test(t)}function xS(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kS(t=Zt()){return/crios\//i.test(t)}function bS(t=Zt()){return/iemobile/i.test(t)}function DS(t=Zt()){return/android/i.test(t)}function NS(t=Zt()){return/blackberry/i.test(t)}function OS(t=Zt()){return/webos/i.test(t)}function ty(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TN(t=Zt()){var e;return ty(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SN(){return jD()&&document.documentMode===10}function VS(t=Zt()){return ty(t)||DS(t)||OS(t)||NS(t)||/windows phone/i.test(t)||bS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t,e=[]){let n;switch(t){case"Browser":n=Uw(Zt());break;case"Worker":n=`${Uw(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(t,e={}){return hs(t,"GET","/v2/passwordPolicy",oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=6;class RN{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:AN,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bw(this),this.idTokenSubscription=new Bw(this),this.beforeStateQueue=new IN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await pa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await CS(this,{idToken:e}),r=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(Qi(this));const n=e?Bt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CN(this),n=new RN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await pa.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function La(t){return Bt(t)}class Bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=qD(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xN(t){Rd=t}function LS(t){return Rd.loadJS(t)}function kN(){return Rd.recaptchaEnterpriseScript}function bN(){return Rd.gapiScript}function DN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class NN{constructor(){this.enterprise=new ON}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ON{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VN="recaptcha-enterprise",jS="NO_RECAPTCHA";class MN{constructor(e){this.type=VN,this.auth=La(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{fN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new dN(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function s(a,l,c){const f=window.grecaptcha;Mw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(jS)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&Mw(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=kN();f.length!==0&&(f+=c),LS(f).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function zw(t,e,n,r=!1,s=!1){const a=new MN(t);let l;if(s)l=jS;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function $w(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await zw(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await zw(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e){const n=Yg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Zs(a,e??{}))return s;cr(s,"already-initialized")}return n.initialize({options:e})}function jN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FN(t,e,n){const r=La(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=FS(e),{host:l,port:c}=UN(e),f=c===null?"":`:${c}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Zs(p,r.config.emulator)&&Zs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,BN()}function FS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UN(t){const e=FS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Hw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Hw(l)}}}function Hw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function zN(t,e){return hs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e){return Ad(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e){return Ad(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function WN(t,e){return Ad(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends ny{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $w(e,n,"signInWithPassword",$N);case"emailLink":return HN(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $w(e,r,"signUpPassword",zN);case"emailLink":return WN(e,{idToken:n,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e){return Ad(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="http://localhost";class to extends ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Xg(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new to(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ma(e,n)}buildRequest(){const e={requestUri:qN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GN(t){const e=Gl(Ql(t)).link,n=e?Gl(Ql(e)).deep_link_id:null,r=Gl(Ql(t)).deep_link_id;return(r?Gl(Ql(r)).link:null)||r||n||e||t}class ry{constructor(e){var n,r,s,a,l,c;const f=Gl(Ql(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=KN((s=f.mode)!==null&&s!==void 0?s:null);Ie(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=GN(e);try{return new ry(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.providerId=ja.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ry.parseLink(n);return Ie(r,"argument-error"),vu._fromEmailAndCode(e,r.code,r.tenantId)}}ja.PROVIDER_ID="password";ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends US{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Lu{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Lu{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Lu{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ti._fromIdTokenResponse(e,r,s),l=Ww(r);return new Ea({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Ww(r);return new Ea({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Ww(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends fi{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Zh(e,n,r,s)}}function BS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(t,a,e,r):a})}async function QN(t,e,n=!1){const r=await yu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ea._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(Qi(r));const s="reauthenticate";try{const a=await yu(t,BS(r,s,e,t),n);Ie(a.idToken,r,"internal-error");const l=ey(a.idToken);Ie(l,r,"internal-error");const{sub:c}=l;return Ie(t.uid===c,r,"user-mismatch"),Ea._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&cr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(t,e,n=!1){if(ur(t.app))return Promise.reject(Qi(t));const r="signIn",s=await BS(t,r,e),a=await Ea._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function XN(t,e){return zS(La(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t){const e=La(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ZN(t,e,n){return ur(t.app)?Promise.reject(Qi(t)):XN(Bt(t),ja.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JN(t),r})}function eO(t,e,n,r){return Bt(t).onIdTokenChanged(e,n,r)}function tO(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}function nO(t,e,n,r){return Bt(t).onAuthStateChanged(e,n,r)}function rO(t){return Bt(t).signOut()}const ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ed,"1"),this.storage.removeItem(ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=1e3,sO=10;class HS extends $S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);SN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,sO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HS.type="LOCAL";const oO=HS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS extends $S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WS.type="SESSION";const qS=WS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Pd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,a)),f=await aO(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=iy("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function uO(t){Pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function cO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dO(){return KS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="firebaseLocalStorageDb",fO=1,td="firebaseLocalStorage",QS="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xd(t,e){return t.transaction([td],e?"readwrite":"readonly").objectStore(td)}function pO(){const t=indexedDB.deleteDatabase(GS);return new ju(t).toPromise()}function jm(){const t=indexedDB.open(GS,fO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(td,{keyPath:QS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(td)?e(r):(r.close(),await pO(),e(await jm()))})})}async function qw(t,e,n){const r=xd(t,!0).put({[QS]:e,value:n});return new ju(r).toPromise()}async function mO(t,e){const n=xd(t,!1).get(e),r=await new ju(n).toPromise();return r===void 0?null:r.value}function Kw(t,e){const n=xd(t,!0).delete(e);return new ju(n).toPromise()}const gO=800,yO=3;class YS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(dO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cO(),!this.activeServiceWorker)return;this.sender=new lO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await qw(e,ed,"1"),await Kw(e,ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=xd(s,!1).getAll();return new ju(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YS.type="LOCAL";const vO=YS;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e){return e?ni(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends ny{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wO(t){return zS(t.auth,new sy(t),t.bypassAuthState)}function EO(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),YN(n,new sy(t),t.bypassAuthState)}async function TO(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),QN(n,new sy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wO;case"linkViaPopup":case"linkViaRedirect":return TO;case"reauthViaPopup":case"reauthViaRedirect":return EO;default:cr(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Mu(2e3,1e4);class ha extends XS{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SO.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="pendingRedirect",kh=new Map;class CO extends XS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kh.get(this.auth._key());if(!e){try{const r=await AO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AO(t,e){const n=xO(e),r=PO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function RO(t,e){kh.set(t._key(),e)}function PO(t){return ni(t._redirectPersistence)}function xO(t){return xh(IO,t.config.apiKey,t.name)}async function kO(t,e,n=!1){if(ur(t.app))return Promise.reject(Qi(t));const r=La(t),s=_O(r,e),l=await new CO(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=10*60*1e3;class DO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gw(e))}saveEventToCache(e){this.cachedEventUids.add(Gw(e)),this.lastProcessedEventTime=Date.now()}}function Gw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e={}){return hs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MO=/^https?/;async function LO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OO(t);for(const n of e)try{if(jO(n))return}catch{}cr(t,"unauthorized-domain")}function jO(t){const e=Mm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!MO.test(n))return!1;if(VO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new Mu(3e4,6e4);function Qw(){const t=Pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UO(t){return new Promise((e,n)=>{var r,s,a;function l(){Qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qw(),n(Rr(t,"network-request-failed"))},timeout:FO.get()})}if(!((s=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Pr().gapi)===null||a===void 0)&&a.load)l();else{const c=DN("iframefcb");return Pr()[c]=()=>{gapi.load?l():n(Rr(t,"network-request-failed"))},LS(`${bN()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw bh=null,e})}let bh=null;function BO(t){return bh=bh||UO(t),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Mu(5e3,15e3),$O="__/auth/iframe",HO="emulator/auth/iframe",WO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KO(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zg(e,HO):`https://${t.config.authDomain}/${$O}`,r={apiKey:e.apiKey,appName:t.name,v:Ma},s=qO.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Vu(r).slice(1)}`}async function GO(t){const e=await BO(t),n=Pr().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:KO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WO,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Rr(t,"network-request-failed"),c=Pr().setTimeout(()=>{a(l)},zO.get());function f(){Pr().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YO=500,XO=600,JO="_blank",ZO="http://localhost";class Yw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eV(t,e,n,r=YO,s=XO){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},QO),{width:r.toString(),height:s.toString(),top:a,left:l}),p=Zt().toLowerCase();n&&(c=kS(p)?JO:n),PS(p)&&(e=e||ZO,f.scrollbars="yes");const g=Object.entries(f).reduce((w,[S,C])=>`${w}${S}=${C},`,"");if(TN(p)&&c!=="_self")return tV(e||"",c),new Yw(null);const _=window.open(e||"",c,g);Ie(_,t,"popup-blocked");try{_.focus()}catch{}return new Yw(_)}function tV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="__/auth/handler",rV="emulator/auth/handler",iV=encodeURIComponent("fac");async function Xw(t,e,n,r,s,a){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ma,eventId:s};if(e instanceof US){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",WD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Lu){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await t._getAppCheckToken(),p=f?`#${iV}=${encodeURIComponent(f)}`:"";return`${sV(t)}?${Vu(c).slice(1)}${p}`}function sV({config:t}){return t.emulator?Zg(t,rV):`https://${t.authDomain}/${nV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="webStorageSupport";class oV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qS,this._completeRedirectFn=kO,this._overrideRedirectResult=RO}async _openPopup(e,n,r,s){var a;li((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Xw(e,n,r,Mm(),s);return eV(e,l,iy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await Xw(e,n,r,Mm(),s);return uO(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(li(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GO(e),r=new DO(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tm,{type:tm},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[tm];l!==void 0&&n(!!l),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VS()||xS()||ty()}}const aV=oV;var Jw="@firebase/auth",Zw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cV(t){wa(new eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ie(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(t)},p=new PN(r,s,a,f);return jN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wa(new eo("auth-internal",e=>{const n=La(e.getProvider("auth").getImmediate());return(r=>new lV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(Jw,Zw,uV(t)),Gi(Jw,Zw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=5*60,dV=dS("authIdTokenMaxAge")||hV;let eE=null;const fV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dV)return;const s=n==null?void 0:n.token;eE!==s&&(eE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pV(t=gS()){const e=Yg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LN(t,{popupRedirectResolver:aV,persistence:[vO,oO,qS]}),r=dS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=fV(a.toString());tO(n,l,()=>l(n.currentUser)),eO(n,c=>l(c))}}const s=cS("auth");return s&&FN(n,`http://${s}`),n}function mV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Rr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",mV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cV("Browser");const Fa=b.createContext(null);var gV="firebase",yV="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(gV,yV,"app");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,ZS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function k(){}k.prototype=R.prototype,D.D=R.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(O,U,$){for(var V=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)V[qe-2]=arguments[qe];return R.prototype[U].apply(O,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,R,k){k||(k=0);var O=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)O[U]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(U=0;16>U;++U)O[U]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=D.g[0],k=D.g[1],U=D.g[2];var $=D.g[3],V=R+($^k&(U^$))+O[0]+3614090360&4294967295;R=k+(V<<7&4294967295|V>>>25),V=$+(U^R&(k^U))+O[1]+3905402710&4294967295,$=R+(V<<12&4294967295|V>>>20),V=U+(k^$&(R^k))+O[2]+606105819&4294967295,U=$+(V<<17&4294967295|V>>>15),V=k+(R^U&($^R))+O[3]+3250441966&4294967295,k=U+(V<<22&4294967295|V>>>10),V=R+($^k&(U^$))+O[4]+4118548399&4294967295,R=k+(V<<7&4294967295|V>>>25),V=$+(U^R&(k^U))+O[5]+1200080426&4294967295,$=R+(V<<12&4294967295|V>>>20),V=U+(k^$&(R^k))+O[6]+2821735955&4294967295,U=$+(V<<17&4294967295|V>>>15),V=k+(R^U&($^R))+O[7]+4249261313&4294967295,k=U+(V<<22&4294967295|V>>>10),V=R+($^k&(U^$))+O[8]+1770035416&4294967295,R=k+(V<<7&4294967295|V>>>25),V=$+(U^R&(k^U))+O[9]+2336552879&4294967295,$=R+(V<<12&4294967295|V>>>20),V=U+(k^$&(R^k))+O[10]+4294925233&4294967295,U=$+(V<<17&4294967295|V>>>15),V=k+(R^U&($^R))+O[11]+2304563134&4294967295,k=U+(V<<22&4294967295|V>>>10),V=R+($^k&(U^$))+O[12]+1804603682&4294967295,R=k+(V<<7&4294967295|V>>>25),V=$+(U^R&(k^U))+O[13]+4254626195&4294967295,$=R+(V<<12&4294967295|V>>>20),V=U+(k^$&(R^k))+O[14]+2792965006&4294967295,U=$+(V<<17&4294967295|V>>>15),V=k+(R^U&($^R))+O[15]+1236535329&4294967295,k=U+(V<<22&4294967295|V>>>10),V=R+(U^$&(k^U))+O[1]+4129170786&4294967295,R=k+(V<<5&4294967295|V>>>27),V=$+(k^U&(R^k))+O[6]+3225465664&4294967295,$=R+(V<<9&4294967295|V>>>23),V=U+(R^k&($^R))+O[11]+643717713&4294967295,U=$+(V<<14&4294967295|V>>>18),V=k+($^R&(U^$))+O[0]+3921069994&4294967295,k=U+(V<<20&4294967295|V>>>12),V=R+(U^$&(k^U))+O[5]+3593408605&4294967295,R=k+(V<<5&4294967295|V>>>27),V=$+(k^U&(R^k))+O[10]+38016083&4294967295,$=R+(V<<9&4294967295|V>>>23),V=U+(R^k&($^R))+O[15]+3634488961&4294967295,U=$+(V<<14&4294967295|V>>>18),V=k+($^R&(U^$))+O[4]+3889429448&4294967295,k=U+(V<<20&4294967295|V>>>12),V=R+(U^$&(k^U))+O[9]+568446438&4294967295,R=k+(V<<5&4294967295|V>>>27),V=$+(k^U&(R^k))+O[14]+3275163606&4294967295,$=R+(V<<9&4294967295|V>>>23),V=U+(R^k&($^R))+O[3]+4107603335&4294967295,U=$+(V<<14&4294967295|V>>>18),V=k+($^R&(U^$))+O[8]+1163531501&4294967295,k=U+(V<<20&4294967295|V>>>12),V=R+(U^$&(k^U))+O[13]+2850285829&4294967295,R=k+(V<<5&4294967295|V>>>27),V=$+(k^U&(R^k))+O[2]+4243563512&4294967295,$=R+(V<<9&4294967295|V>>>23),V=U+(R^k&($^R))+O[7]+1735328473&4294967295,U=$+(V<<14&4294967295|V>>>18),V=k+($^R&(U^$))+O[12]+2368359562&4294967295,k=U+(V<<20&4294967295|V>>>12),V=R+(k^U^$)+O[5]+4294588738&4294967295,R=k+(V<<4&4294967295|V>>>28),V=$+(R^k^U)+O[8]+2272392833&4294967295,$=R+(V<<11&4294967295|V>>>21),V=U+($^R^k)+O[11]+1839030562&4294967295,U=$+(V<<16&4294967295|V>>>16),V=k+(U^$^R)+O[14]+4259657740&4294967295,k=U+(V<<23&4294967295|V>>>9),V=R+(k^U^$)+O[1]+2763975236&4294967295,R=k+(V<<4&4294967295|V>>>28),V=$+(R^k^U)+O[4]+1272893353&4294967295,$=R+(V<<11&4294967295|V>>>21),V=U+($^R^k)+O[7]+4139469664&4294967295,U=$+(V<<16&4294967295|V>>>16),V=k+(U^$^R)+O[10]+3200236656&4294967295,k=U+(V<<23&4294967295|V>>>9),V=R+(k^U^$)+O[13]+681279174&4294967295,R=k+(V<<4&4294967295|V>>>28),V=$+(R^k^U)+O[0]+3936430074&4294967295,$=R+(V<<11&4294967295|V>>>21),V=U+($^R^k)+O[3]+3572445317&4294967295,U=$+(V<<16&4294967295|V>>>16),V=k+(U^$^R)+O[6]+76029189&4294967295,k=U+(V<<23&4294967295|V>>>9),V=R+(k^U^$)+O[9]+3654602809&4294967295,R=k+(V<<4&4294967295|V>>>28),V=$+(R^k^U)+O[12]+3873151461&4294967295,$=R+(V<<11&4294967295|V>>>21),V=U+($^R^k)+O[15]+530742520&4294967295,U=$+(V<<16&4294967295|V>>>16),V=k+(U^$^R)+O[2]+3299628645&4294967295,k=U+(V<<23&4294967295|V>>>9),V=R+(U^(k|~$))+O[0]+4096336452&4294967295,R=k+(V<<6&4294967295|V>>>26),V=$+(k^(R|~U))+O[7]+1126891415&4294967295,$=R+(V<<10&4294967295|V>>>22),V=U+(R^($|~k))+O[14]+2878612391&4294967295,U=$+(V<<15&4294967295|V>>>17),V=k+($^(U|~R))+O[5]+4237533241&4294967295,k=U+(V<<21&4294967295|V>>>11),V=R+(U^(k|~$))+O[12]+1700485571&4294967295,R=k+(V<<6&4294967295|V>>>26),V=$+(k^(R|~U))+O[3]+2399980690&4294967295,$=R+(V<<10&4294967295|V>>>22),V=U+(R^($|~k))+O[10]+4293915773&4294967295,U=$+(V<<15&4294967295|V>>>17),V=k+($^(U|~R))+O[1]+2240044497&4294967295,k=U+(V<<21&4294967295|V>>>11),V=R+(U^(k|~$))+O[8]+1873313359&4294967295,R=k+(V<<6&4294967295|V>>>26),V=$+(k^(R|~U))+O[15]+4264355552&4294967295,$=R+(V<<10&4294967295|V>>>22),V=U+(R^($|~k))+O[6]+2734768916&4294967295,U=$+(V<<15&4294967295|V>>>17),V=k+($^(U|~R))+O[13]+1309151649&4294967295,k=U+(V<<21&4294967295|V>>>11),V=R+(U^(k|~$))+O[4]+4149444226&4294967295,R=k+(V<<6&4294967295|V>>>26),V=$+(k^(R|~U))+O[11]+3174756917&4294967295,$=R+(V<<10&4294967295|V>>>22),V=U+(R^($|~k))+O[2]+718787259&4294967295,U=$+(V<<15&4294967295|V>>>17),V=k+($^(U|~R))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var k=R-this.blockSize,O=this.B,U=this.h,$=0;$<R;){if(U==0)for(;$<=k;)s(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<R;)if(O[U++]=D.charCodeAt($++),U==this.blockSize){s(this,O),U=0;break}}else for(;$<R;)if(O[U++]=D[$++],U==this.blockSize){s(this,O),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var k=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=k&255,k/=256;for(this.u(D),D=Array(16),R=k=0;4>R;++R)for(var O=0;32>O;O+=8)D[k++]=this.g[R]>>>O&255;return D};function a(D,R){var k=c;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=R(D)}function l(D,R){this.h=R;for(var k=[],O=!0,U=D.length-1;0<=U;U--){var $=D[U]|0;O&&$==R||(k[U]=$,O=!1)}this.g=k}var c={};function f(D){return-128<=D&&128>D?a(D,function(R){return new l([R|0],0>R?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return P(p(-D));for(var R=[],k=1,O=0;D>=k;O++)R[O]=D/k|0,k*=4294967296;return new l(R,0)}function g(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return P(g(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(R,8)),O=_,U=0;U<D.length;U+=8){var $=Math.min(8,D.length-U),V=parseInt(D.substring(U,U+$),R);8>$?($=p(Math.pow(R,$)),O=O.j($).add(p(V))):(O=O.j(k),O=O.add(p(V)))}return O}var _=f(0),w=f(1),S=f(16777216);t=l.prototype,t.m=function(){if(x(this))return-P(this).m();for(var D=0,R=1,k=0;k<this.g.length;k++){var O=this.i(k);D+=(0<=O?O:4294967296+O)*R,R*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(x(this))return"-"+P(this).toString(D);for(var R=p(Math.pow(D,6)),k=this,O="";;){var U=J(k,R).g;k=M(k,U.j(R));var $=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=U,C(k))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function x(D){return D.h==-1}t.l=function(D){return D=M(this,D),x(D)?-1:C(D)?0:1};function P(D){for(var R=D.g.length,k=[],O=0;O<R;O++)k[O]=~D.g[O];return new l(k,~D.h).add(w)}t.abs=function(){return x(this)?P(this):this},t.add=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],O=0,U=0;U<=R;U++){var $=O+(this.i(U)&65535)+(D.i(U)&65535),V=($>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);O=V>>>16,$&=65535,V&=65535,k[U]=V<<16|$}return new l(k,k[k.length-1]&-2147483648?-1:0)};function M(D,R){return D.add(P(R))}t.j=function(D){if(C(this)||C(D))return _;if(x(this))return x(D)?P(this).j(P(D)):P(P(this).j(D));if(x(D))return P(this.j(P(D)));if(0>this.l(S)&&0>D.l(S))return p(this.m()*D.m());for(var R=this.g.length+D.g.length,k=[],O=0;O<2*R;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var U=0;U<D.g.length;U++){var $=this.i(O)>>>16,V=this.i(O)&65535,qe=D.i(U)>>>16,ye=D.i(U)&65535;k[2*O+2*U]+=V*ye,j(k,2*O+2*U),k[2*O+2*U+1]+=$*ye,j(k,2*O+2*U+1),k[2*O+2*U+1]+=V*qe,j(k,2*O+2*U+1),k[2*O+2*U+2]+=$*qe,j(k,2*O+2*U+2)}for(O=0;O<R;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=R;O<2*R;O++)k[O]=0;return new l(k,0)};function j(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function z(D,R){this.g=D,this.h=R}function J(D,R){if(C(R))throw Error("division by zero");if(C(D))return new z(_,_);if(x(D))return R=J(P(D),R),new z(P(R.g),P(R.h));if(x(R))return R=J(D,P(R)),new z(P(R.g),R.h);if(30<D.g.length){if(x(D)||x(R))throw Error("slowDivide_ only works with positive integers.");for(var k=w,O=R;0>=O.l(D);)k=G(k),O=G(O);var U=ee(k,1),$=ee(O,1);for(O=ee(O,2),k=ee(k,2);!C(O);){var V=$.add(O);0>=V.l(D)&&(U=U.add(k),$=V),O=ee(O,1),k=ee(k,1)}return R=M(D,U.j(R)),new z(U,R)}for(U=_;0<=D.l(R);){for(k=Math.max(1,Math.floor(D.m()/R.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=p(k),V=$.j(R);x(V)||0<V.l(D);)k-=O,$=p(k),V=$.j(R);C($)&&($=w),U=U.add($),D=M(D,V)}return new z(U,D)}t.A=function(D){return J(this,D).h},t.and=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],O=0;O<R;O++)k[O]=this.i(O)&D.i(O);return new l(k,this.h&D.h)},t.or=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],O=0;O<R;O++)k[O]=this.i(O)|D.i(O);return new l(k,this.h|D.h)},t.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],O=0;O<R;O++)k[O]=this.i(O)^D.i(O);return new l(k,this.h^D.h)};function G(D){for(var R=D.g.length+1,k=[],O=0;O<R;O++)k[O]=D.i(O)<<1|D.i(O-1)>>>31;return new l(k,D.h)}function ee(D,R){var k=R>>5;R%=32;for(var O=D.g.length-k,U=[],$=0;$<O;$++)U[$]=0<R?D.i($+k)>>>R|D.i($+k+1)<<32-R:D.i($+k);return new l(U,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Yi=l}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eI,Yl,tI,Dh,Fm,nI,rI,iI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(h,y){if(y)e:{var E=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in E))break e;E=E[H]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function a(h,y){h instanceof String&&(h+="");var E=0,A=!1,H={next:function(){if(!A&&E<h.length){var Q=E++;return{value:y(Q,h[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}s("Array.prototype.values",function(h){return h||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,E){return h.call.apply(h.bind,arguments)}function _(h,y,E){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),h.apply(y,H)}}return function(){return h.apply(y,arguments)}}function w(h,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,w.apply(null,arguments)}function S(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function C(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(A,H,Q){for(var ae=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ae[Ge-2]=arguments[Ge];return y.prototype[H].apply(A,ae)}}function x(h){const y=h.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function P(h,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(f(A)){const H=h.length||0,Q=A.length||0;h.length=H+Q;for(let ae=0;ae<Q;ae++)h[H+ae]=A[ae]}else h.push(A)}}class M{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){return/^[\s\xa0]*$/.test(h)}function z(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function J(h){return J[" "](h),h}J[" "]=function(){};var G=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ee(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function D(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function R(h){const y={};for(const E in h)y[E]=h[E];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,y){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)h[E]=A[E];for(let Q=0;Q<k.length;Q++)E=k[Q],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function U(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function $(h){c.setTimeout(()=>{throw h},0)}function V(){var h=pe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class qe{constructor(){this.h=this.g=null}add(y,E){const A=ye.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ye=new M(()=>new be,h=>h.reset());class be{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,se=!1,pe=new qe,le=()=>{const h=c.Promise.resolve(void 0);_e=()=>{h.then(F)}};var F=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(E){$(E)}var y=ye;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h}();function Pe(h,y){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(G){e:{try{J(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:je[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Pe.aa.h.call(this)}}C(Pe,ue);var je={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),We=0;function Ye(h,y,E,A,H){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=H,this.key=++We,this.da=this.fa=!1}function Pt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Mr(h){this.src=h,this.g={},this.h=0}Mr.prototype.add=function(h,y,E,A,H){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var ae=pi(h,y,A,H);return-1<ae?(y=h[ae],E||(y.fa=!1)):(y=new Ye(y,this.src,Q,!!A,H),y.fa=E,h.push(y)),y};function uo(h,y){var E=y.type;if(E in h.g){var A=h.g[E],H=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(A,H,1),Q&&(Pt(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function pi(h,y,E,A){for(var H=0;H<h.length;++H){var Q=h[H];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==A)return H}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),co={};function qa(h,y,E,A,H){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)qa(h,y[Q],E,A,H);return null}return E=Qa(E),h&&h[He]?h.K(y,E,p(A)?!!A.capture:!1,H):Ka(h,y,E,!1,A,H)}function Ka(h,y,E,A,H,Q){if(!y)throw Error("Invalid event type");var ae=p(H)?!!H.capture:!!H,Ge=fo(h);if(Ge||(h[ps]=Ge=new Mr(h)),E=Ge.add(y,E,A,ae,Q),E.proxy)return E;if(A=Ku(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)Re||(H=ae),H===void 0&&(H=!1),h.addEventListener(y.toString(),A,H);else if(h.attachEvent)h.attachEvent(jr(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ku(){function h(E){return y.call(h.src,h.listener,E)}const y=Ga;return h}function ho(h,y,E,A,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ho(h,y[Q],E,A,H);else A=p(A)?!!A.capture:!!A,E=Qa(E),h&&h[He]?(h=h.i,y=String(y).toString(),y in h.g&&(Q=h.g[y],E=pi(Q,E,A,H),-1<E&&(Pt(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete h.g[y],h.h--)))):h&&(h=fo(h))&&(y=h.g[y.toString()],h=-1,y&&(h=pi(y,E,A,H)),(E=-1<h?y[h]:null)&&Lr(E))}function Lr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[He])uo(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(jr(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=fo(y))?(uo(E,h),E.h==0&&(E.src=null,y[ps]=null)):Pt(h)}}}function jr(h){return h in co?co[h]:co[h]="on"+h}function Ga(h,y){if(h.da)h=!0;else{y=new Pe(y,this);var E=h.listener,A=h.ha||h.src;h.fa&&Lr(h),h=E.call(A,y)}return h}function fo(h){return h=h[ps],h instanceof Mr?h:null}var po="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qa(h){return typeof h=="function"?h:(h[po]||(h[po]=function(y){return h.handleEvent(y)}),h[po])}function wt(){Y.call(this),this.i=new Mr(this),this.M=this,this.F=null}C(wt,Y),wt.prototype[He]=!0,wt.prototype.removeEventListener=function(h,y,E,A){ho(this,h,y,E,A)};function Et(h,y){var E,A=h.F;if(A)for(E=[];A;A=A.F)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new ue(y,h);else if(y instanceof ue)y.target=y.target||h;else{var H=y;y=new ue(A,h),O(y,H)}if(H=!0,E)for(var Q=E.length-1;0<=Q;Q--){var ae=y.g=E[Q];H=Fr(ae,A,!0,y)&&H}if(ae=y.g=h,H=Fr(ae,A,!0,y)&&H,H=Fr(ae,A,!1,y)&&H,E)for(Q=0;Q<E.length;Q++)ae=y.g=E[Q],H=Fr(ae,A,!1,y)&&H}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],A=0;A<E.length;A++)Pt(E[A]);delete h.g[y],h.h--}}this.F=null},wt.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},wt.prototype.L=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function Fr(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==E){var Ge=ae.listener,Tt=ae.ha||ae.src;ae.fa&&uo(h.i,ae),H=Ge.call(Tt,A)!==!1&&H}}return H&&!A.defaultPrevented}function Ya(h,y,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(h,y||0)}function mi(h){h.g=Ya(()=>{h.g=null,h.i&&(h.i=!1,mi(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ms extends Y{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:mi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(h){Y.call(this),this.h=h,this.g={}}C(gs,Y);var Xa=[];function Ja(h){ee(h.g,function(y,E){this.g.hasOwnProperty(E)&&Lr(y)},h),h.g={}}gs.prototype.N=function(){gs.aa.N.call(this),Ja(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Za=c.JSON.stringify,el=c.JSON.parse,tl=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ys(){}ys.prototype.h=null;function mo(h){return h.h||(h.h=h.i())}function go(){}var bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){ue.call(this,"d")}C(dr,ue);function yo(){ue.call(this,"c")}C(yo,ue);var fr={},nl=null;function vs(){return nl=nl||new wt}fr.La="serverreachability";function rl(h){ue.call(this,fr.La,h)}C(rl,ue);function Ur(h){const y=vs();Et(y,new rl(y))}fr.STAT_EVENT="statevent";function il(h,y){ue.call(this,fr.STAT_EVENT,h),this.stat=y}C(il,ue);function dt(h){const y=vs();Et(y,new il(y,h))}fr.Ma="timingevent";function vo(h,y){ue.call(this,fr.Ma,h),this.size=y}C(vo,ue);function qn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function ws(h,y,E,A,H,Q){h.info(function(){if(h.g)if(Q)for(var ae="",Ge=Q.split("&"),Tt=0;Tt<Ge.length;Tt++){var Fe=Ge[Tt].split("=");if(1<Fe.length){var xt=Fe[0];Fe=Fe[1];var gt=xt.split("_");ae=2<=gt.length&&gt[1]=="type"?ae+(xt+"="+Fe+"&"):ae+(xt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+E+`
`+ae})}function _o(h,y,E,A,H,Q,ae){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+E+`
`+Q+" "+ae})}function Kn(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+rf(h,E)+(A?" "+A:"")})}function sl(h,y){h.info(function(){return"TIMEOUT: "+y})}_s.prototype.info=function(){};function rf(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var A=E[h];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<H.length;ae++)H[ae]=""}}}}return Za(E)}catch{return y}}var wo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Es(){}C(Es,ys),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},Gn=new Es;function Qn(h,y,E,A){this.j=h,this.i=y,this.l=E,this.R=A||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qu}function Qu(){this.i=null,this.g="",this.h=!1}var ol={},Eo={};function To(h,y,E){h.L=1,h.v=wi(wn(y)),h.m=E,h.P=!0,al(h,null)}function al(h,y){h.F=Date.now(),Xe(h),h.A=wn(h.v);var E=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Ti(E.i,"t",A),h.C=0,E=h.j.J,h.h=new Qu,h.g=fc(h.j,E?y:null,!h.m),0<h.O&&(h.M=new ms(w(h.Y,h,h.g),h.O)),y=h.U,E=h.g,A=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(Xa[0]=H.toString()),H=Xa);for(var Q=0;Q<H.length;Q++){var ae=qa(E,H[Q],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ur(),ws(h.i,h.u,h.A,h.l,h.R,h.m)}Qn.prototype.ca=function(h){h=h.target;const y=this.M;y&&an(h)==3?y.j():this.Y(h)},Qn.prototype.Y=function(h){try{if(h==this.g)e:{const gt=an(this.g);var y=this.g.Ba();const On=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||fl(this.g)))){this.J||gt!=4||y==7||(y==8||0>=On?Ur(3):Ur(2)),Ts(this);var E=this.g.Z();this.X=E;t:if(Yu(this)){var A=fl(this.g);h="";var H=A.length,Q=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),gi(this);var ae="";break t}this.h.i=new c.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(Q&&y==H-1)});A.length=0,this.h.g+=h,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,_o(this.i,this.u,this.A,this.l,this.R,gt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Tt=this.g;if((Ge=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ge)){var Fe=Ge;break t}}Fe=null}if(E=Fe)Kn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ll(this,E);else{this.o=!1,this.s=3,dt(12),Dn(this),gi(this);break e}}if(this.P){E=!0;let Tn;for(;!this.J&&this.C<ae.length;)if(Tn=sf(this,ae),Tn==Eo){gt==4&&(this.s=4,dt(14),E=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==ol){this.s=4,dt(15),Kn(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else Kn(this.i,this.l,Tn,null),ll(this,Tn);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),E=!1),this.o=this.o&&E,!E)Kn(this.i,this.l,ae,"[Invalid Chunked Response]"),Dn(this),gi(this);else if(0<ae.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ml(xt),xt.M=!0,dt(11))}}else Kn(this.i,this.l,ae,null),ll(this,ae);gt==4&&Dn(this),this.o&&!this.J&&(gt==4?No(this.j,this):(this.o=!1,Xe(this)))}else Po(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Dn(this),gi(this)}}}catch{}finally{}};function Yu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function sf(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?Eo:(E=Number(y.substring(E,A)),isNaN(E)?ol:(A+=1,A+E>y.length?Eo:(y=y.slice(A,A+E),h.C=A+E,y)))}Qn.prototype.cancel=function(){this.J=!0,Dn(this)};function Xe(h){h.S=Date.now()+h.I,Xu(h,h.I)}function Xu(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=qn(w(h.ba,h),y)}function Ts(h){h.B&&(c.clearTimeout(h.B),h.B=null)}Qn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(sl(this.i,this.A),this.L!=2&&(Ur(),dt(17)),Dn(this),this.s=2,gi(this)):Xu(this,this.S-h)};function gi(h){h.j.G==0||h.J||No(h.j,h)}function Dn(h){Ts(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Ja(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function ll(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||en(E.h,h))){if(!h.K&&en(E.h,h)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Do(E),er(E);else break e;bo(E),dt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=qn(w(E.Za,E),6e3));if(1>=Zu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Wr(E,11)}else if((h.K||E.g==h)&&Do(E),!j(y))for(H=E.Da.g.parse(y),y=0;y<H.length;y++){let Fe=H[y];if(E.T=Fe[0],Fe=Fe[1],E.G==2)if(Fe[0]=="c"){E.K=Fe[1],E.ia=Fe[2];const xt=Fe[3];xt!=null&&(E.la=xt,E.j.info("VER="+E.la));const gt=Fe[4];gt!=null&&(E.Aa=gt,E.j.info("SVER="+E.Aa));const On=Fe[5];On!=null&&typeof On=="number"&&0<On&&(A=1.5*On,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Tn=h.g;if(Tn){const xs=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var Q=A.h;Q.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ul(Q,Q.h),Q.h=null))}if(A.D){const Vo=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(A.ya=Vo,Qe(A.I,A.D,Vo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var ae=h;if(A.qa=dc(A,A.J?A.ia:null,A.W),ae.K){ec(A.h,ae);var Ge=ae,Tt=A.L;Tt&&(Ge.I=Tt),Ge.B&&(Ts(Ge),Xe(Ge)),A.g=ae}else Ps(A);0<E.i.length&&yr(E)}else Fe[0]!="stop"&&Fe[0]!="close"||Wr(E,7);else E.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Wr(E,7):Vt(E):Fe[0]!="noop"&&E.l&&E.l.ta(Fe),E.v=0)}}Ur(4)}catch{}}var Ju=class{constructor(h,y){this.g=h,this.map=y}};function Ss(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _n(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Zu(h){return h.h?1:h.g?h.g.size:0}function en(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ul(h,y){h.g?h.g.add(y):h.h=y}function ec(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ss.prototype.cancel=function(){if(this.i=tc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function tc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return x(h.i)}function So(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var y=[],E=h.length,A=0;A<E;A++)y.push(h[A]);return y}y=[],E=0;for(A in h)y[E++]=h[A];return y}function Io(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const A in h)y[E++]=A;return y}}}function yi(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=Io(h),A=So(h),H=A.length,Q=0;Q<H;Q++)y.call(void 0,A[Q],E&&E[Q],h)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function of(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var A=h[E].indexOf("="),H=null;if(0<=A){var Q=h[E].substring(0,A);H=h[E].substring(A+1)}else Q=h[E];y(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Br(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Br){this.h=h.h,Cs(this,h.j),this.o=h.o,this.g=h.g,vi(this,h.s),this.l=h.l;var y=h.i,E=new pr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),_i(this,E),this.m=h.m}else h&&(y=String(h).match(Is))?(this.h=!1,Cs(this,y[1]||"",!0),this.o=Le(y[2]||""),this.g=Le(y[3]||"",!0),vi(this,y[4]),this.l=Le(y[5]||"",!0),_i(this,y[6]||"",!0),this.m=Le(y[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}Br.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Ei(y,Co,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ei(y,Co,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ei(E,E.charAt(0)=="/"?ic:rc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ei(E,cl)),h.join("")};function wn(h){return new Br(h)}function Cs(h,y,E){h.j=E?Le(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function vi(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function _i(h,y,E){y instanceof pr?(h.i=y,mr(h.i,h.h)):(E||(y=Ei(y,sc)),h.i=new pr(y,h.h))}function Qe(h,y,E){h.i.set(y,E)}function wi(h){return Qe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Le(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ei(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,nc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function nc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Co=/[#\/\?@]/g,rc=/[#\?:]/g,ic=/[#\?]/g,sc=/[#\?@]/g,cl=/#/g;function pr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Ot(h){h.g||(h.g=new Map,h.h=0,h.i&&of(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=pr.prototype,t.add=function(h,y){Ot(this),this.i=null,h=Nn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Yn(h,y){Ot(h),y=Nn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Xn(h,y){return Ot(h),y=Nn(h,y),h.g.has(y)}t.forEach=function(h,y){Ot(this),this.g.forEach(function(E,A){E.forEach(function(H){h.call(y,H,A,this)},this)},this)},t.na=function(){Ot(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const H=h[A];for(let Q=0;Q<H.length;Q++)E.push(y[A])}return E},t.V=function(h){Ot(this);let y=[];if(typeof h=="string")Xn(this,h)&&(y=y.concat(this.g.get(Nn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},t.set=function(h,y){return Ot(this),this.i=null,h=Nn(this,h),Xn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Ti(h,y,E){Yn(h,y),0<E.length&&(h.i=null,h.g.set(Nn(h,y),x(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const Q=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var H=Q;ae[A]!==""&&(H+="="+encodeURIComponent(String(ae[A]))),h.push(H)}}return this.i=h.join("&")};function Nn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function mr(h,y){y&&!h.j&&(Ot(h),h.i=null,h.g.forEach(function(E,A){var H=A.toLowerCase();A!=H&&(Yn(this,A),Ti(this,H,E))},h)),h.j=y}function af(h,y){const E=new _s;if(c.Image){const A=new Image;A.onload=S(on,E,"TestLoadImage: loaded",!0,y,A),A.onerror=S(on,E,"TestLoadImage: error",!1,y,A),A.onabort=S(on,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(on,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function oc(h,y){const E=new _s,A=new AbortController,H=setTimeout(()=>{A.abort(),on(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(H),Q.ok?on(E,"TestPingServer: ok",!0,y):on(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),on(E,"TestPingServer: error",!1,y)})}function on(h,y,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function lf(){this.g=new tl}function ac(h,y,E){const A=E||"";try{yi(h,function(H,Q){let ae=H;p(H)&&(ae=Za(H)),y.push(A+Q+"="+encodeURIComponent(ae))})}catch(H){throw y.push(A+"type="+encodeURIComponent("_badmap")),H}}function zr(h){this.l=h.Ub||null,this.j=h.eb||!1}C(zr,ys),zr.prototype.g=function(){return new As(this.l,this.j)},zr.prototype.i=function(h){return function(){return h}}({});function As(h,y){wt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(As,wt),t=As.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Zn(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function lc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Jn(this):Zn(this),this.readyState==3&&lc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Jn(this))},t.Qa=function(h){this.g&&(this.response=h,Jn(this))},t.ga=function(){this.g&&Jn(this)};function Jn(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Zn(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Zn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function $r(h){let y="";return ee(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Si(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=$r(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Qe(h,y,E))}function nt(h){wt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(nt,wt);var uf=/^https?$/i,hl=["POST","PUT"];t=nt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?mo(this.o):mo(Gn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){Rs(this,Q);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())E.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(hl,y,void 0))||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of E)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Rs(this,Q)}};function Rs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ao(h),En(h)}function Ao(h){h.A||(h.A=!0,Et(h,"complete"),Et(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Et(this,"complete"),Et(this,"abort"),En(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dl(this):this.bb())},t.bb=function(){dl(this)};function dl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||an(h)!=4||h.Z()!=2)){if(h.u&&an(h)==4)Ya(h.Ea,0,h);else if(Et(h,"readystatechange"),an(h)==4){h.h=!1;try{const ae=h.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=ae===0){var H=String(h.D).match(Is)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),A=!uf.test(H?H.toLowerCase():"")}E=A}if(E)Et(h,"complete"),Et(h,"success");else{h.m=6;try{var Q=2<an(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Ao(h)}}finally{En(h)}}}}function En(h,y){if(h.g){Ro(h);const E=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Et(h,"ready");try{E.onreadystatechange=A}catch{}}}function Ro(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function an(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),el(y)}};function fl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(h){const y={};h=(h.g&&2<=an(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(j(h[A]))continue;var E=U(h[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[H]||[];y[H]=Q,Q.push(E)}D(y,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function pl(h){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gr("baseRetryDelayMs",5e3,h),this.cb=gr("retryDelaySeedMs",1e4,h),this.Wa=gr("forwardChannelMaxRetries",2,h),this.wa=gr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ss(h&&h.concurrentRequestLimit),this.Da=new lf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pl.prototype,t.la=8,t.G=1,t.connect=function(h,y,E,A){dt(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=dc(this,null,this.W),yr(this)};function Vt(h){if(xo(h),h.G==3){var y=h.U++,E=wn(h.I);if(Qe(E,"SID",h.K),Qe(E,"RID",y),Qe(E,"TYPE","terminate"),Hr(h,E),y=new Qn(h,h.j,y),y.L=2,y.v=wi(wn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=fc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Xe(y)}hc(h)}function er(h){h.g&&(ml(h),h.g.cancel(),h.g=null)}function xo(h){er(h),h.u&&(c.clearTimeout(h.u),h.u=null),Do(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function yr(h){if(!_n(h.h)&&!h.s){h.s=!0;var y=h.Ga;_e||le(),se||(_e(),se=!0),pe.add(y,h),h.B=0}}function cf(h,y){return Zu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=qn(w(h.Ga,h,y),cc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new Qn(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=R(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ii(this,H,y),E=wn(this.I),Qe(E,"RID",h),Qe(E,"CVER",22),this.D&&Qe(E,"X-HTTP-Session-Id",this.D),Hr(this,E),Q&&(this.O?y="headers="+encodeURIComponent(String($r(Q)))+"&"+y:this.m&&Si(E,this.m,Q)),ul(this.h,H),this.Ua&&Qe(E,"TYPE","init"),this.P?(Qe(E,"$req",y),Qe(E,"SID","null"),H.T=!0,To(H,E,null)):To(H,E,y),this.G=2}}else this.G==3&&(h?ko(this,h):this.i.length==0||_n(this.h)||ko(this))};function ko(h,y){var E;y?E=y.l:E=h.U++;const A=wn(h.I);Qe(A,"SID",h.K),Qe(A,"RID",E),Qe(A,"AID",h.T),Hr(h,A),h.m&&h.o&&Si(A,h.m,h.o),E=new Qn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Ii(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ul(h.h,E),To(E,A,y)}function Hr(h,y){h.H&&ee(h.H,function(E,A){Qe(y,A,E)}),h.l&&yi({},function(E,A){Qe(y,A,E)})}function Ii(h,y,E){E=Math.min(h.i.length,E);var A=h.l?w(h.l.Na,h.l,h):null;e:{var H=h.i;let Q=-1;for(;;){const ae=["count="+E];Q==-1?0<E?(Q=H[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ge=!0;for(let Tt=0;Tt<E;Tt++){let Fe=H[Tt].g;const xt=H[Tt].map;if(Fe-=Q,0>Fe)Q=Math.max(0,H[Tt].g-100),Ge=!1;else try{ac(xt,ae,"req"+Fe+"_")}catch{A&&A(xt)}}if(Ge){A=ae.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,A}function Ps(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;_e||le(),se||(_e(),se=!0),pe.add(y,h),h.v=0}}function bo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=qn(w(h.Fa,h),cc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=qn(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),er(this),uc(this))};function ml(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function uc(h){h.g=new Qn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=wn(h.qa);Qe(y,"RID","rpc"),Qe(y,"SID",h.K),Qe(y,"AID",h.T),Qe(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Qe(y,"TO",h.ja),Qe(y,"TYPE","xmlhttp"),Hr(h,y),h.m&&h.o&&Si(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=wi(wn(y)),E.m=null,E.P=!0,al(E,h)}t.Za=function(){this.C!=null&&(this.C=null,er(this),bo(this),dt(19))};function Do(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function No(h,y){var E=null;if(h.g==y){Do(h),ml(h),h.g=null;var A=2}else if(en(h.h,y))E=y.D,ec(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var H=h.B;A=vs(),Et(A,new vo(A,E)),yr(h)}else Ps(h);else if(H=y.s,H==3||H==0&&0<y.X||!(A==1&&cf(h,y)||A==2&&bo(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),H){case 1:Wr(h,5);break;case 4:Wr(h,10);break;case 3:Wr(h,6);break;default:Wr(h,2)}}}function cc(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function Wr(h,y){if(h.j.info("Error code "+y),y==2){var E=w(h.fb,h),A=h.Xa;const H=!A;A=new Br(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Cs(A,"https"),wi(A),H?af(A.toString(),E):oc(A.toString(),E)}else dt(2);h.G=0,h.l&&h.l.sa(y),hc(h),xo(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function hc(h){if(h.G=0,h.ka=[],h.l){const y=tc(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ka,y),P(h.ka,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.ra()}}function dc(h,y,E){var A=E instanceof Br?wn(E):new Br(E);if(A.g!="")y&&(A.g=y+"."+A.g),vi(A,A.s);else{var H=c.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Q=new Br(null);A&&Cs(Q,A),y&&(Q.g=y),H&&vi(Q,H),E&&(Q.l=E),A=Q}return E=h.D,y=h.ya,E&&y&&Qe(A,E,y),Qe(A,"VER",h.la),Hr(h,A),A}function fc(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new nt(new zr({eb:E})):new nt(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gl(){}t=gl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Oo(){}Oo.prototype.g=function(h,y){return new tn(h,y)};function tn(h,y){wt.call(this),this.g=new pl(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!j(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!j(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new vr(this)}C(tn,wt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Vt(this.g)},tn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Za(h),h=E);y.i.push(new Ju(y.Ya++,h)),y.G==3&&yr(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,tn.aa.N.call(this)};function pc(h){dr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}C(pc,dr);function mc(){yo.call(this),this.status=1}C(mc,yo);function vr(h){this.g=h}C(vr,gl),vr.prototype.ua=function(){Et(this.g,"a")},vr.prototype.ta=function(h){Et(this.g,new pc(h))},vr.prototype.sa=function(h){Et(this.g,new mc)},vr.prototype.ra=function(){Et(this.g,"b")},Oo.prototype.createWebChannel=Oo.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,iI=function(){return new Oo},rI=function(){return vs()},nI=fr,Fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wo.NO_ERROR=0,wo.TIMEOUT=8,wo.HTTP_ERROR=6,Dh=wo,Gu.COMPLETE="complete",tI=Gu,go.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Yl=go,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,eI=nt}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",rE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Gg("@firebase/firestore");function na(){return no.logLevel}function he(t,...e){if(no.logLevel<=Ve.DEBUG){const n=e.map(oy);no.debug(`Firestore (${Ua}): ${t}`,...n)}}function ui(t,...e){if(no.logLevel<=Ve.ERROR){const n=e.map(oy);no.error(`Firestore (${Ua}): ${t}`,...n)}}function Ta(t,...e){if(no.logLevel<=Ve.WARN){const n=e.map(oy);no.warn(`Firestore (${Ua}): ${t}`,...n)}}function oy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+t;throw ui(e),new Error(e)}function Ke(t,e){t||Ce()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class _V{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wV{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new sI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Qt(e)}}class EV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new EV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SV{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ur(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new iE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new iE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=IV(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function Um(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ne(r,s);{const a=oI(),l=CV(a.encode(sE(t,n)),a.encode(sE(e,n)));return l!==0?l:Ne(r,s)}}n+=r>65535?2:1}return Ne(t.length,e.length)}function sE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function CV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ne(t[n],e[n]);return Ne(t.length,e.length)}function Sa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=-62135596800,aE=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aE);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<oE)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-oE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new At(0,0))}static max(){return new xe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__name__";class Ir{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ir.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ir?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Ir.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Ne(e.length,n.length)}static compareSegments(e,n){const r=Ir.isNumericId(e),s=Ir.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ir.extractNumericId(e).compare(Ir.extractNumericId(n)):Um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class it extends Ir{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new it(n)}static emptyPath(){return new it([])}}const AV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Ir{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return AV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new Ut([lE])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(it.fromString(e))}static fromName(e){return new Te(it.fromString(e).popFirst(5))}static empty(){return new Te(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function RV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new rs(s,Te.empty(),e)}function PV(t){return new rs(t.readTime,t.key,_u)}class rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rs(xe.min(),Te.empty(),_u)}static max(){return new rs(xe.max(),Te.empty(),_u)}}function xV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==kV)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},f=>r(f))}),l=!0,a===s&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(s=>s?Z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new Z((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function DV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function za(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=-1;function bd(t){return t==null}function nd(t){return t===0&&1/t==-1/0}function NV(t){return typeof t=="number"&&Number.isInteger(t)&&!nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="";function OV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uE(e)),e=VV(t.get(n),e);return uE(e)}function VV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case lI:n+="";break;default:n+=a}}return n}function uE(t){return t+lI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=s??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Ft(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,s,a){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Rt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new cI("Invalid base64 string: "+a):a}}(e);return new zt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const MV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=MV.exec(t);if(Ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="server_timestamp",dI="__type__",fI="__previous_value__",pI="__local_write_time__";function ly(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[dI])===null||n===void 0?void 0:n.stringValue)===hI}function Dd(t){const e=t.mapValue.fields[fI];return ly(e)?Dd(e):e}function wu(t){const e=is(t.mapValue.fields[pI].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r,s,a,l,c,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}const rd="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||rd}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===rd}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="__type__",gI="__max__",yh={mapValue:{fields:{__type__:{stringValue:gI}}}},yI="__vector__",id="value";function os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ly(t)?4:FV(t)?9007199254740991:jV(t)?10:11:Ce()}function Nr(t,e){if(t===e)return!0;const n=os(t);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=is(s.timestampValue),c=is(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return ss(s.bytesValue).isEqual(ss(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return mt(s.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return mt(s.integerValue)===mt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=mt(s.doubleValue),c=mt(a.doubleValue);return l===c?nd(l)===nd(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Sa(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(cE(l)!==cE(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Nr(l[f],c[f])))return!1;return!0}(t,e);default:return Ce()}}function Tu(t,e){return(t.values||[]).find(n=>Nr(n,e))!==void 0}function Ia(t,e){if(t===e)return 0;const n=os(t),r=os(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=mt(a.integerValue||a.doubleValue),f=mt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return dE(t.timestampValue,e.timestampValue);case 4:return dE(wu(t),wu(e));case 5:return Um(t.stringValue,e.stringValue);case 6:return function(a,l){const c=ss(a),f=ss(l);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=Ne(c[p],f[p]);if(g!==0)return g}return Ne(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Ne(mt(a.latitude),mt(l.latitude));return c!==0?c:Ne(mt(a.longitude),mt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fE(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,g;const _=a.fields||{},w=l.fields||{},S=(c=_[id])===null||c===void 0?void 0:c.arrayValue,C=(f=w[id])===null||f===void 0?void 0:f.arrayValue,x=Ne(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:fE(S,C)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===yh.mapValue&&l===yh.mapValue)return 0;if(a===yh.mapValue)return 1;if(l===yh.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const w=Um(f[_],g[_]);if(w!==0)return w;const S=Ia(c[f[_]],p[g[_]]);if(S!==0)return S}return Ne(f.length,g.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function dE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=is(t),r=is(e),s=Ne(n.seconds,r.seconds);return s!==0?s:Ne(n.nanos,r.nanos)}function fE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ia(n[s],r[s]);if(a)return a}return Ne(n.length,r.length)}function Ca(t){return Bm(t)}function Bm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Bm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Bm(n.fields[l])}`;return s+"}"}(t.mapValue):Ce()}function Nh(t){switch(os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dd(t);return e?16+Nh(e):16;case 5:return 2*t.stringValue.length;case 6:return ss(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Nh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ds(r.fields,(a,l)=>{s+=a.length+Nh(l)}),s}(t.mapValue);default:throw Ce()}}function zm(t){return!!t&&"integerValue"in t}function uy(t){return!!t&&"arrayValue"in t}function pE(t){return!!t&&"nullValue"in t}function mE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oh(t){return!!t&&"mapValue"in t}function jV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mI])===null||n===void 0?void 0:n.stringValue)===yI}function su(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=su(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=Ut.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=su(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Oh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ds(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new gn(su(this.value))}}function vI(t){const e=[];return ds(t.fields,(n,r)=>{const s=new Ut([n]);if(Oh(r)){const a=vI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Yt(e,0,xe.min(),xe.min(),xe.min(),gn.empty(),0)}static newFoundDocument(e,n,r,s){return new Yt(e,1,n,xe.min(),r,s,0)}static newNoDocument(e,n){return new Yt(e,2,n,xe.min(),xe.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,xe.min(),xe.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.position=e,this.inclusive=n}}function gE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(l.referenceValue),n.key):r=Ia(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function yE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n="asc"){this.field=e,this.dir=n}}function UV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{}class Ct extends _I{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zV(e,n,r):n==="array-contains"?new WV(e,r):n==="in"?new qV(e,r):n==="not-in"?new KV(e,r):n==="array-contains-any"?new GV(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $V(e,r):new HV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ia(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(Ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends _I{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Or(e,n)}matches(e){return wI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function wI(t){return t.op==="and"}function EI(t){return BV(t)&&wI(t)}function BV(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function $m(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Ca(t.value);if(EI(t))return t.filters.map(e=>$m(e)).join(",");{const e=t.filters.map(n=>$m(n)).join(",");return`${t.op}(${e})`}}function TI(t,e){return t instanceof Ct?function(r,s){return s instanceof Ct&&r.op===s.op&&r.field.isEqual(s.field)&&Nr(r.value,s.value)}(t,e):t instanceof Or?function(r,s){return s instanceof Or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&TI(l,s.filters[c]),!0):!1}(t,e):void Ce()}function SI(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Ca(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(SI).join(" ,")+"}"}(t):"Filter"}class zV extends Ct{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class $V extends Ct{constructor(e,n){super(e,"in",n),this.keys=II("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HV extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=II("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function II(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class WV extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uy(n)&&Tu(n.arrayValue,this.value)}}class qV extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class KV extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Tu(this.value.arrayValue,n)}}class GV extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function vE(t,e=null,n=[],r=[],s=null,a=null,l=null){return new QV(t,e,n,r,s,a,l)}function cy(t){const e=ke(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$m(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ca(r)).join(",")),e.le=n}return e.le}function hy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yE(t.startAt,e.startAt)&&yE(t.endAt,e.endAt)}function Hm(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function YV(t,e,n,r,s,a,l,c){return new Nd(t,e,n,r,s,a,l,c)}function CI(t){return new Nd(t)}function _E(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XV(t){return t.collectionGroup!==null}function ou(t){const e=ke(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Rt(Ut.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new od(a,r))}),n.has(Ut.keyField().canonicalString())||e.he.push(new od(Ut.keyField(),r))}return e.he}function xr(t){const e=ke(t);return e.Pe||(e.Pe=JV(e,ou(t))),e.Pe}function JV(t,e){if(t.limitType==="F")return vE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new od(s.field,a)});const n=t.endAt?new sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sd(t.startAt.position,t.startAt.inclusive):null;return vE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wm(t,e,n){return new Nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Od(t,e){return hy(xr(t),xr(e))&&t.limitType===e.limitType}function AI(t){return`${cy(xr(t))}|lt:${t.limitType}`}function ra(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>SI(s)).join(", ")}]`),bd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ca(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ca(s)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of ou(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,f){const p=gE(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,ou(r),s)||r.endAt&&!function(l,c,f){const p=gE(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,ou(r),s))}(t,e)}function ZV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RI(t){return(e,n)=>{let r=!1;for(const s of ou(t)){const a=e3(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function e3(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?Ia(f,p):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return uI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new ut(Te.comparator);function ci(){return t3}const PI=new ut(Te.comparator);function Xl(...t){let e=PI;for(const n of t)e=e.insert(n.key,n);return e}function xI(t){let e=PI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gs(){return au()}function kI(){return au()}function au(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const n3=new ut(Te.comparator),r3=new Rt(Te.comparator);function Me(...t){let e=r3;for(const n of t)e=e.add(n);return e}const i3=new Rt(Ne);function s3(){return i3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function bI(t){return{integerValue:""+t}}function o3(t,e){return NV(e)?bI(e):dy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function a3(t,e,n){return t instanceof ad?function(s,a){const l={fields:{[dI]:{stringValue:hI},[pI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ly(a)&&(a=Dd(a)),a&&(l.fields[fI]=a),{mapValue:l}}(n,e):t instanceof Su?NI(t,e):t instanceof Iu?OI(t,e):function(s,a){const l=DI(s,a),c=wE(l)+wE(s.Ie);return zm(l)&&zm(s.Ie)?bI(c):dy(s.serializer,c)}(t,e)}function l3(t,e,n){return t instanceof Su?NI(t,e):t instanceof Iu?OI(t,e):n}function DI(t,e){return t instanceof ld?function(r){return zm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ad extends Md{}class Su extends Md{constructor(e){super(),this.elements=e}}function NI(t,e){const n=VI(e);for(const r of t.elements)n.some(s=>Nr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Iu extends Md{constructor(e){super(),this.elements=e}}function OI(t,e){let n=VI(e);for(const r of t.elements)n=n.filter(s=>!Nr(s,r));return{arrayValue:{values:n}}}class ld extends Md{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function wE(t){return mt(t.integerValue||t.doubleValue)}function VI(t){return uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function u3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Su&&s instanceof Su||r instanceof Iu&&s instanceof Iu?Sa(r.elements,s.elements,Nr):r instanceof ld&&s instanceof ld?Nr(r.Ie,s.Ie):r instanceof ad&&s instanceof ad}(t.transform,e.transform)}class c3{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ld{}function MI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jI(t.key,kr.none()):new Fu(t.key,t.data,kr.none());{const n=t.data,r=gn.empty();let s=new Rt(Ut.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new fs(t.key,r,new Rn(s.toArray()),kr.none())}}function h3(t,e,n){t instanceof Fu?function(s,a,l){const c=s.value.clone(),f=TE(s.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(s,a,l){if(!Vh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=TE(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(LI(s)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function lu(t,e,n,r){return t instanceof Fu?function(a,l,c,f){if(!Vh(a.precondition,l))return c;const p=a.value.clone(),g=SE(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof fs?function(a,l,c,f){if(!Vh(a.precondition,l))return c;const p=SE(a.fieldTransforms,f,l),g=l.data;return g.setAll(LI(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,c){return Vh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function d3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=DI(r.transform,s||null);a!=null&&(n===null&&(n=gn.empty()),n.set(r.field,a))}return n||null}function EE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Sa(r,s,(a,l)=>u3(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends Ld{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fs extends Ld{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function LI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function TE(t,e,n){const r=new Map;Ke(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,l3(l,c,n[s]))}return r}function SE(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,a3(a,l,e))}return r}class jI extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f3 extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&h3(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kI();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const f=MI(l,c);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(n,r)=>EE(n,r))&&Sa(this.baseMutations,e.baseMutations,(n,r)=>EE(n,r))}}class fy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ke(e.mutations.length===r.length);let s=function(){return n3}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new fy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function y3(t){switch(t){case re.OK:return Ce();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ce()}}function FI(t){if(t===void 0)return ui("GRPC error has no .code"),re.UNKNOWN;switch(t){case vt.OK:return re.OK;case vt.CANCELLED:return re.CANCELLED;case vt.UNKNOWN:return re.UNKNOWN;case vt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case vt.INTERNAL:return re.INTERNAL;case vt.UNAVAILABLE:return re.UNAVAILABLE;case vt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case vt.NOT_FOUND:return re.NOT_FOUND;case vt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case vt.ABORTED:return re.ABORTED;case vt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case vt.DATA_LOSS:return re.DATA_LOSS;default:return Ce()}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=new Yi([4294967295,4294967295],0);function IE(t){const e=oI().encode(t),n=new ZS;return n.update(e),new Uint8Array(n.digest())}function CE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Yi([n,r],0),new Yi([s,a],0)]}class py{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Yi.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Yi.fromNumber(r)));return s.compare(v3)===1&&(s=new Yi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=IE(e),[r,s]=CE(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new py(a,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const n=IE(e),[r,s]=CE(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jd(xe.min(),s,new ut(Ne),ci(),Me())}}class Uu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uu(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class UI{constructor(e,n){this.targetId=e,this.ge=n}}class BI{constructor(e,n,r=zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class AE{constructor(){this.pe=0,this.ye=RE(),this.we=zt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),n=Me(),r=Me();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce()}}),new Uu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=RE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class _3{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ci(),this.$e=vh(),this.Ue=vh(),this.Ke=new ut(Ne)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const a=s.target;if(Hm(a))if(r===0){const l=new Te(a.path);this.ze(n,l,Yt.newNoDocument(l,xe.min()))}else Ke(r===1);else{const l=this.et(n);if(l!==r){const c=this.tt(e),f=c?this.nt(c,e,l):1;if(f!==0){this.Ye(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=ss(r).toUint8Array()}catch(f){if(f instanceof cI)return Ta("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new py(l,s,a)}catch(f){return Ta(f instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,a,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&Hm(c.target)){const f=new Te(c.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,Yt.newNoDocument(f,e))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let r=Me();this.Ue.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new jd(e,n,this.Ke,this.Qe,r);return this.Qe=ci(),this.$e=vh(),this.Ue=vh(),this.Ke=new ut(Ne),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new AE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rt(Ne),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(Ne),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new AE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function vh(){return new ut(Te.comparator)}function RE(){return new ut(Te.comparator)}const w3={asc:"ASCENDING",desc:"DESCENDING"},E3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T3={and:"AND",or:"OR"};class S3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(t,e){return t.useProto3Json||bd(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I3(t,e){return ud(t,e.toTimestamp())}function br(t){return Ke(!!t),xe.fromTimestamp(function(n){const r=is(n);return new At(r.seconds,r.nanos)}(t))}function my(t,e){return Km(t,e).canonicalString()}function Km(t,e){const n=function(s){return new it(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $I(t){const e=it.fromString(t);return Ke(GI(e)),e}function Gm(t,e){return my(t.databaseId,e.path)}function nm(t,e){const n=$I(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(WI(n))}function HI(t,e){return my(t.databaseId,e)}function C3(t){const e=$I(t);return e.length===4?it.emptyPath():WI(e)}function Qm(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WI(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function PE(t,e,n){return{name:Gm(t,e),fields:n.value.mapValue.fields}}function A3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Ke(g===void 0||typeof g=="string"),zt.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array),zt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?re.UNKNOWN:FI(p.code);return new ve(g,p.message||"")}(l);n=new BI(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=nm(t,r.document.name),a=br(r.document.updateTime),l=r.document.createTime?br(r.document.createTime):xe.min(),c=new gn({mapValue:{fields:r.document.fields}}),f=Yt.newFoundDocument(s,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Mh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=nm(t,r.document),a=r.readTime?br(r.readTime):xe.min(),l=Yt.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Mh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=nm(t,r.document),a=r.removedTargetIds||[];n=new Mh([],a,s,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new g3(s,a),c=r.targetId;n=new UI(c,l)}}return n}function R3(t,e){let n;if(e instanceof Fu)n={update:PE(t,e.key,e.value)};else if(e instanceof jI)n={delete:Gm(t,e.key)};else if(e instanceof fs)n={update:PE(t,e.key,e.data),updateMask:M3(e.fieldMask)};else{if(!(e instanceof f3))return Ce();n={verify:Gm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof ad)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Su)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Iu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ld)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:I3(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce()}(t,e.precondition)),n}function P3(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?br(s.updateTime):br(a);return l.isEqual(xe.min())&&(l=br(a)),new c3(l,s.transformResults||[])}(n,e))):[]}function x3(t,e){return{documents:[HI(t,e.path)]}}function k3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HI(t,s);const a=function(p){if(p.length!==0)return KI(Or.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(w){return{field:ia(w.field),direction:N3(w.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=qm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:s}}function b3(t){let e=C3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ke(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const w=qI(_);return w instanceof Or&&EI(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(w=>function(C){return new od(sa(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(_){let w;return w=typeof _=="object"?_.value:_,bd(w)?null:w}(n.limit));let f=null;n.startAt&&(f=function(_){const w=!!_.before,S=_.values||[];return new sd(S,w)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const w=!_.before,S=_.values||[];return new sd(S,w)}(n.endAt)),YV(e,s,l,a,c,"F",f,p)}function D3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sa(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=sa(n.unaryFilter.field);return Ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sa(n.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=sa(n.unaryFilter.field);return Ct.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(sa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(r=>qI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function N3(t){return w3[t]}function O3(t){return E3[t]}function V3(t){return T3[t]}function ia(t){return{fieldPath:t.canonicalString()}}function sa(t){return Ut.fromServerFormat(t.fieldPath)}function KI(t){return t instanceof Ct?function(n){if(n.op==="=="){if(mE(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NAN"}};if(pE(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mE(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NAN"}};if(pE(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(n.field),op:O3(n.op),value:n.value}}}(t):t instanceof Or?function(n){const r=n.getFilters().map(s=>KI(s));return r.length===1?r[0]:{compositeFilter:{op:V3(n.op),filters:r}}}(t):Ce()}function M3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r,s,a=xe.min(),l=xe.min(),c=zt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.Tt=e}}function j3(t){const e=b3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.Tn=new U3}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(rs.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class U3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Rt(it.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Rt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QI=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(QI,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Aa(0)}static Kn(){return new Aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="LruGarbageCollector",B3=1048576;function bE([t,e],[n,r]){const s=Ne(t,n);return s===0?Ne(e,r):s}class z3{constructor(e){this.Hn=e,this.buffer=new Rt(bE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(kE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){za(n)?he(kE,"Ignoring IndexedDB error during garbage collection: ",n):await Ba(n)}await this.er(3e5)})}}class H3{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(kd.ae);const r=new z3(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(xE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,a,l,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),na()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function W3(t,e){return new H3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&lu(r.mutation,s,Rn.empty(),At.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Xl();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let a=ci();const l=au(),c=function(){return au()}();return n.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof fs)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),lu(g.mutation,p,g.mutation.getFieldMask(),At.now())):l.set(p.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var _;return c.set(p,new K3(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,n){const r=au();let s=new ut((l,c)=>l-c),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||Rn.empty();g=c.applyToLocalView(p,g),r.set(f,g);const _=(s.get(c.batchId)||Me()).add(f);s=s.insert(c.batchId,_)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,_=kI();g.forEach(w=>{if(!a.has(w)){const S=MI(n.get(w),r.get(w));S!==null&&_.set(w,S),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Te.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XV(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):Z.resolve(Gs());let c=_u,f=a;return l.next(p=>Z.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{f=f.insert(g,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Me())).next(g=>({batchId:c,changes:xI(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let s=Xl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Xl();return this.indexManager.getCollectionParents(e,a).next(c=>Z.forEach(c,f=>{const p=function(_,w){return new Nd(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,w)=>{l=l.insert(_,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Yt.newInvalidDocument(g)))});let c=Xl();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&lu(g.mutation,p,Rn.empty(),At.now()),Vd(n,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:br(s.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:j3(s.bundledQuery),readTime:br(s.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this.overlays=new ut(Te.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gs();return Z.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.Et(e,n,a)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const s=Gs(),a=n.length+1,l=new Te(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ut((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Gs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Gs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=s)););return Z.resolve(c)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new m3(n,r));let a=this.Rr.get(n);a===void 0&&(a=Me(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.Vr=new Rt(Nt.mr),this.gr=new Rt(Nt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Nt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Te(new it([])),r=new Nt(n,e),s=new Nt(n,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Te(new it([])),r=new Nt(n,e),s=new Nt(n,e+1);let a=Me();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Nt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Te.comparator(e.key,n.key)||Ne(e.Cr,n.Cr)}static pr(e,n){return Ne(e.Cr,n.Cr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(Nt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new p3(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new Nt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),a=s<0?0:s;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ay:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),s=new Nt(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const c=this.Or(l.Cr);a.push(c)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(Ne);return n.forEach(s=>{const a=new Nt(s,0),l=new Nt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),Z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const l=new Nt(new Te(a),0);let c=new Rt(Ne);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(f.Cr)),!0)},l),Z.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Z.forEach(n.mutations,s=>{const a=new Nt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Nt(n,0),s=this.Mr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.kr=e,this.docs=function(){return new ut(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=ci();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Yt.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=ci();const l=n.path,c=new Te(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||xV(PV(g),r)<=0||(s.has(g.key)||Vd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ce()}qr(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new eM(this)}getSize(e){return Z.resolve(this.size)}}class eM extends q3{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.persistence=e,this.Qr=new ao(n=>cy(n),hy),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new gy,this.targetCount=0,this.Kr=Aa.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Aa(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),Z.waitFor(a).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new kd(0),this.zr=!1,this.zr=!0,this.jr=new X3,this.referenceDelegate=e(this),this.Hr=new tM(this),this.indexManager=new F3,this.remoteDocumentCache=function(s){return new Z3(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new L3(n),this.Yr=new Q3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new J3(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new nM(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,n){return Z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class nM extends bV{constructor(e){super(),this.currentSequenceNumber=e}}class yy{constructor(e){this.persistence=e,this.ti=new gy,this.ni=null}static ri(e){return new yy(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,r=>{const s=Te.fromPath(r);return this.si(e,s).next(a=>{a||n.removeEntry(s,xe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class cd{constructor(e,n){this.persistence=e,this.oi=new ao(r=>OV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=W3(this,n)}static ri(e,n){return new cd(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?Z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,n).next(c=>{c||(r++,a.removeEntry(l,xe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nh(e.data.value)),n}ar(e,n,r){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Me(),s=Me();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new vy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return FD()?8:DV(Zt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new rM;return this._s(e,n,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,n,l,c.size)})}).next(()=>a.result)}us(e,n,r,s){return r.documentReadCount<this.es?(na()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(na()<=Ve.DEBUG&&he("QueryEngine","Query:",ra(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(na()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):Z.resolve())}rs(e,n){if(_E(n))return Z.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Wm(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Me(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(n,c);return this.ls(n,p,l,f.readTime)?this.rs(e,Wm(n,null,"F")):this.hs(e,p,n,f)}))})))}ss(e,n,r,s){return _E(n)||s.isEqual(xe.min())?Z.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(n,a);return this.ls(n,l,r,s)?Z.resolve(null):(na()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ra(n)),this.hs(e,l,n,RV(s,_u)).next(c=>c))})}cs(e,n){let r=new Rt(RI(e));return n.forEach((s,a)=>{Vd(e,a)&&(r=r.add(a))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,n,r){return na()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ra(n)),this.ns.getDocumentsMatchingQuery(e,n,rs.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="LocalStore",sM=3e8;class oM{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new ut(Ne),this.Is=new ao(a=>cy(a),hy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G3(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function aM(t,e,n,r){return new oM(t,e,n,r)}async function XI(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=Me();for(const p of s){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function lM(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const _=p.batch,w=_.keys();let S=Z.resolve();return w.forEach(C=>{S=S.next(()=>g.getEntry(f,C)).next(x=>{const P=p.docVersions.get(C);Ke(P!==null),x.version.compareTo(P)<0&&(_.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Me();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function JI(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function uM(t,e){const n=ke(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const c=[];e.targetChanges.forEach((g,_)=>{const w=s.get(_);if(!w)return;c.push(n.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(a,g.addedDocuments,_)));let S=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(zt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(_,S),function(x,P,M){return x.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=sM?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(w,S,g)&&c.push(n.Hr.updateTargetData(a,S))});let f=ci(),p=Me();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(cM(a,l,e.documentUpdates).next(g=>{f=g.Vs,p=g.fs})),!r.isEqual(xe.min())){const g=n.Hr.getLastRemoteSnapshotVersion(a).next(_=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return Z.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ts=s,a))}function cM(t,e,n){let r=Me(),s=Me();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=ci();return n.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(xe.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):he(_y,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:s}})}function hM(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ay),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dM(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(a=>a?(s=a,Z.resolve(s)):n.Hr.allocateTargetId(r).next(l=>(s=new Wi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Ym(t,e,n){const r=ke(t),s=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!za(l))throw l;he(_y,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function DE(t,e,n){const r=ke(t);let s=xe.min(),a=Me();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=ke(f),w=_.Is.get(g);return w!==void 0?Z.resolve(_.Ts.get(w)):_.Hr.getTargetData(p,g)}(r,l,xr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?s:xe.min(),n?a:Me())).next(c=>(fM(r,ZV(e),c),{documents:c,gs:a})))}function fM(t,e,n){let r=t.Es.get(e)||xe.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class NE{constructor(){this.activeTargetIds=s3()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pM{constructor(){this.ho=new NE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new NE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="ConnectivityMonitor";class VE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(OE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(OE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function Xm(){return _h===null?_h=function(){return 268435456+Math.round(2147483648*Math.random())}():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="RestConnection",gM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===rd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,a){const l=Xm(),c=this.bo(e,n.toUriEncodedString());he(rm,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,s,a),this.vo(e,c,f,r).then(p=>(he(rm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Ta(rm,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,n,r,s,a,l){return this.So(e,n,r,s,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,n){const r=gM[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class _M extends yM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const a=Xm();return new Promise((l,c)=>{const f=new eI;f.setWithCredentials(!0),f.listenOnce(tI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Dh.NO_ERROR:const g=f.getResponseJson();he(Kt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Dh.TIMEOUT:he(Kt,`RPC '${e}' ${a} timed out`),c(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const _=f.getStatus();if(he(Kt,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const C=function(P){const M=P.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(M)>=0?M:re.UNKNOWN}(S.status);c(new ve(C,S.message))}else c(new ve(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ve(re.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{he(Kt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);he(Kt,`RPC '${e}' ${a} sending request:`,s),f.send(n,"POST",p,r,15)})}Wo(e,n,r){const s=Xm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=iI(),c=rI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");he(Kt,`Creating RPC '${e}' stream ${s}: ${g}`,f);const _=l.createWebChannel(g,f);let w=!1,S=!1;const C=new vM({Fo:P=>{S?he(Kt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(w||(he(Kt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),w=!0),he(Kt,`RPC '${e}' stream ${s} sending:`,P),_.send(P))},Mo:()=>_.close()}),x=(P,M,j)=>{P.listen(M,z=>{try{j(z)}catch(J){setTimeout(()=>{throw J},0)}})};return x(_,Yl.EventType.OPEN,()=>{S||(he(Kt,`RPC '${e}' stream ${s} transport opened.`),C.Qo())}),x(_,Yl.EventType.CLOSE,()=>{S||(S=!0,he(Kt,`RPC '${e}' stream ${s} transport closed`),C.Uo())}),x(_,Yl.EventType.ERROR,P=>{S||(S=!0,Ta(Kt,`RPC '${e}' stream ${s} transport errored:`,P),C.Uo(new ve(re.UNAVAILABLE,"The operation could not be completed")))}),x(_,Yl.EventType.MESSAGE,P=>{var M;if(!S){const j=P.data[0];Ke(!!j);const z=j,J=(z==null?void 0:z.error)||((M=z[0])===null||M===void 0?void 0:M.error);if(J){he(Kt,`RPC '${e}' stream ${s} received error:`,J);const G=J.status;let ee=function(k){const O=vt[k];if(O!==void 0)return FI(O)}(G),D=J.message;ee===void 0&&(ee=re.INTERNAL,D="Unknown error status: "+G+" with message "+J.message),S=!0,C.Uo(new ve(ee,D)),_.close()}else he(Kt,`RPC '${e}' stream ${s} received:`,j),C.Ko(j)}}),x(c,nI.STAT_EVENT,P=>{P.stat===Fm.PROXY?he(Kt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===Fm.NOPROXY&&he(Kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return new S3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="PersistentStream";class eC{constructor(e,n,r,s,a,l,c,f){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ZI(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new ve(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(ME,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(ME,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wM extends eC{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=A3(this.serializer,e),r=function(a){if(!("targetChange"in a))return xe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?xe.min():l.readTime?br(l.readTime):xe.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=function(a,l){let c;const f=l.target;if(c=Hm(f)?{documents:x3(a,f)}:{query:k3(a,f).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=zI(a,l.resumeToken);const p=qm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(xe.min())>0){c.readTime=ud(a,l.snapshotVersion.toTimestamp());const p=qm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=D3(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.I_(n)}}class EM extends eC{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=P3(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Qm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>R3(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{}class SM extends TM{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Km(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(re.UNKNOWN,a.toString())})}Co(e,n,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,Km(n,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(re.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class IM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ui(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class CM{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{lo(this)&&(he(ro,"Restarting streams for network reachability change."),await async function(f){const p=ke(f);p.W_.add(4),await Bu(p),p.j_.set("Unknown"),p.W_.delete(4),await Ud(p)}(this))})}),this.j_=new IM(r,s)}}async function Ud(t){if(lo(t))for(const e of t.G_)await e(!0)}async function Bu(t){for(const e of t.G_)await e(!1)}function tC(t,e){const n=ke(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Sy(n)?Ty(n):$a(n).c_()&&Ey(n,e))}function wy(t,e){const n=ke(t),r=$a(n);n.K_.delete(e),r.c_()&&nC(n,e),n.K_.size===0&&(r.c_()?r.P_():lo(n)&&n.j_.set("Unknown"))}function Ey(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$a(t).y_(e)}function nC(t,e){t.H_.Ne(e),$a(t).w_(e)}function Ty(t){t.H_=new _3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),$a(t).start(),t.j_.B_()}function Sy(t){return lo(t)&&!$a(t).u_()&&t.K_.size>0}function lo(t){return ke(t).W_.size===0}function rC(t){t.H_=void 0}async function AM(t){t.j_.set("Online")}async function RM(t){t.K_.forEach((e,n)=>{Ey(t,e)})}async function PM(t,e){rC(t),Sy(t)?(t.j_.q_(e),Ty(t)):t.j_.set("Unknown")}async function xM(t,e,n){if(t.j_.set("Online"),e instanceof BI&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.K_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.K_.delete(c),s.H_.removeTarget(c))}(t,e)}catch(r){he(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hd(t,r)}else if(e instanceof Mh?t.H_.We(e):e instanceof UI?t.H_.Ze(e):t.H_.je(e),!n.isEqual(xe.min()))try{const r=await JI(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.K_.get(p);g&&a.K_.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.K_.get(f);if(!g)return;a.K_.set(f,g.withResumeToken(zt.EMPTY_BYTE_STRING,g.snapshotVersion)),nC(a,f);const _=new Wi(g.target,f,p,g.sequenceNumber);Ey(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){he(ro,"Failed to raise snapshot:",r),await hd(t,r)}}async function hd(t,e,n){if(!za(e))throw e;t.W_.add(1),await Bu(t),t.j_.set("Offline"),n||(n=()=>JI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(ro,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Ud(t)})}function iC(t,e){return e().catch(n=>hd(t,n,e))}async function Bd(t){const e=ke(t),n=as(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:ay;for(;kM(e);)try{const s=await hM(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,bM(e,s)}catch(s){await hd(e,s)}sC(e)&&oC(e)}function kM(t){return lo(t)&&t.U_.length<10}function bM(t,e){t.U_.push(e);const n=as(t);n.c_()&&n.S_&&n.b_(e.mutations)}function sC(t){return lo(t)&&!as(t).u_()&&t.U_.length>0}function oC(t){as(t).start()}async function DM(t){as(t).C_()}async function NM(t){const e=as(t);for(const n of t.U_)e.b_(n.mutations)}async function OM(t,e,n){const r=t.U_.shift(),s=fy.from(r,e,n);await iC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Bd(t)}async function VM(t,e){e&&as(t).S_&&await async function(r,s){if(function(l){return y3(l)&&l!==re.ABORTED}(s.code)){const a=r.U_.shift();as(r).h_(),await iC(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Bd(r)}}(t,e),sC(t)&&oC(t)}async function LE(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),he(ro,"RemoteStore received new credentials");const r=lo(n);n.W_.add(3),await Bu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Ud(n)}async function MM(t,e){const n=ke(t);e?(n.W_.delete(2),await Ud(n)):e||(n.W_.add(2),await Bu(n),n.j_.set("Unknown"))}function $a(t){return t.J_||(t.J_=function(n,r,s){const a=ke(n);return a.M_(),new wM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:AM.bind(null,t),No:RM.bind(null,t),Lo:PM.bind(null,t),p_:xM.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Sy(t)?Ty(t):t.j_.set("Unknown")):(await t.J_.stop(),rC(t))})),t.J_}function as(t){return t.Y_||(t.Y_=function(n,r,s){const a=ke(n);return a.M_(),new EM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:DM.bind(null,t),Lo:VM.bind(null,t),D_:NM.bind(null,t),v_:OM.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Bd(t)):(await t.Y_.stop(),t.U_.length>0&&(he(ro,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new Iy(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(t,e){if(ui("AsyncQueue",`${e}: ${t}`),za(t))return new ve(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{static emptySet(e){return new ga(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=Xl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.Z_=new ut(Te.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ra{constructor(e,n,r,s,a,l,c,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Ra(e,n,ga.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class jM{constructor(){this.queries=FE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=ke(n),a=s.queries;s.queries=FE(),a.forEach((l,c)=>{for(const f of c.ta)f.onError(r)})})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function FE(){return new ao(t=>AI(t),Od)}async function FM(t,e){const n=ke(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new LM,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Cy(l,`Initialization of query '${ra(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&Ay(n)}async function UM(t,e){const n=ke(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BM(t,e){const n=ke(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.ta)c.oa(s)&&(r=!0);l.ea=s}}r&&Ay(n)}function zM(t,e,n){const r=ke(t),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(n);r.queries.delete(e)}function Ay(t){t.ia.forEach(e=>{e.next()})}var Jm,UE;(UE=Jm||(Jm={}))._a="default",UE.Cache="cache";class $M{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.key=e}}class lC{constructor(e){this.key=e}}class HM{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=RI(e),this.wa=new ga(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new jE,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const w=s.get(g),S=Vd(this.query,_)?_:null,C=!!w&&this.mutatedKeys.has(w.key),x=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;w&&S?w.data.isEqual(S.data)?C!==x&&(r.track({type:3,doc:S}),P=!0):this.va(w,S)||(r.track({type:2,doc:S}),P=!0,(f&&this.ya(S,f)>0||p&&this.ya(S,p)<0)&&(c=!0)):!w&&S?(r.track({type:0,doc:S}),P=!0):w&&!S&&(r.track({type:1,doc:w}),P=!0,(f||p)&&(c=!0)),P&&(S?(l=l.add(S),a=x?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(S,C){const x=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return x(S)-x(C)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),s=s!=null&&s;const c=n&&!s?this.Fa():[],f=this.pa.size===0&&this.current&&!s?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new Ra(this.query,e.wa,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new jE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new lC(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new aC(r))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ra.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ry="SyncEngine";class WM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qM{constructor(e){this.key=e,this.Ba=!1}}class KM{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new ao(c=>AI(c),Od),this.qa=new Map,this.Qa=new Set,this.$a=new ut(Te.comparator),this.Ua=new Map,this.Ka=new gy,this.Wa={},this.Ga=new Map,this.za=Aa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GM(t,e,n=!0){const r=pC(t);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await uC(r,e,n,!0),s}async function QM(t,e){const n=pC(t);await uC(n,e,!0,!1)}async function uC(t,e,n,r){const s=await dM(t.localStore,xr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await YM(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&tC(t.remoteStore,s),c}async function YM(t,e,n,r,s){t.Ha=(_,w,S)=>async function(x,P,M,j){let z=P.view.ba(M);z.ls&&(z=await DE(x.localStore,P.query,!1).then(({documents:D})=>P.view.ba(D,z)));const J=j&&j.targetChanges.get(P.targetId),G=j&&j.targetMismatches.get(P.targetId)!=null,ee=P.view.applyChanges(z,x.isPrimaryClient,J,G);return zE(x,P.targetId,ee.Ma),ee.snapshot}(t,_,w,S);const a=await DE(t.localStore,e,!0),l=new HM(e,a.gs),c=l.ba(a.documents),f=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,f);zE(t,n,p.Ma);const g=new WM(e,n,l);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function XM(t,e,n){const r=ke(t),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!Od(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ym(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wy(r.remoteStore,s.targetId),Zm(r,s.targetId)}).catch(Ba)):(Zm(r,s.targetId),await Ym(r.localStore,s.targetId,!0))}async function JM(t,e){const n=ke(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wy(n.remoteStore,r.targetId))}async function ZM(t,e,n){const r=oL(t);try{const s=await function(l,c){const f=ke(l),p=At.now(),g=c.reduce((S,C)=>S.add(C.key),Me());let _,w;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let C=ci(),x=Me();return f.ds.getEntries(S,g).next(P=>{C=P,C.forEach((M,j)=>{j.isValidDocument()||(x=x.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,C)).next(P=>{_=P;const M=[];for(const j of c){const z=d3(j,_.get(j.key).overlayedDocument);z!=null&&M.push(new fs(j.key,z,vI(z.value.mapValue),kr.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,M,c)}).next(P=>{w=P;const M=P.applyToLocalDocumentSet(_,x);return f.documentOverlayCache.saveOverlays(S,P.batchId,M)})}).then(()=>({batchId:w.batchId,changes:xI(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new ut(Ne)),p=p.insert(c,f),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,n),await zu(r,s.changes),await Bd(r.remoteStore)}catch(s){const a=Cy(s,"Failed to persist write");n.reject(a)}}async function cC(t,e){const n=ke(t);try{const r=await uM(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Ua.get(a);l&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?Ke(l.Ba):s.removedDocuments.size>0&&(Ke(l.Ba),l.Ba=!1))}),await zu(n,r,e)}catch(r){await Ba(r)}}function BE(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const f=ke(l);f.onlineState=c;let p=!1;f.queries.forEach((g,_)=>{for(const w of _.ta)w.sa(c)&&(p=!0)}),p&&Ay(f)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eL(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),a=s&&s.key;if(a){let l=new ut(Te.comparator);l=l.insert(a,Yt.newNoDocument(a,xe.min()));const c=Me().add(a),f=new jd(xe.min(),new Map,new ut(Ne),l,c);await cC(r,f),r.$a=r.$a.remove(a),r.Ua.delete(e),Py(r)}else await Ym(r.localStore,e,!1).then(()=>Zm(r,e,n)).catch(Ba)}async function tL(t,e){const n=ke(t),r=e.batch.batchId;try{const s=await lM(n.localStore,e);dC(n,r,null),hC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zu(n,s)}catch(s){await Ba(s)}}async function nL(t,e,n){const r=ke(t);try{const s=await function(l,c){const f=ke(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(Ke(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);dC(r,e,n),hC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zu(r,s)}catch(s){await Ba(s)}}function hC(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function dC(t,e,n){const r=ke(t);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Zm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||fC(t,r)})}function fC(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(wy(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Py(t))}function zE(t,e,n){for(const r of n)r instanceof aC?(t.Ka.addReference(r.key,e),rL(t,r)):r instanceof lC?(he(Ry,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||fC(t,r.key)):Ce()}function rL(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(he(Ry,"New document in limbo: "+n),t.Qa.add(r),Py(t))}function Py(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Te(it.fromString(e)),r=t.za.next();t.Ua.set(r,new qM(n)),t.$a=t.$a.insert(n,r),tC(t.remoteStore,new Wi(xr(CI(n.path)),r,"TargetPurposeLimboResolution",kd.ae))}}async function zu(t,e,n){const r=ke(t),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{l.push(r.Ha(f,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){s.push(p);const _=vy.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(s),await async function(f,p){const g=ke(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Z.forEach(p,w=>Z.forEach(w.Hi,S=>g.persistence.referenceDelegate.addReference(_,w.targetId,S)).next(()=>Z.forEach(w.Ji,S=>g.persistence.referenceDelegate.removeReference(_,w.targetId,S)))))}catch(_){if(!za(_))throw _;he(_y,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const S=g.Ts.get(w),C=S.snapshotVersion,x=S.withLastLimboFreeSnapshotVersion(C);g.Ts=g.Ts.insert(w,x)}}}(r.localStore,a))}async function iL(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){he(Ry,"User change. New user:",e.toKey());const r=await XI(n.localStore,e);n.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(f=>{f.reject(new ve(re.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zu(n,r.Rs)}}function sL(t,e){const n=ke(t),r=n.Ua.get(e);if(r&&r.Ba)return Me().add(r.key);{let s=Me();const a=n.qa.get(e);if(!a)return s;for(const l of a){const c=n.ka.get(l);s=s.unionWith(c.view.Sa)}return s}}function pC(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eL.bind(null,e),e.La.p_=BM.bind(null,e.eventManager),e.La.Ja=zM.bind(null,e.eventManager),e}function oL(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nL.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return aM(this.persistence,new iM,e.initialUser,this.serializer)}Xa(e){return new YI(yy.ri,this.serializer)}Za(e){return new pM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class aL extends dd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof cd);const r=this.persistence.referenceDelegate.garbageCollector;return new $3(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new YI(r=>cd.ri(r,n),this.serializer)}}class eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iL.bind(null,this.syncEngine),await MM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jM}()}createDatastore(e){const n=Fd(e.databaseInfo.databaseId),r=function(a){return new _M(a)}(e.databaseInfo);return function(a,l,c,f){return new SM(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,c){return new CM(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>BE(this.syncEngine,n,0),function(){return VE.D()?new VE:new mM}())}createSyncEngine(e,n){return function(s,a,l,c,f,p,g){const _=new KM(s,a,l,c,f,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=ke(s);he(ro,"RemoteStore shutting down."),a.W_.add(5),await Bu(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}eg.provider={build:()=>new eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class uL{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Qt.UNAUTHENTICATED,this.clientId=aI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{he(ls,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(he(ls,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sm(t,e){t.asyncQueue.verifyOperationInProgress(),he(ls,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await XI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $E(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cL(t);he(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>LE(e.remoteStore,s)),t._onlineComponents=e}async function cL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(ls,"Using user provided OfflineComponentProvider");try{await sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ta("Error using user provided cache. Falling back to memory cache: "+n),await sm(t,new dd)}}else he(ls,"Using default OfflineComponentProvider"),await sm(t,new aL(void 0));return t._offlineComponents}async function mC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(ls,"Using user provided OnlineComponentProvider"),await $E(t,t._uninitializedComponentsProvider._online)):(he(ls,"Using default OnlineComponentProvider"),await $E(t,new eg))),t._onlineComponents}function hL(t){return mC(t).then(e=>e.syncEngine)}async function dL(t){const e=await mC(t),n=e.eventManager;return n.onListen=GM.bind(null,e.syncEngine),n.onUnlisten=XM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JM.bind(null,e.syncEngine),n}function fL(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new lL({next:w=>{g.su(),l.enqueueAndForget(()=>UM(a,_)),w.fromCache&&f.source==="server"?p.reject(new ve(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new $M(c,g,{includeMetadataChanges:!0,Ta:!0});return FM(a,_)}(await dL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e,n){if(!n)throw new ve(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pL(t,e,n,r){if(e===!0&&r===!0)throw new ve(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function WE(t){if(!Te.isDocumentKey(t))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qE(t){if(Te.isDocumentKey(t))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function Pa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xy(t);throw new ve(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="firestore.googleapis.com",KE=!0;class GE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vC,this.ssl=KE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:KE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B3)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vV;switch(r.type){case"firstParty":return new TV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=HE.get(n);r&&(he("ComponentProvider","Removing Datastore"),HE.delete(n),r.terminate())}(this),Promise.resolve()}}function mL(t,e,n,r={}){var s;const a=(t=Pa(t,zd))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a.host!==vC&&a.host!==c&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!Zs(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Qt.MOCK_USER;else{p=DD(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Qt(_)}t._authCredentials=new _V(new sI(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $d(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Ji extends $d{constructor(e,n,r){super(e,n,CI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Te(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function $u(t,e,...n){if(t=Bt(t),yC("collection","path",e),t instanceof zd){const r=it.fromString(e,...n);return qE(r),new Ji(t,null,r)}{if(!(t instanceof Wn||t instanceof Ji))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return qE(r),new Ji(t.firestore,null,r)}}function _C(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=aI.newId()),yC("doc","path",e),t instanceof zd){const r=it.fromString(e,...n);return WE(r),new Wn(t,null,new Te(r))}{if(!(t instanceof Wn||t instanceof Ji))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return WE(r),new Wn(t.firestore,t instanceof Ji?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="AsyncQueue";class YE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ZI(this,"async_queue_retry"),this.Su=()=>{const r=im();r&&he(QE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Xi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!za(e))throw e;he(QE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw ui("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=Iy.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Hd extends zd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new YE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YE(e),this._firestoreClient=void 0,await e}}}function gL(t,e){const n=typeof t=="object"?t:gS(),r=typeof t=="string"?t:rd,s=Yg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=kD("firestore");a&&mL(s,...a)}return s}function wC(t){if(t._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yL(t),t._firestoreClient}function yL(t){var e,n,r;const s=t._freezeSettings(),a=function(c,f,p,g){return new LV(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,gC(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new uL(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xa(zt.fromBase64String(e))}catch(n){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xa(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=/^__.*__$/;class _L{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class EC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Ny{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ny(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return fd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(TC(this.Lu)&&vL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class wL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fd(e)}ju(e,n,r,s=!1){return new Ny({Lu:e,methodName:n,zu:r,path:Ut.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SC(t){const e=t._freezeSettings(),n=Fd(t._databaseId);return new wL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EL(t,e,n,r,s,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,n,s);Oy("Data must be an object, but it was:",l,r);const c=IC(r,l);let f,p;if(a.merge)f=new Rn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const w=tg(e,_,n);if(!l.contains(w))throw new ve(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);AC(g,w)||g.push(w)}f=new Rn(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new _L(new gn(c),f,p)}class qd extends ky{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qd}}function TL(t,e,n,r){const s=t.ju(1,e,n);Oy("Data must be an object, but it was:",s,r);const a=[],l=gn.empty();ds(r,(f,p)=>{const g=Vy(e,f,n);p=Bt(p);const _=s.Uu(g);if(p instanceof qd)a.push(g);else{const w=Kd(p,_);w!=null&&(a.push(g),l.set(g,w))}});const c=new Rn(a);return new EC(l,c,s.fieldTransforms)}function SL(t,e,n,r,s,a){const l=t.ju(1,e,n),c=[tg(e,r,n)],f=[s];if(a.length%2!=0)throw new ve(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)c.push(tg(e,a[w])),f.push(a[w+1]);const p=[],g=gn.empty();for(let w=c.length-1;w>=0;--w)if(!AC(p,c[w])){const S=c[w];let C=f[w];C=Bt(C);const x=l.Uu(S);if(C instanceof qd)p.push(S);else{const P=Kd(C,x);P!=null&&(p.push(S),g.set(S,P))}}const _=new Rn(p);return new EC(g,_,l.fieldTransforms)}function Kd(t,e){if(CC(t=Bt(t)))return Oy("Unsupported field value:",e,t),IC(t,e);if(t instanceof ky)return function(r,s){if(!TC(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let f=Kd(c,s.Ku(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=At.fromDate(r);return{timestampValue:ud(s.serializer,a)}}if(r instanceof At){const a=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ud(s.serializer,a)}}if(r instanceof by)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xa)return{bytesValue:zI(s.serializer,r._byteString)};if(r instanceof Wn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:my(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Dy)return function(l,c){return{mapValue:{fields:{[mI]:{stringValue:yI},[id]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return dy(c.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${xy(r)}`)}(t,e)}function IC(t,e){const n={};return uI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(t,(r,s)=>{const a=Kd(s,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function CC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof by||t instanceof xa||t instanceof Wn||t instanceof ky||t instanceof Dy)}function Oy(t,e,n){if(!CC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=xy(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function tg(t,e,n){if((e=Bt(e))instanceof Wd)return e._internalPath;if(typeof e=="string")return Vy(t,e);throw fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const IL=new RegExp("[~\\*/\\[\\]]");function Vy(t,e,n){if(e.search(IL)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wd(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fd(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new ve(re.INVALID_ARGUMENT,c+t+f)}function AC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CL extends RC{data(){return super.data()}}function PC(t,e){return typeof e=="string"?Vy(t,e):e instanceof Wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RL{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ds(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[id].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>mt(l.doubleValue));return new Dy(a)}convertGeoPoint(e){return new by(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=is(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ke(GI(r));const s=new Eu(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return s.isEqual(n)||ui(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xL extends RC{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(PC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lh extends xL{data(e={}){return super.data(e)}}class kL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new wh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lh(this._firestore,this._userDataWriter,r.key,r,new wh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const f=new Lh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new wh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new Lh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new wh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:bL(c.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class DL extends RL{constructor(e){super(),this.firestore=e}convertBytes(e){return new xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function Gd(t){t=Pa(t,$d);const e=Pa(t.firestore,Hd),n=wC(e),r=new DL(e);return AL(t._query),fL(n,t._query).then(s=>new kL(e,r,t,s))}function NL(t,e,n,...r){t=Pa(t,Wn);const s=Pa(t.firestore,Hd),a=SC(s);let l;return l=typeof(e=Bt(e))=="string"||e instanceof Wd?SL(a,"updateDoc",t._key,e,n,r):TL(a,"updateDoc",t._key,e),xC(s,[l.toMutation(t._key,kr.exists(!0))])}function OL(t,e){const n=Pa(t.firestore,Hd),r=_C(t),s=PL(t.converter,e);return xC(n,[EL(SC(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}function xC(t,e){return function(r,s){const a=new Xi;return r.asyncQueue.enqueueAndForget(async()=>ZM(await hL(r),s,a)),a.promise}(wC(t),e)}(function(e,n=!0){(function(s){Ua=s})(Ma),wa(new eo("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Hd(new wV(r.getProvider("auth-internal")),new SV(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Gi(nE,rE,e),Gi(nE,rE,"esm2017")})();const VL={apiKey:"AIzaSyAcNbE3xaJX-I_Pr8vhc5c4vZ55WCrXUDI",authDomain:"shiv-portfolio-47ce9.firebaseapp.com",projectId:"shiv-portfolio-47ce9",storageBucket:"shiv-portfolio-47ce9.firebasestorage.app",messagingSenderId:"255250938014",appId:"1:255250938014:web:9ffd8e25847e604d2c638f",measurementId:"G-641WB6JY66"},kC=mS(VL),My=pV(kC),ka=gL(kC),ML=()=>{let t={"/":"<shiv/>","/about":"#about","/projects":"#project","/skills":"#skills","/contactMe":"#contactMe","/experience":"#experience"};const e=b.useContext(Fa),n=b.useContext(cs),r=di(),s=l=>{console.log(l.target.href),console.log(l.target.value)};let a=t[r.pathname];return I.jsxs(I.Fragment,{children:[" ",I.jsx("div",{className:"navbar",style:{height:100},children:I.jsx($e.div,{className:"logo-mob",initial:{opacity:0},animate:{opacity:1},end:{opacity:0},children:a})}),I.jsxs("div",{className:`navbar${n?"-mob":""}`,children:[I.jsx($e.div,{className:"logo",initial:{opacity:0},animate:{opacity:1},end:{opacity:0},children:a}),I.jsx("div",{className:`list-container${n?"-mob":""}`,children:n?I.jsxs(I.Fragment,{children:[I.jsx($e.div,{initial:{opacity:1},whileTap:{scale:.9},transition:{type:"spring"},id:"homeBut",children:I.jsx(pn,{to:"/",onClick:s,value:"<shiv/>",children:I.jsx("div",{children:I.jsx("i",{className:"fa-solid fa-house",style:{color:"black"}})})})}),I.jsxs("ul",{children:[I.jsx("li",{children:I.jsx(pn,{to:"/about",onClick:s,value:"#about",children:I.jsx($e.div,{initial:{opacity:1},whileTap:{scale:.9},transition:{type:"spring"},children:I.jsx("i",{className:"fa-solid fa-circle-user"})})})}),I.jsx("li",{children:I.jsx(pn,{to:"/projects",onClick:s,children:I.jsx($e.div,{initial:{opacity:1},whileTap:{scale:.9},transition:{type:"spring"},children:I.jsx("i",{className:"fa-solid fa-diagram-project"})})})}),I.jsx("li",{children:I.jsx(pn,{to:"/skills",onClick:s,children:I.jsx($e.div,{initial:{opacity:1},whileTap:{scale:.9},transition:{type:"spring"},children:I.jsx("i",{className:"fa-solid fa-user-gear"})})})}),I.jsx("li",{children:I.jsx(pn,{to:"/experience",onClick:s,children:I.jsx($e.div,{initial:{opacity:1},whileTap:{scale:.9},transition:{type:"spring"},children:I.jsx("i",{className:"fa-solid fa-brain"})})})}),I.jsx("li",{children:I.jsx(pn,{to:"/contactMe",onClick:s,children:I.jsx($e.div,{initial:{opacity:1},whileTap:{scale:.9},transition:{type:"spring"},children:I.jsx("i",{className:"fa-solid fa-address-book"})})})})]})]}):I.jsxs("ul",{children:[I.jsx("li",{children:I.jsx(pn,{to:"/",onClick:s,value:"<shiv/>",children:"Home"})}),I.jsx("li",{children:I.jsx(pn,{to:"/about",onClick:s,value:"#about",children:"About"})}),I.jsx("li",{children:I.jsx(pn,{to:"/projects",onClick:s,children:"Projects"})}),I.jsx("li",{children:I.jsx(pn,{to:"/skills",onClick:s,children:"Skills"})}),I.jsx("li",{children:I.jsx(pn,{to:"/experience",onClick:s,children:"Experience"})}),I.jsx("li",{children:I.jsx(pn,{to:"/contactMe",onClick:s,children:"Contact"})}),e.user!=null&&I.jsx("li",{children:I.jsx("button",{onClick:async()=>{await rO(My),console.log("User signed out")},children:"SignOut"})})]})})]})]})},bC=({image:t,width:e,height:n})=>I.jsxs("div",{className:"flex justify-center items-center w-full h-screen relative",children:[I.jsx($e.div,{className:"absolute inset-0 w-full h-full bg-blue-400 rounded-lg blur-3xl opacity-50",animate:{scale:[1,1.2,1],opacity:[.5,.7,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),I.jsx($e.img,{src:t,alt:"Floating Image",className:"relative w-64 h-64 object-cover rounded-full border-2 border-blue-400 shadow-2xl",animate:{y:[0,-20,0],boxShadow:["0px 0px 20px rgba(0, 255, 255, 0.5)","0px 0px 40px rgba(0, 255, 255, 0.8)","0px 0px 20px rgba(0, 255, 255, 0.5)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{width:e||"256px",height:n||"306px",objectFit:"cover"}})]}),DC=sn.createContext({}),NC=!0;function LL({baseColor:t,highlightColor:e,width:n,height:r,borderRadius:s,circle:a,direction:l,duration:c,enableAnimation:f=NC,customHighlightBackground:p}){const g={};return l==="rtl"&&(g["--animation-direction"]="reverse"),typeof c=="number"&&(g["--animation-duration"]=`${c}s`),f||(g["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(g.width=n),(typeof r=="string"||typeof r=="number")&&(g.height=r),(typeof s=="string"||typeof s=="number")&&(g.borderRadius=s),a&&(g.borderRadius="50%"),typeof t<"u"&&(g["--base-color"]=t),typeof e<"u"&&(g["--highlight-color"]=e),typeof p=="string"&&(g["--custom-highlight-background"]=p),g}function yn({count:t=1,wrapper:e,className:n,containerClassName:r,containerTestId:s,circle:a=!1,style:l,...c}){var f,p,g;const _=sn.useContext(DC),w={...c};for(const[z,J]of Object.entries(c))typeof J>"u"&&delete w[z];const S={..._,...w,circle:a},C={...l,...LL(S)};let x="react-loading-skeleton";n&&(x+=` ${n}`);const P=(f=S.inline)!==null&&f!==void 0?f:!1,M=[],j=Math.ceil(t);for(let z=0;z<j;z++){let J=C;if(j>t&&z===j-1){const ee=(p=J.width)!==null&&p!==void 0?p:"100%",D=t%1,R=typeof ee=="number"?ee*D:`calc(${ee} * ${D})`;J={...J,width:R}}const G=sn.createElement("span",{className:x,style:J,key:z},"‌");P?M.push(G):M.push(sn.createElement(sn.Fragment,{key:z},G,sn.createElement("br",null)))}return sn.createElement("span",{className:r,"data-testid":s,"aria-live":"polite","aria-busy":(g=S.enableAnimation)!==null&&g!==void 0?g:NC},e?M.map((z,J)=>sn.createElement(e,{key:J},z)):M)}function Hn({children:t,...e}){return sn.createElement(DC.Provider,{value:e},t)}function jL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function JE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XE(Object(n),!0).forEach(function(r){jL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FL(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function UL(t,e){if(t==null)return{};var n=FL(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BL(t,e){return zL(t)||$L(t,e)||HL(t,e)||WL()}function zL(t){if(Array.isArray(t))return t}function $L(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,s=!1,a=void 0;try{for(var l=t[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(f){s=!0,a=f}finally{try{!r&&l.return!=null&&l.return()}finally{if(s)throw a}}return n}}function HL(t,e){if(t){if(typeof t=="string")return ZE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZE(t,e)}}function ZE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function t1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(n),!0).forEach(function(r){qL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(s,a){return a(s)},r)}}function Zl(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return s.length>=t.length?t.apply(this,s):function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];return e.apply(n,[].concat(s,c))}}}function pd(t){return{}.toString.call(t).includes("Object")}function GL(t){return!Object.keys(t).length}function Cu(t){return typeof t=="function"}function QL(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function YL(t,e){return pd(e)||Zi("changeType"),Object.keys(e).some(function(n){return!QL(t,n)})&&Zi("changeField"),e}function XL(t){Cu(t)||Zi("selectorType")}function JL(t){Cu(t)||pd(t)||Zi("handlerType"),pd(t)&&Object.values(t).some(function(e){return!Cu(e)})&&Zi("handlersType")}function ZL(t){t||Zi("initialIsRequired"),pd(t)||Zi("initialType"),GL(t)&&Zi("initialContent")}function e5(t,e){throw new Error(t[e]||t.default)}var t5={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Zi=Zl(e5)(t5),Eh={changes:YL,selector:XL,handler:JL,initial:ZL};function n5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Eh.initial(t),Eh.handler(e);var n={current:t},r=Zl(s5)(n,e),s=Zl(i5)(n),a=Zl(Eh.changes)(t),l=Zl(r5)(n);function c(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(g){return g};return Eh.selector(p),p(n.current)}function f(p){KL(r,s,a,l)(p)}return[c,f]}function r5(t,e){return Cu(e)?e(t.current):e}function i5(t,e){return t.current=t1(t1({},t.current),e),e}function s5(t,e,n){return Cu(e)?e(t.current):Object.keys(n).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,t.current[r])}),n}var o5={create:n5},a5={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function l5(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return s.length>=t.length?t.apply(this,s):function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];return e.apply(n,[].concat(s,c))}}}function u5(t){return{}.toString.call(t).includes("Object")}function c5(t){return t||n1("configIsRequired"),u5(t)||n1("configType"),t.urls?(h5(),{paths:{vs:t.urls.monacoBase}}):t}function h5(){console.warn(OC.deprecation)}function d5(t,e){throw new Error(t[e]||t.default)}var OC={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},n1=l5(d5)(OC),f5={config:c5},p5=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduceRight(function(a,l){return l(a)},s)}};function VC(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],VC(t[n],e[n]))}),JE(JE({},t),e)}var m5={type:"cancelation",msg:"operation is manually canceled"};function om(t){var e=!1,n=new Promise(function(r,s){t.then(function(a){return e?s(m5):r(a)}),t.catch(s)});return n.cancel=function(){return e=!0},n}var g5=o5.create({config:a5,isInitialized:!1,resolve:null,reject:null,monaco:null}),MC=BL(g5,2),Hu=MC[0],Qd=MC[1];function y5(t){var e=f5.config(t),n=e.monaco,r=UL(e,["monaco"]);Qd(function(s){return{config:VC(s.config,r),monaco:n}})}function v5(){var t=Hu(function(e){var n=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:n,isInitialized:r,resolve:s}});if(!t.isInitialized){if(Qd({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),om(am);if(window.monaco&&window.monaco.editor)return LC(window.monaco),t.resolve(window.monaco),om(am);p5(_5,E5)(T5)}return om(am)}function _5(t){return document.body.appendChild(t)}function w5(t){var e=document.createElement("script");return t&&(e.src=t),e}function E5(t){var e=Hu(function(r){var s=r.config,a=r.reject;return{config:s,reject:a}}),n=w5("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function T5(){var t=Hu(function(n){var r=n.config,s=n.resolve,a=n.reject;return{config:r,resolve:s,reject:a}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){LC(n),t.resolve(n)},function(n){t.reject(n)})}function LC(t){Hu().monaco||Qd({monaco:t})}function S5(){return Hu(function(t){var e=t.monaco;return e})}var am=new Promise(function(t,e){return Qd({resolve:t,reject:e})}),jC={config:y5,init:v5,__getMonacoInstance:S5},I5={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},lm=I5,C5={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},A5=C5;function R5({children:t}){return sn.createElement("div",{style:A5.container},t)}var P5=R5,x5=P5;function k5({width:t,height:e,isEditorReady:n,loading:r,_ref:s,className:a,wrapperProps:l}){return sn.createElement("section",{style:{...lm.wrapper,width:t,height:e},...l},!n&&sn.createElement(x5,null,r),sn.createElement("div",{ref:s,style:{...lm.fullWidth,...!n&&lm.hide},className:a}))}var b5=k5,FC=b.memo(b5);function D5(t){b.useEffect(t,[])}var UC=D5;function N5(t,e,n=!0){let r=b.useRef(!0);b.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var An=N5;function uu(){}function da(t,e,n,r){return O5(t,r)||V5(t,e,n,r)}function O5(t,e){return t.editor.getModel(BC(t,e))}function V5(t,e,n,r){return t.editor.createModel(e,n,r?BC(t,r):void 0)}function BC(t,e){return t.Uri.parse(e)}function M5({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:s,originalModelPath:a,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:f=!1,theme:p="light",loading:g="Loading...",options:_={},height:w="100%",width:S="100%",className:C,wrapperProps:x={},beforeMount:P=uu,onMount:M=uu}){let[j,z]=b.useState(!1),[J,G]=b.useState(!0),ee=b.useRef(null),D=b.useRef(null),R=b.useRef(null),k=b.useRef(M),O=b.useRef(P),U=b.useRef(!1);UC(()=>{let ye=jC.init();return ye.then(be=>(D.current=be)&&G(!1)).catch(be=>(be==null?void 0:be.type)!=="cancelation"&&console.error("Monaco initialization: error:",be)),()=>ee.current?qe():ye.cancel()}),An(()=>{if(ee.current&&D.current){let ye=ee.current.getOriginalEditor(),be=da(D.current,t||"",r||n||"text",a||"");be!==ye.getModel()&&ye.setModel(be)}},[a],j),An(()=>{if(ee.current&&D.current){let ye=ee.current.getModifiedEditor(),be=da(D.current,e||"",s||n||"text",l||"");be!==ye.getModel()&&ye.setModel(be)}},[l],j),An(()=>{let ye=ee.current.getModifiedEditor();ye.getOption(D.current.editor.EditorOption.readOnly)?ye.setValue(e||""):e!==ye.getValue()&&(ye.executeEdits("",[{range:ye.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),ye.pushUndoStop())},[e],j),An(()=>{var ye,be;(be=(ye=ee.current)==null?void 0:ye.getModel())==null||be.original.setValue(t||"")},[t],j),An(()=>{let{original:ye,modified:be}=ee.current.getModel();D.current.editor.setModelLanguage(ye,r||n||"text"),D.current.editor.setModelLanguage(be,s||n||"text")},[n,r,s],j),An(()=>{var ye;(ye=D.current)==null||ye.editor.setTheme(p)},[p],j),An(()=>{var ye;(ye=ee.current)==null||ye.updateOptions(_)},[_],j);let $=b.useCallback(()=>{var _e;if(!D.current)return;O.current(D.current);let ye=da(D.current,t||"",r||n||"text",a||""),be=da(D.current,e||"",s||n||"text",l||"");(_e=ee.current)==null||_e.setModel({original:ye,modified:be})},[n,e,s,t,r,a,l]),V=b.useCallback(()=>{var ye;!U.current&&R.current&&(ee.current=D.current.editor.createDiffEditor(R.current,{automaticLayout:!0,..._}),$(),(ye=D.current)==null||ye.editor.setTheme(p),z(!0),U.current=!0)},[_,p,$]);b.useEffect(()=>{j&&k.current(ee.current,D.current)},[j]),b.useEffect(()=>{!J&&!j&&V()},[J,j,V]);function qe(){var be,_e,se,pe;let ye=(be=ee.current)==null?void 0:be.getModel();c||((_e=ye==null?void 0:ye.original)==null||_e.dispose()),f||((se=ye==null?void 0:ye.modified)==null||se.dispose()),(pe=ee.current)==null||pe.dispose()}return sn.createElement(FC,{width:S,height:w,isEditorReady:j,loading:g,_ref:R,className:C,wrapperProps:x})}var L5=M5;b.memo(L5);function j5(t){let e=b.useRef();return b.useEffect(()=>{e.current=t},[t]),e.current}var F5=j5,Th=new Map;function U5({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:s,path:a,theme:l="light",line:c,loading:f="Loading...",options:p={},overrideServices:g={},saveViewState:_=!0,keepCurrentModel:w=!1,width:S="100%",height:C="100%",className:x,wrapperProps:P={},beforeMount:M=uu,onMount:j=uu,onChange:z,onValidate:J=uu}){let[G,ee]=b.useState(!1),[D,R]=b.useState(!0),k=b.useRef(null),O=b.useRef(null),U=b.useRef(null),$=b.useRef(j),V=b.useRef(M),qe=b.useRef(),ye=b.useRef(r),be=F5(a),_e=b.useRef(!1),se=b.useRef(!1);UC(()=>{let F=jC.init();return F.then(Y=>(k.current=Y)&&R(!1)).catch(Y=>(Y==null?void 0:Y.type)!=="cancelation"&&console.error("Monaco initialization: error:",Y)),()=>O.current?le():F.cancel()}),An(()=>{var Y,ue,Re,Pe;let F=da(k.current,t||r||"",e||s||"",a||n||"");F!==((Y=O.current)==null?void 0:Y.getModel())&&(_&&Th.set(be,(ue=O.current)==null?void 0:ue.saveViewState()),(Re=O.current)==null||Re.setModel(F),_&&((Pe=O.current)==null||Pe.restoreViewState(Th.get(a))))},[a],G),An(()=>{var F;(F=O.current)==null||F.updateOptions(p)},[p],G),An(()=>{!O.current||r===void 0||(O.current.getOption(k.current.editor.EditorOption.readOnly)?O.current.setValue(r):r!==O.current.getValue()&&(se.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),O.current.pushUndoStop(),se.current=!1))},[r],G),An(()=>{var Y,ue;let F=(Y=O.current)==null?void 0:Y.getModel();F&&s&&((ue=k.current)==null||ue.editor.setModelLanguage(F,s))},[s],G),An(()=>{var F;c!==void 0&&((F=O.current)==null||F.revealLine(c))},[c],G),An(()=>{var F;(F=k.current)==null||F.editor.setTheme(l)},[l],G);let pe=b.useCallback(()=>{var F;if(!(!U.current||!k.current)&&!_e.current){V.current(k.current);let Y=a||n,ue=da(k.current,r||t||"",e||s||"",Y||"");O.current=(F=k.current)==null?void 0:F.editor.create(U.current,{model:ue,automaticLayout:!0,...p},g),_&&O.current.restoreViewState(Th.get(Y)),k.current.editor.setTheme(l),c!==void 0&&O.current.revealLine(c),ee(!0),_e.current=!0}},[t,e,n,r,s,a,p,g,_,l,c]);b.useEffect(()=>{G&&$.current(O.current,k.current)},[G]),b.useEffect(()=>{!D&&!G&&pe()},[D,G,pe]),ye.current=r,b.useEffect(()=>{var F,Y;G&&z&&((F=qe.current)==null||F.dispose(),qe.current=(Y=O.current)==null?void 0:Y.onDidChangeModelContent(ue=>{se.current||z(O.current.getValue(),ue)}))},[G,z]),b.useEffect(()=>{if(G){let F=k.current.editor.onDidChangeMarkers(Y=>{var Re;let ue=(Re=O.current.getModel())==null?void 0:Re.uri;if(ue&&Y.find(Pe=>Pe.path===ue.path)){let Pe=k.current.editor.getModelMarkers({resource:ue});J==null||J(Pe)}});return()=>{F==null||F.dispose()}}return()=>{}},[G,J]);function le(){var F,Y;(F=qe.current)==null||F.dispose(),w?_&&Th.set(a,O.current.saveViewState()):(Y=O.current.getModel())==null||Y.dispose(),O.current.dispose()}return sn.createElement(FC,{width:S,height:C,isEditorReady:G,loading:f,_ref:U,className:x,wrapperProps:P})}var B5=U5,z5=b.memo(B5);const Yd=b.createContext(null),ba=({docId:t,entityName:e,Preview:n,close:r,jsonData:s,width:a,height:l,addFlag:c})=>{const[f,p]=b.useState(JSON.stringify(s,null,2)),[g,_]=b.useState(!1),w=b.useContext(Yd),S=b.useRef(null),C=z=>{console.log(z),p(z)};b.useEffect(()=>{p(JSON.stringify(s,null,2))},[s]);const x=()=>{try{const z=JSON.parse(f);p(JSON.stringify(z,null,2))}catch{alert("Invalid JSON!")}},P=()=>{try{const z=JSON.parse(f);p(JSON.stringify(z))}catch(z){alert("Invalid JSON!"+z.message)}},M=()=>{p(JSON.stringify(s,null,2))},j=async()=>{try{if(w.update(!0),c){const z=await OL($u(ka,e),JSON.parse(f));alert(`Added doc with ID : ${z.id} in ${e} `),window.location.reload()}else{const z=_C(ka,e,t);await NL(z,JSON.parse(f)),alert("Update done"),window.location.reload()}w.update(!1)}catch(z){w.update(!1),alert("Error : "+z.message)}};return I.jsx(I.Fragment,{children:I.jsx("div",{className:"editor-wrapper",style:{width:a||void 0,height:l||void 0},children:I.jsxs("div",{className:"editor-glass",style:{width:a||void 0,height:l||void 0},children:[I.jsx("button",{onClick:x,children:"🧹 Format"}),I.jsx("button",{onClick:P,children:"🔻 Minify"}),I.jsx("button",{onClick:M,children:"♻️ Reset"}),I.jsx("button",{onClick:()=>{r()},children:"❌ Close"}),I.jsx("button",{onClick:()=>{_(!g)},children:g?"📕 Edit":"👀 Prview"}),I.jsx("button",{onClick:()=>{j(),r()},children:"✔️ Save"}),g?I.jsx(n,{json:JSON.parse(f)}):I.jsx(z5,{height:"100%",defaultLanguage:"json",value:f,onChange:C,options:{minimap:{enabled:!1},fontSize:14,automaticLayout:!0,theme:"vs-dark"}},S)]})})})},$5=()=>{const t=b.useContext(cs),e=$u(ka,"about"),n=b.useContext(Fa),r=[600,580,600,450,570,580,600,450,570,580,600,450,570,456],s=[300,280,250,250,270,280,200,250,270,280,300,250,270,256,300,280,250,250,270,280,200,250,270,180,256,300,280],[a,l]=b.useState(!1),[c,f]=b.useState({profile:"",description:""}),[p,g]=b.useState(!0),[_,w]=b.useState("");return b.useEffect(()=>{(async()=>{try{const C=await Gd(e),x=C.docs[0].data();w(C.docs[0].id),f(x),g(!1)}catch(C){console.error(C)}})(),console.log(c)},[]),I.jsxs(I.Fragment,{children:[n.user!=null&&I.jsx("button",{style:{position:"fixed",zIndex:9999},onClick:()=>{l(!0)},children:"📝 Edit"}),a&&I.jsx(ba,{width:1500,height:600,jsonData:c,docId:_,close:()=>{l(!1)},entityName:"about",Preview:H5}),p?I.jsx($e.div,{className:"about-container",initial:{transform:"translateY(100px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{type:"spring"},children:I.jsxs("div",{className:"about",children:[I.jsx("div",{className:"img",children:I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:I.jsx(yn,{width:t?125:"256px",height:t?150:"306px"})})}),I.jsx("div",{children:I.jsx(Js,{height:t?600:"400px",width:t?350:700,margin:t?"0px 50px 150px 0px":void 0,content:I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:I.jsx("p",{children:t?s.map((S,C)=>I.jsx("div",{children:I.jsx(yn,{width:S,borderRadius:10})},C)):r.map((S,C)=>I.jsx("div",{children:I.jsx(yn,{width:S,borderRadius:10})},C))})})})})]})}):I.jsx($e.div,{className:"about-container",initial:{transform:"translateY(100px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{type:"spring"},children:I.jsxs("div",{className:"about",children:[I.jsx("div",{className:"img",children:I.jsx(bC,{image:c.profile,width:t?125:void 0,height:t?150:void 0})}),I.jsx("div",{children:I.jsx(Js,{height:t?600:"400px",width:t?350:700,margin:t?"0px 50px 150px 0px":void 0,content:I.jsx(I.Fragment,{children:I.jsx("p",{children:c.description})})})})]})})]})},H5=({json:t})=>{const e=b.useContext(cs);return I.jsxs("div",{className:"about",style:{marginTop:100},children:[I.jsx("div",{className:"img",children:I.jsx(bC,{image:t.profile,width:e?125:void 0,height:e?150:void 0})}),I.jsx("div",{children:I.jsx(Js,{height:e?600:"400px",width:e?350:700,margin:e?"0px 50px 150px 0px":void 0,content:I.jsx(I.Fragment,{children:I.jsx("p",{children:t.description})})})})]})},W5=()=>{const[t,e]=b.useState(0),n=b.useContext(cs),[r,s]=b.useState(!0),a=b.useContext(Fa),[l,c]=b.useState(!1),[f,p]=b.useState(!1),g=$u(ka,"projects"),_=[700,580,600,450,570,580,600,450,570,580,600,450,570,456],[w,S]=b.useState([{id:"",data:{title:"",description:"",image:"",link:""}}]);let C={title:"add project title here",description:"Add project description here",image:"Add image link here",link:"add project link here",order:0};return b.useEffect(()=>{(async()=>{try{const j=(await Gd(g)).docs.map(z=>({id:z.id,data:z.data()})).sort((z,J)=>z.data.order-J.data.order);S(j),s(!1)}catch(P){console.error(P)}})(),console.log(w)},[]),I.jsxs(I.Fragment,{children:[a.user!=null&&!n&&I.jsx("button",{style:{position:"fixed",zIndex:9999},onClick:()=>{c(!0)},children:"📝 Edit"}),a.user!=null&&!n&&I.jsx("button",{style:{position:"fixed",marginTop:40,zIndex:9999},onClick:()=>{p(!0)},children:"➕ Add"}),l&&I.jsx(ba,{jsonData:w[t].data,docId:w[t].id,close:()=>{c(!1)},entityName:"projects",Preview:i1}),f&&I.jsx(ba,{addFlag:!0,jsonData:C,close:()=>{p(!1)},entityName:"projects",Preview:i1}),n?I.jsx(q5,{projects:w,isLoding:r}):I.jsxs("div",{className:"project-container",onClick:()=>{t<w.length-1?e(t+1):e(0)},children:[I.jsxs("div",{className:"project-inner",children:[I.jsx($e.div,{className:"title",initial:{opacity:0},animate:{opacity:1},transition:{type:$n,delay:.2},children:I.jsx("h2",{children:r?I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:I.jsx("p",{children:I.jsx(yn,{count:1,width:300})})}):w[t].data.title})},t),I.jsx($e.div,{className:"discription",initial:{opacity:0},animate:{opacity:1},transition:{type:$n,delay:.2},children:I.jsx("p",{children:r?I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:I.jsx("p",{children:_.map((x,P)=>I.jsx("div",{children:I.jsx(yn,{width:x,borderRadius:10})},P))})}):w[t].data.description})},t),I.jsx($e.div,{className:"link",initial:{opacity:0},animate:{opacity:1},transition:{type:$n,delay:.2},children:I.jsx("a",{href:r?"":w[t].data.link,"aria-disabled":r,children:"</exploreProject>"})},t)]}),I.jsx($e.div,{className:"image",initial:{opacity:0,translateX:400},animate:{opacity:1,translateX:0},transition:{type:$n},style:{background:w[t].data.image},children:r?I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:I.jsx(yn,{width:"400px",height:"400px"})}):I.jsx("img",{id:"prj-img",src:w[t].data.image,alt:""})},t)]},t)]})};let q5=({projects:t,isLoding:e})=>{const[n,r]=b.useState(!1),s=[200,190,170,180,130],[a,l]=b.useState({title:"",image:"",link:"",description:""});return I.jsx(I.Fragment,{children:n?I.jsx(K5,{title:a.title,image:a.image,description:a.description,link:a.link,back:()=>{r(!1)}}):I.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",paddingTop:"150px",paddingBottom:"150px",scrollBehavior:"smooth"},children:t.map(c=>I.jsx(Js,{margin:"30px 0px 0px 0px",width:300,height:450,content:I.jsxs(I.Fragment,{children:[e?I.jsx("div",{style:{marginLeft:"15px",marginTop:"20px"},children:I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:I.jsx(yn,{width:"250px",height:"150px"})})}):I.jsx("img",{id:"img-project",src:c.data.image}),I.jsx("div",{id:"pro-title",children:e?I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:I.jsx("p",{children:I.jsx(yn,{width:200,count:1})})}):c.data.title}),I.jsx("p",{id:"dec-project",children:e?I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:I.jsx("p",{children:s.map((f,p)=>I.jsx("div",{children:I.jsx(yn,{width:f,borderRadius:10})},p))})}):c.data.description.substring(0,200)+"...."}),I.jsx("button",{id:"more",onClick:f=>{f.preventDefault(),l({title:c.data.title,image:c.data.image,description:c.data.description,link:c.data.link}),r(!0)},children:"</more>"}),I.jsxs("button",{id:"exploreProject",children:[" ",I.jsx("a",{href:e?"":c.data.link,children:"</exploreProject>"})]})]})},c.id))})})},K5=({title:t,image:e,description:n,link:r,back:s})=>I.jsx(I.Fragment,{children:I.jsxs("div",{style:G5,children:[I.jsx("div",{style:Q5,children:t}),I.jsx("img",{style:{margin:"30px",height:"200px"},src:e}),I.jsx("p",{id:"dec-project",children:n}),I.jsxs("div",{style:{display:"flex",marginTop:"20px"},children:[I.jsxs("button",{style:r1,children:[" ",I.jsx("a",{href:r,style:Y5,children:"</exploreProject>"})]}),I.jsxs("button",{style:r1,onClick:a=>{a.preventDefault(),s()},children:[" ","</back>"]})]})]})});const G5={display:"flex",flexDirection:"column",margin:"100px 20px 200px 20px",overflow:"auto"},Q5={fontSize:"25px",margin:"20px"},r1={float:"right",backgroundColor:"transparent",border:"none",marginBottom:"10px",marginLeft:"0px",cursor:"pointer",width:"200px",color:"rgb(0, 255, 110)"},Y5={color:"rgb(0, 255, 110)",textDecoration:"none"},i1=({json:t})=>I.jsxs("div",{className:"project-container",children:[I.jsxs("div",{className:"project-inner",children:[I.jsx($e.div,{className:"title",initial:{opacity:0},animate:{opacity:1},transition:{type:$n,delay:.2},children:I.jsx("h2",{children:t.title})},t),I.jsx($e.div,{className:"discription",initial:{opacity:0},animate:{opacity:1},transition:{type:$n,delay:.2},children:I.jsx("p",{children:t.description})},t),I.jsx($e.div,{className:"link",initial:{opacity:0},animate:{opacity:1},transition:{type:$n,delay:.2},children:I.jsx("a",{href:t.link,children:"</exploreProject>"})},t)]}),I.jsx($e.div,{className:"image",initial:{opacity:0,translateX:400},animate:{opacity:1,translateX:0},transition:{type:$n},style:{background:t.image},children:I.jsx("img",{id:"prj-img",src:t.image,alt:""})},t)]}),zC=({name:t,bg:e,isLoader:n})=>I.jsx($e.div,{initial:{opacity:1},whileHover:{scale:1.2,translateY:-20,opacity:1},whileTap:{scale:.9},transition:{type:"spring"},className:"hexagon",style:{background:e||null},children:I.jsx("img",{id:"skill-icon",src:`data:image/svg+xml;utf8,${encodeURIComponent(t)}`,alt:""})}),X5=({name:t,bg:e})=>I.jsx($e.div,{initial:{opacity:1},whileHover:{scale:1.2,translateY:-20,opacity:1},whileTap:{scale:.9},animate:{opacity:[.3,.8,1,.5],x:[0,1,-1,0],scaleY:[1,1.05,.95,1]},transition:{duration:1.3,repeat:1/0,repeatType:"mirror",ease:"easeInOut"},className:"hexagon",style:{background:e||null},children:I.jsx("img",{id:"skill-icon",src:`data:image/svg+xml;utf8,${encodeURIComponent(t)}`,alt:""})});let J5={row0:[{name:"fake",svg:"",bg:"#0000"},{name:"fake1",svg:"",bg:"#0000"},{name:"fake2",svg:"",bg:"#0000"},{name:"fake3",svg:"",bg:"#0000"},{name:"fake4",svg:"",bg:"#0000"},{name:"fake5",svg:"",bg:"#0000"},{name:"fakk6",svg:""}],row1:[{name:"fake",svg:""},{name:"fake1",svg:""},{name:"fake2",svg:""},{name:"fake3",svg:""},{name:"fake4",svg:""},{name:"fake5",svg:""},{name:"fakk6",svg:""}],row2:[{name:"fake",svg:""},{name:"fake1",svg:""},{name:"fake2",svg:""},{name:"fake3",svg:""},{name:"fake4",svg:""},{name:"fake5",svg:""},{name:"fakk6",svg:""}],row3:[{name:"fake",svg:""},{name:"fake1",svg:""},{name:"fake2",svg:""},{name:"fake3",svg:""},{name:"fake4",svg:""},{name:"fake5",svg:""},{name:"fakk6",svg:""}],row4:[{name:"fake3",svg:""},{name:"fake4",svg:""}]},Z5={row0:[{name:"fake",svg:""},{name:"fake1",svg:""},{name:"fake",svg:""}],row1:[{name:"fake2",svg:""},{name:"fake3",svg:""},{name:"fake4",svg:""}],row2:[{name:"fake5",svg:""},{name:"fake6",svg:""},{name:"fake7",svg:""}],row3:[{name:"fake8",svg:""},{name:"fake9",svg:""},{name:"fake10",svg:""}],row4:[{name:"fake11",svg:""},{name:"fake12",svg:""},{name:"fake14",svg:""}],row5:[{name:"fake15",svg:""},{name:"fake16",svg:""},{name:"fake17",svg:""}],row6:[{name:"fake18",svg:""},{name:"fake19",svg:""},{name:"fake20",svg:""}],row7:[{name:"fake21",svg:""},{name:"fake22",svg:""},{name:"fake23",svg:""}]};const e9=()=>{const[t,e]=b.useState({}),n=$u(ka,"skills"),[r,s]=b.useState(!0),a=b.useContext(cs);let l=a?Z5:J5;const c=b.useContext(Fa),[f,p]=b.useState(!1),[g,_]=b.useState("");return b.useEffect(()=>{(async()=>{try{let S=a?1:0;const C=await Gd(n),x=C.docs[S].data();_(C.docs[S].id),e(x),s(!1)}catch(S){console.error(S)}})(),console.log(t)},[]),I.jsxs("div",{children:[c.user!=null&&I.jsx("button",{style:{position:"fixed"},onClick:()=>{p(!0)},children:"📝 Edit"}),f&&I.jsx(ba,{jsonData:t,docId:g,close:()=>{p(!1)},entityName:"Skills",Preview:t9}),r?I.jsx($e.div,{className:"hex-container",initial:{transform:"translateY(100px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{type:"spring"},children:Object.keys(l).sort().map(w=>I.jsx("div",{className:"hex-row",children:l[w].map(S=>I.jsx(X5,{bg:S.bg?S.bg:null,name:S.svg},S.name))},w))}):I.jsx($e.div,{className:"hex-container",initial:{transform:"translateY(100px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{type:"spring"},children:Object.keys(t).sort().map(w=>I.jsx("div",{className:"hex-row",children:t[w].map(S=>I.jsx(zC,{bg:S.bg?S.bg:null,name:S.svg},S.name))},w))})]})},t9=({json:t})=>I.jsx($e.div,{className:"hex-container",initial:{transform:"translateY(100px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{type:"spring"},children:Object.keys(t).sort().map(e=>I.jsx("div",{className:"hex-row",children:t[e].map(n=>I.jsx(zC,{bg:n.bg?n.bg:null,name:n.svg},n.name))},e))});function $C(t,e){return function(){return t.apply(e,arguments)}}const{toString:n9}=Object.prototype,{getPrototypeOf:Ly}=Object,Xd=(t=>e=>{const n=n9.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hr=t=>(t=t.toLowerCase(),e=>Xd(e)===t),Jd=t=>e=>typeof e===t,{isArray:Ha}=Array,Au=Jd("undefined");function r9(t){return t!==null&&!Au(t)&&t.constructor!==null&&!Au(t.constructor)&&xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const HC=hr("ArrayBuffer");function i9(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&HC(t.buffer),e}const s9=Jd("string"),xn=Jd("function"),WC=Jd("number"),Zd=t=>t!==null&&typeof t=="object",o9=t=>t===!0||t===!1,jh=t=>{if(Xd(t)!=="object")return!1;const e=Ly(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},a9=hr("Date"),l9=hr("File"),u9=hr("Blob"),c9=hr("FileList"),h9=t=>Zd(t)&&xn(t.pipe),d9=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xn(t.append)&&((e=Xd(t))==="formdata"||e==="object"&&xn(t.toString)&&t.toString()==="[object FormData]"))},f9=hr("URLSearchParams"),[p9,m9,g9,y9]=["ReadableStream","Request","Response","Headers"].map(hr),v9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ha(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let c;for(r=0;r<l;r++)c=a[r],e.call(null,t[c],c,t)}}function qC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KC=t=>!Au(t)&&t!==Qs;function ng(){const{caseless:t}=KC(this)&&this||{},e={},n=(r,s)=>{const a=t&&qC(e,s)||s;jh(e[a])&&jh(r)?e[a]=ng(e[a],r):jh(r)?e[a]=ng({},r):Ha(r)?e[a]=r.slice():e[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Wu(arguments[r],n);return e}const _9=(t,e,n,{allOwnKeys:r}={})=>(Wu(e,(s,a)=>{n&&xn(s)?t[a]=$C(s,n):t[a]=s},{allOwnKeys:r}),t),w9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),E9=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},T9=(t,e,n,r)=>{let s,a,l;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)l=s[a],(!r||r(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&Ly(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},S9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},I9=t=>{if(!t)return null;if(Ha(t))return t;let e=t.length;if(!WC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},C9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ly(Uint8Array)),A9=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},R9=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},P9=hr("HTMLFormElement"),x9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),s1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),k9=hr("RegExp"),GC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Wu(n,(s,a)=>{let l;(l=e(s,a,t))!==!1&&(r[a]=l||s)}),Object.defineProperties(t,r)},b9=t=>{GC(t,(e,n)=>{if(xn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(xn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},D9=(t,e)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return Ha(t)?r(t):r(String(t).split(e)),n},N9=()=>{},O9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function V9(t){return!!(t&&xn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const M9=t=>{const e=new Array(10),n=(r,s)=>{if(Zd(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const a=Ha(r)?[]:{};return Wu(r,(l,c)=>{const f=n(l,s+1);!Au(f)&&(a[c]=f)}),e[s]=void 0,a}}return r};return n(t,0)},L9=hr("AsyncFunction"),j9=t=>t&&(Zd(t)||xn(t))&&xn(t.then)&&xn(t.catch),QC=((t,e)=>t?setImmediate:e?((n,r)=>(Qs.addEventListener("message",({source:s,data:a})=>{s===Qs&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Qs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xn(Qs.postMessage)),F9=typeof queueMicrotask<"u"?queueMicrotask.bind(Qs):typeof process<"u"&&process.nextTick||QC,X={isArray:Ha,isArrayBuffer:HC,isBuffer:r9,isFormData:d9,isArrayBufferView:i9,isString:s9,isNumber:WC,isBoolean:o9,isObject:Zd,isPlainObject:jh,isReadableStream:p9,isRequest:m9,isResponse:g9,isHeaders:y9,isUndefined:Au,isDate:a9,isFile:l9,isBlob:u9,isRegExp:k9,isFunction:xn,isStream:h9,isURLSearchParams:f9,isTypedArray:C9,isFileList:c9,forEach:Wu,merge:ng,extend:_9,trim:v9,stripBOM:w9,inherits:E9,toFlatObject:T9,kindOf:Xd,kindOfTest:hr,endsWith:S9,toArray:I9,forEachEntry:A9,matchAll:R9,isHTMLForm:P9,hasOwnProperty:s1,hasOwnProp:s1,reduceDescriptors:GC,freezeMethods:b9,toObjectSet:D9,toCamelCase:x9,noop:N9,toFiniteNumber:O9,findKey:qC,global:Qs,isContextDefined:KC,isSpecCompliantForm:V9,toJSONObject:M9,isAsyncFn:L9,isThenable:j9,setImmediate:QC,asap:F9};function De(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}X.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const YC=De.prototype,XC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{XC[t]={value:t}});Object.defineProperties(De,XC);Object.defineProperty(YC,"isAxiosError",{value:!0});De.from=(t,e,n,r,s,a)=>{const l=Object.create(YC);return X.toFlatObject(t,l,function(f){return f!==Error.prototype},c=>c!=="isAxiosError"),De.call(l,t.message,e,n,r,s),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const U9=null;function rg(t){return X.isPlainObject(t)||X.isArray(t)}function JC(t){return X.endsWith(t,"[]")?t.slice(0,-2):t}function o1(t,e,n){return t?t.concat(e).map(function(s,a){return s=JC(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function B9(t){return X.isArray(t)&&!t.some(rg)}const z9=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function ef(t,e,n){if(!X.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,P){return!X.isUndefined(P[x])});const r=n.metaTokens,s=n.visitor||g,a=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(s))throw new TypeError("visitor must be a function");function p(C){if(C===null)return"";if(X.isDate(C))return C.toISOString();if(!f&&X.isBlob(C))throw new De("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(C)||X.isTypedArray(C)?f&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function g(C,x,P){let M=C;if(C&&!P&&typeof C=="object"){if(X.endsWith(x,"{}"))x=r?x:x.slice(0,-2),C=JSON.stringify(C);else if(X.isArray(C)&&B9(C)||(X.isFileList(C)||X.endsWith(x,"[]"))&&(M=X.toArray(C)))return x=JC(x),M.forEach(function(z,J){!(X.isUndefined(z)||z===null)&&e.append(l===!0?o1([x],J,a):l===null?x:x+"[]",p(z))}),!1}return rg(C)?!0:(e.append(o1(P,x,a),p(C)),!1)}const _=[],w=Object.assign(z9,{defaultVisitor:g,convertValue:p,isVisitable:rg});function S(C,x){if(!X.isUndefined(C)){if(_.indexOf(C)!==-1)throw Error("Circular reference detected in "+x.join("."));_.push(C),X.forEach(C,function(M,j){(!(X.isUndefined(M)||M===null)&&s.call(e,M,X.isString(j)?j.trim():j,x,w))===!0&&S(M,x?x.concat(j):[j])}),_.pop()}}if(!X.isObject(t))throw new TypeError("data must be an object");return S(t),e}function a1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jy(t,e){this._pairs=[],t&&ef(t,this,e)}const ZC=jy.prototype;ZC.append=function(e,n){this._pairs.push([e,n])};ZC.toString=function(e){const n=e?function(r){return e.call(this,r,a1)}:a1;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function $9(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eA(t,e,n){if(!e)return t;const r=n&&n.encode||$9;X.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(e,n):a=X.isURLSearchParams(e)?e.toString():new jy(e,n).toString(r),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class l1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(r){r!==null&&e(r)})}}const tA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},H9=typeof URLSearchParams<"u"?URLSearchParams:jy,W9=typeof FormData<"u"?FormData:null,q9=typeof Blob<"u"?Blob:null,K9={isBrowser:!0,classes:{URLSearchParams:H9,FormData:W9,Blob:q9},protocols:["http","https","file","blob","url","data"]},Fy=typeof window<"u"&&typeof document<"u",ig=typeof navigator=="object"&&navigator||void 0,G9=Fy&&(!ig||["ReactNative","NativeScript","NS"].indexOf(ig.product)<0),Q9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Y9=Fy&&window.location.href||"http://localhost",X9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fy,hasStandardBrowserEnv:G9,hasStandardBrowserWebWorkerEnv:Q9,navigator:ig,origin:Y9},Symbol.toStringTag,{value:"Module"})),Xt={...X9,...K9};function J9(t,e){return ef(t,new Xt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,a){return Xt.isNode&&X.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Z9(t){return X.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ej(t){const e={},n=Object.keys(t);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],e[a]=t[a];return e}function nA(t){function e(n,r,s,a){let l=n[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),f=a>=n.length;return l=!l&&X.isArray(s)?s.length:l,f?(X.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!c):((!s[l]||!X.isObject(s[l]))&&(s[l]=[]),e(n,r,s[l],a)&&X.isArray(s[l])&&(s[l]=ej(s[l])),!c)}if(X.isFormData(t)&&X.isFunction(t.entries)){const n={};return X.forEachEntry(t,(r,s)=>{e(Z9(r),s,n,0)}),n}return null}function tj(t,e,n){if(X.isString(t))try{return(e||JSON.parse)(t),X.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const qu={transitional:tA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=X.isObject(e);if(a&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return s?JSON.stringify(nA(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return J9(e,this.formSerializer).toString();if((c=X.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return ef(c?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),tj(e)):e}],transformResponse:[function(e){const n=this.transitional||qu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?De.from(c,De.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],t=>{qu.headers[t]={}});const nj=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rj=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||e[n]&&nj[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},u1=Symbol("internals");function Hl(t){return t&&String(t).trim().toLowerCase()}function Fh(t){return t===!1||t==null?t:X.isArray(t)?t.map(Fh):String(t)}function ij(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const sj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function um(t,e,n,r,s){if(X.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!X.isString(e)){if(X.isString(r))return e.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(e)}}function oj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function aj(t,e){const n=X.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,a,l){return this[r].call(this,e,s,a,l)},configurable:!0})})}class vn{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function a(c,f,p){const g=Hl(f);if(!g)throw new Error("header name must be a non-empty string");const _=X.findKey(s,g);(!_||s[_]===void 0||p===!0||p===void 0&&s[_]!==!1)&&(s[_||f]=Fh(c))}const l=(c,f)=>X.forEach(c,(p,g)=>a(p,g,f));if(X.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(X.isString(e)&&(e=e.trim())&&!sj(e))l(rj(e),n);else if(X.isHeaders(e))for(const[c,f]of e.entries())a(f,c,r);else e!=null&&a(n,e,r);return this}get(e,n){if(e=Hl(e),e){const r=X.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return ij(s);if(X.isFunction(n))return n.call(this,s,r);if(X.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Hl(e),e){const r=X.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||um(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function a(l){if(l=Hl(l),l){const c=X.findKey(r,l);c&&(!n||um(r,r[c],c,n))&&(delete r[c],s=!0)}}return X.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!e||um(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,r={};return X.forEach(this,(s,a)=>{const l=X.findKey(r,a);if(l){n[l]=Fh(s),delete n[a];return}const c=e?oj(a):String(a).trim();c!==a&&delete n[a],n[c]=Fh(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return X.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&X.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[u1]=this[u1]={accessors:{}}).accessors,s=this.prototype;function a(l){const c=Hl(l);r[c]||(aj(s,l),r[c]=!0)}return X.isArray(e)?e.forEach(a):a(e),this}}vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(vn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});X.freezeMethods(vn);function cm(t,e){const n=this||qu,r=e||n,s=vn.from(r.headers);let a=r.data;return X.forEach(t,function(c){a=c.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function rA(t){return!!(t&&t.__CANCEL__)}function Wa(t,e,n){De.call(this,t??"canceled",De.ERR_CANCELED,e,n),this.name="CanceledError"}X.inherits(Wa,De,{__CANCEL__:!0});function iA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new De("Request failed with status code "+n.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lj(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function uj(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(f){const p=Date.now(),g=r[a];l||(l=p),n[s]=f,r[s]=p;let _=a,w=0;for(;_!==s;)w+=n[_++],_=_%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),p-l<e)return;const S=g&&p-g;return S?Math.round(w*1e3/S):void 0}}function cj(t,e){let n=0,r=1e3/e,s,a;const l=(p,g=Date.now())=>{n=g,s=null,a&&(clearTimeout(a),a=null),t.apply(null,p)};return[(...p)=>{const g=Date.now(),_=g-n;_>=r?l(p,g):(s=p,a||(a=setTimeout(()=>{a=null,l(s)},r-_)))},()=>s&&l(s)]}const md=(t,e,n=3)=>{let r=0;const s=uj(50,250);return cj(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,f=l-r,p=s(f),g=l<=c;r=l;const _={loaded:l,total:c,progress:c?l/c:void 0,bytes:f,rate:p||void 0,estimated:p&&c&&g?(c-l)/p:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(_)},n)},c1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},h1=t=>(...e)=>X.asap(()=>t(...e)),hj=Xt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Xt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,dj=Xt.hasStandardBrowserEnv?{write(t,e,n,r,s,a){const l=[t+"="+encodeURIComponent(e)];X.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),X.isString(r)&&l.push("path="+r),X.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function pj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function sA(t,e,n){let r=!fj(e);return t&&(r||n==!1)?pj(t,e):e}const d1=t=>t instanceof vn?{...t}:t;function io(t,e){e=e||{};const n={};function r(p,g,_,w){return X.isPlainObject(p)&&X.isPlainObject(g)?X.merge.call({caseless:w},p,g):X.isPlainObject(g)?X.merge({},g):X.isArray(g)?g.slice():g}function s(p,g,_,w){if(X.isUndefined(g)){if(!X.isUndefined(p))return r(void 0,p,_,w)}else return r(p,g,_,w)}function a(p,g){if(!X.isUndefined(g))return r(void 0,g)}function l(p,g){if(X.isUndefined(g)){if(!X.isUndefined(p))return r(void 0,p)}else return r(void 0,g)}function c(p,g,_){if(_ in e)return r(p,g);if(_ in t)return r(void 0,p)}const f={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(p,g,_)=>s(d1(p),d1(g),_,!0)};return X.forEach(Object.keys(Object.assign({},t,e)),function(g){const _=f[g]||s,w=_(t[g],e[g],g);X.isUndefined(w)&&_!==c||(n[g]=w)}),n}const oA=t=>{const e=io({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:c}=e;e.headers=l=vn.from(l),e.url=eA(sA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let f;if(X.isFormData(n)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((f=l.getContentType())!==!1){const[p,...g]=f?f.split(";").map(_=>_.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...g].join("; "))}}if(Xt.hasStandardBrowserEnv&&(r&&X.isFunction(r)&&(r=r(e)),r||r!==!1&&hj(e.url))){const p=s&&a&&dj.read(a);p&&l.set(s,p)}return e},mj=typeof XMLHttpRequest<"u",gj=mj&&function(t){return new Promise(function(n,r){const s=oA(t);let a=s.data;const l=vn.from(s.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:p}=s,g,_,w,S,C;function x(){S&&S(),C&&C(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let P=new XMLHttpRequest;P.open(s.method.toUpperCase(),s.url,!0),P.timeout=s.timeout;function M(){if(!P)return;const z=vn.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),G={data:!c||c==="text"||c==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:z,config:t,request:P};iA(function(D){n(D),x()},function(D){r(D),x()},G),P=null}"onloadend"in P?P.onloadend=M:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(M)},P.onabort=function(){P&&(r(new De("Request aborted",De.ECONNABORTED,t,P)),P=null)},P.onerror=function(){r(new De("Network Error",De.ERR_NETWORK,t,P)),P=null},P.ontimeout=function(){let J=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const G=s.transitional||tA;s.timeoutErrorMessage&&(J=s.timeoutErrorMessage),r(new De(J,G.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,t,P)),P=null},a===void 0&&l.setContentType(null),"setRequestHeader"in P&&X.forEach(l.toJSON(),function(J,G){P.setRequestHeader(G,J)}),X.isUndefined(s.withCredentials)||(P.withCredentials=!!s.withCredentials),c&&c!=="json"&&(P.responseType=s.responseType),p&&([w,C]=md(p,!0),P.addEventListener("progress",w)),f&&P.upload&&([_,S]=md(f),P.upload.addEventListener("progress",_),P.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(g=z=>{P&&(r(!z||z.type?new Wa(null,t,P):z),P.abort(),P=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const j=lj(s.url);if(j&&Xt.protocols.indexOf(j)===-1){r(new De("Unsupported protocol "+j+":",De.ERR_BAD_REQUEST,t));return}P.send(a||null)})},yj=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const a=function(p){if(!s){s=!0,c();const g=p instanceof Error?p:this.reason;r.abort(g instanceof De?g:new Wa(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new De(`timeout ${e} of ms exceeded`,De.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),t=null)};t.forEach(p=>p.addEventListener("abort",a));const{signal:f}=r;return f.unsubscribe=()=>X.asap(c),f}},vj=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},_j=async function*(t,e){for await(const n of wj(t))yield*vj(n,e)},wj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},f1=(t,e,n,r)=>{const s=_j(t,e);let a=0,l,c=f=>{l||(l=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:p,value:g}=await s.next();if(p){c(),f.close();return}let _=g.byteLength;if(n){let w=a+=_;n(w)}f.enqueue(new Uint8Array(g))}catch(p){throw c(p),p}},cancel(f){return c(f),s.return()}},{highWaterMark:2})},tf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",aA=tf&&typeof ReadableStream=="function",Ej=tf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),lA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Tj=aA&&lA(()=>{let t=!1;const e=new Request(Xt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),p1=64*1024,sg=aA&&lA(()=>X.isReadableStream(new Response("").body)),gd={stream:sg&&(t=>t.body)};tf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!gd[e]&&(gd[e]=X.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new De(`Response type '${e}' is not supported`,De.ERR_NOT_SUPPORT,r)})})})(new Response);const Sj=async t=>{if(t==null)return 0;if(X.isBlob(t))return t.size;if(X.isSpecCompliantForm(t))return(await new Request(Xt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(X.isArrayBufferView(t)||X.isArrayBuffer(t))return t.byteLength;if(X.isURLSearchParams(t)&&(t=t+""),X.isString(t))return(await Ej(t)).byteLength},Ij=async(t,e)=>{const n=X.toFiniteNumber(t.getContentLength());return n??Sj(e)},Cj=tf&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:a,timeout:l,onDownloadProgress:c,onUploadProgress:f,responseType:p,headers:g,withCredentials:_="same-origin",fetchOptions:w}=oA(t);p=p?(p+"").toLowerCase():"text";let S=yj([s,a&&a.toAbortSignal()],l),C;const x=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let P;try{if(f&&Tj&&n!=="get"&&n!=="head"&&(P=await Ij(g,r))!==0){let G=new Request(e,{method:"POST",body:r,duplex:"half"}),ee;if(X.isFormData(r)&&(ee=G.headers.get("content-type"))&&g.setContentType(ee),G.body){const[D,R]=c1(P,md(h1(f)));r=f1(G.body,p1,D,R)}}X.isString(_)||(_=_?"include":"omit");const M="credentials"in Request.prototype;C=new Request(e,{...w,signal:S,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:M?_:void 0});let j=await fetch(C);const z=sg&&(p==="stream"||p==="response");if(sg&&(c||z&&x)){const G={};["status","statusText","headers"].forEach(k=>{G[k]=j[k]});const ee=X.toFiniteNumber(j.headers.get("content-length")),[D,R]=c&&c1(ee,md(h1(c),!0))||[];j=new Response(f1(j.body,p1,D,()=>{R&&R(),x&&x()}),G)}p=p||"text";let J=await gd[X.findKey(gd,p)||"text"](j,t);return!z&&x&&x(),await new Promise((G,ee)=>{iA(G,ee,{data:J,headers:vn.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:C})})}catch(M){throw x&&x(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,t,C),{cause:M.cause||M}):De.from(M,M&&M.code,t,C)}}),og={http:U9,xhr:gj,fetch:Cj};X.forEach(og,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const m1=t=>`- ${t}`,Aj=t=>X.isFunction(t)||t===null||t===!1,uA={getAdapter:t=>{t=X.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let a=0;a<e;a++){n=t[a];let l;if(r=n,!Aj(n)&&(r=og[(l=String(n)).toLowerCase()],r===void 0))throw new De(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+a]=r}if(!r){const a=Object.entries(s).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(m1).join(`
`):" "+m1(a[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:og};function hm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wa(null,t)}function g1(t){return hm(t),t.headers=vn.from(t.headers),t.data=cm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),uA.getAdapter(t.adapter||qu.adapter)(t).then(function(r){return hm(t),r.data=cm.call(t,t.transformResponse,r),r.headers=vn.from(r.headers),r},function(r){return rA(r)||(hm(t),r&&r.response&&(r.response.data=cm.call(t,t.transformResponse,r.response),r.response.headers=vn.from(r.response.headers))),Promise.reject(r)})}const cA="1.8.4",nf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{nf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const y1={};nf.transitional=function(e,n,r){function s(a,l){return"[Axios v"+cA+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,c)=>{if(e===!1)throw new De(s(l," has been removed"+(n?" in "+n:"")),De.ERR_DEPRECATED);return n&&!y1[l]&&(y1[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,c):!0}};nf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Rj(t,e,n){if(typeof t!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const a=r[s],l=e[a];if(l){const c=t[a],f=c===void 0||l(c,a,t);if(f!==!0)throw new De("option "+a+" must be "+f,De.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new De("Unknown option "+a,De.ERR_BAD_OPTION)}}const Uh={assertOptions:Rj,validators:nf},Sr=Uh.validators;class Xs{constructor(e){this.defaults=e,this.interceptors={request:new l1,response:new l1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=io(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&Uh.assertOptions(r,{silentJSONParsing:Sr.transitional(Sr.boolean),forcedJSONParsing:Sr.transitional(Sr.boolean),clarifyTimeoutError:Sr.transitional(Sr.boolean)},!1),s!=null&&(X.isFunction(s)?n.paramsSerializer={serialize:s}:Uh.assertOptions(s,{encode:Sr.function,serialize:Sr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Uh.assertOptions(n,{baseUrl:Sr.spelling("baseURL"),withXsrfToken:Sr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&X.merge(a.common,a[n.method]);a&&X.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),n.headers=vn.concat(l,a);const c=[];let f=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(f=f&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const p=[];this.interceptors.response.forEach(function(x){p.push(x.fulfilled,x.rejected)});let g,_=0,w;if(!f){const C=[g1.bind(this),void 0];for(C.unshift.apply(C,c),C.push.apply(C,p),w=C.length,g=Promise.resolve(n);_<w;)g=g.then(C[_++],C[_++]);return g}w=c.length;let S=n;for(_=0;_<w;){const C=c[_++],x=c[_++];try{S=C(S)}catch(P){x.call(this,P);break}}try{g=g1.call(this,S)}catch(C){return Promise.reject(C)}for(_=0,w=p.length;_<w;)g=g.then(p[_++],p[_++]);return g}getUri(e){e=io(this.defaults,e);const n=sA(e.baseURL,e.url,e.allowAbsoluteUrls);return eA(n,e.params,e.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(e){Xs.prototype[e]=function(n,r){return this.request(io(r||{},{method:e,url:n,data:(r||{}).data}))}});X.forEach(["post","put","patch"],function(e){function n(r){return function(a,l,c){return this.request(io(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Xs.prototype[e]=n(),Xs.prototype[e+"Form"]=n(!0)});class Uy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(c=>{r.subscribe(c),a=c}).then(s);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,c){r.reason||(r.reason=new Wa(a,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Uy(function(s){e=s}),cancel:e}}}function Pj(t){return function(n){return t.apply(null,n)}}function xj(t){return X.isObject(t)&&t.isAxiosError===!0}const ag={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ag).forEach(([t,e])=>{ag[e]=t});function hA(t){const e=new Xs(t),n=$C(Xs.prototype.request,e);return X.extend(n,Xs.prototype,e,{allOwnKeys:!0}),X.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return hA(io(t,s))},n}const _t=hA(qu);_t.Axios=Xs;_t.CanceledError=Wa;_t.CancelToken=Uy;_t.isCancel=rA;_t.VERSION=cA;_t.toFormData=ef;_t.AxiosError=De;_t.Cancel=_t.CanceledError;_t.all=function(e){return Promise.all(e)};_t.spread=Pj;_t.isAxiosError=xj;_t.mergeConfig=io;_t.AxiosHeaders=vn;_t.formToJSON=t=>nA(X.isHTMLForm(t)?new FormData(t):t);_t.getAdapter=uA.getAdapter;_t.HttpStatusCode=ag;_t.default=_t;const kj=()=>{const t=b.useContext(Yd),[e,n]=b.useState({name:"",email:"",contact:"",message:""}),[r,s]=b.useState(""),a=c=>{n({...e,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault();try{t.update(!0);const f=await _t.post("https://portfolio-shiv-server.vercel.app/send-email",e);t.update(!1),setTimeout(()=>{alert(f.data.message)},200),s(f.data.message),n({name:"",email:"",contact:"",message:""})}catch{t.update(!1),s("Failed to send message. Try again later."),alert("Failed to send message. Try again later.")}};return I.jsxs("div",{className:"screen",children:[I.jsxs("div",{className:"screen-header",children:[I.jsxs("div",{className:"screen-header-left",children:[I.jsx("div",{className:"screen-header-button close"}),I.jsx("div",{className:"screen-header-button maximize"}),I.jsx("div",{className:"screen-header-button minimize"})]}),I.jsxs("div",{className:"screen-header-right",children:[I.jsx("div",{className:"screen-header-ellipsis"}),I.jsx("div",{className:"screen-header-ellipsis"}),I.jsx("div",{className:"screen-header-ellipsis"})]})]}),I.jsxs("div",{className:"screen-body",children:[I.jsx("div",{className:"screen-body-item left",children:I.jsxs("div",{className:"app-title",children:[I.jsx("span",{children:"CONTACT"}),I.jsx("span",{children:"ME"})]})}),I.jsx("div",{className:"screen-body-item",children:I.jsxs("div",{className:"app-form",children:[I.jsx("div",{className:"app-form-group",children:I.jsx("input",{className:"app-form-control",placeholder:"NAME",value:e.name,name:"name",onChange:a})}),I.jsx("div",{className:"app-form-group",children:I.jsx("input",{className:"app-form-control",placeholder:"EMAIL",name:"email",value:e.email,onChange:a})}),I.jsx("div",{className:"app-form-group",children:I.jsx("input",{className:"app-form-control",placeholder:"CONTACT NO",name:"contact",value:e.contact,onChange:a})}),I.jsx("div",{className:"app-form-group message",children:I.jsx("input",{className:"app-form-control",placeholder:"MESSAGE",name:"message",value:e.message,onChange:a})}),I.jsxs("div",{className:"app-form-group buttons",children:[I.jsx("button",{className:"app-form-button",children:"CANCEL"}),I.jsx("button",{className:"app-form-button",onClick:l,children:"SEND"})]})]})})]})]})},bj=()=>{const[t,e]=b.useState(0),[n,r]=b.useState(!0),s=b.useContext(Fa),[a,l]=b.useState(!1),[c,f]=b.useState(!1),p=$u(ka,"experiences"),g=[700,580,600,450,570,580,600,450],_=[300,280,250,250,270,280,200,250,270,280,300,250,270,256,300,280,250,250,270,280,200,250,270,180,256,300,280],[w,S]=b.useState([{id:"",data:{companyName:"",duration:"",role:"",desc:"",order:0}}]);let C={companyName:"add project title here",desc:"Add project description here",duration:"Add duration in here 2022-2023/present",role:"Add role here",order:0};b.useEffect(()=>{(async()=>{try{const M=await Gd(p);if(M.docs.length==0)return;const z=M.docs.map(J=>({id:J.id,data:J.data()})).sort((J,G)=>J.data.order-G.data.order);S(z),r(!1)}catch(M){console.error(M)}})(),console.log(w)},[]);const x=b.useContext(cs);return I.jsxs(I.Fragment,{children:[s.user!=null&&!x&&I.jsx("button",{style:{position:"fixed",zIndex:9999},onClick:()=>{l(!0)},children:"📝 Edit"}),s.user!=null&&!x&&I.jsx("button",{style:{position:"fixed",marginTop:40,zIndex:9999},onClick:()=>{f(!0)},children:"➕ Add"}),a&&I.jsx(ba,{height:600,width:1500,jsonData:w[t].data,docId:w[t].id,close:()=>{l(!1)},entityName:"experiences",Preview:v1}),c&&I.jsx(ba,{height:600,width:1500,addFlag:!0,jsonData:C,close:()=>{f(!1)},entityName:"experiences",Preview:v1}),I.jsx($e.div,{className:"exp-container",initial:{transform:"translateY(100px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{type:"spring"},children:I.jsx("div",{children:I.jsx(Js,{width:x?375:1e3,content:I.jsxs(I.Fragment,{children:[I.jsxs($e.div,{className:"content-ex",initial:{opacity:0},animate:{opacity:1},transition:{type:$n,delay:.2},children:[I.jsxs("h4",{children:["Company Name : ",n?I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:I.jsx(yn,{count:1,width:300})}):w[t].data.companyName]}),I.jsx("h6",{children:n?I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:I.jsx("p",{children:I.jsx(yn,{count:1,width:200})})}):w[t].data.duration}),I.jsxs("label",{htmlFor:"",children:["#role : ",n?I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:I.jsx(yn,{count:1,width:100})}):w[t].data.role]}),I.jsx("label",{htmlFor:"",children:"#decription : "}),I.jsx("p",{children:n?I.jsx(Hn,{baseColor:"#202020",highlightColor:"#444",children:x?_.map((P,M)=>I.jsx("div",{children:I.jsx(yn,{width:P,borderRadius:10})},M)):g.map((P,M)=>I.jsx("div",{children:I.jsx(yn,{width:P,borderRadius:10})},M))}):w[t].data.desc})]},t),I.jsxs("div",{id:"btns",children:[I.jsx("button",{id:"prev",onClick:P=>{P.preventDefault(),t==0?e(w.length-1):e(t-1)},children:"</prev>"}),I.jsx("button",{id:"next",onClick:P=>{P.preventDefault(),t==w.length-1?e(0):e(t+1)},children:"</next>"})]})]})})})})]})},v1=({json:t})=>I.jsx($e.div,{className:"exp-container",style:{marginTop:20,marginLeft:0},initial:{transform:"translateY(100px)",opacity:0},animate:{transform:"translateY(0px)",opacity:1},transition:{type:"spring"},children:I.jsx("div",{children:I.jsx(Js,{width:1e3,content:I.jsxs(I.Fragment,{children:[I.jsxs($e.div,{className:"content-ex",initial:{opacity:0},animate:{opacity:1},transition:{type:$n,delay:.2},children:[I.jsxs("h4",{children:["Company Name : ",t.companyName]}),I.jsx("h6",{children:t.duration}),I.jsxs("label",{htmlFor:"",children:["#role : ",t.role]}),I.jsx("label",{htmlFor:"",children:"#decription : "}),I.jsx("p",{children:t.desc})]},t),I.jsxs("div",{id:"btns",children:[I.jsx("button",{id:"prev",children:"</prev>"}),I.jsx("button",{id:"next",children:"</next>"})]})]})})})}),Dj=()=>{const t=di();return I.jsx(xR,{children:I.jsxs(zb,{location:t,children:[I.jsx(Ws,{path:"/",element:I.jsx(Xk,{})}),I.jsx(Ws,{path:"/about",element:I.jsx($5,{})}),I.jsx(Ws,{path:"/projects",element:I.jsx(W5,{})}),I.jsx(Ws,{path:"/skills",element:I.jsx(e9,{})}),I.jsx(Ws,{path:"/experience",element:I.jsx(bj,{})}),I.jsx(Ws,{path:"/contactMe",element:I.jsx(kj,{})})]},t.pathname)})},Nj=()=>{let t=[{svg:`<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<linearGradient id="rL2wppHyxHVbobwndsT6Ca_AZOZNnY73haj_gr1" x1="4" x2="44" y1="23.508" y2="23.508" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#4c4c4c"></stop><stop offset="1" stop-color="#343434"></stop></linearGradient><path fill="url(#rL2wppHyxHVbobwndsT6Ca_AZOZNnY73haj_gr1)" d="M24,4C12.954,4,4,12.954,4,24c0,8.887,5.801,16.411,13.82,19.016h12.36	C38.199,40.411,44,32.887,44,24C44,12.954,35.046,4,24,4z"></path><path d="M30.01,41.996L30,36.198c0-0.939-0.22-1.856-0.642-2.687c5.641-1.133,8.386-4.468,8.386-10.177	c0-2.255-0.665-4.246-1.976-5.92c0.1-0.317,0.174-0.645,0.22-0.981c0.188-1.369-0.023-2.264-0.193-2.984l-0.027-0.116	c-0.186-0.796-0.409-1.364-0.418-1.388l-0.111-0.282l-0.111-0.282l-0.302-0.032l-0.303-0.032c0,0-0.199-0.021-0.501-0.021	c-0.419,0-1.04,0.042-1.627,0.241l-0.196,0.066c-0.74,0.249-1.439,0.485-2.417,1.069c-0.286,0.171-0.599,0.366-0.934,0.584	C27.334,12.881,25.705,12.69,24,12.69c-1.722,0-3.365,0.192-4.889,0.571c-0.339-0.22-0.654-0.417-0.942-0.589	c-0.978-0.584-1.677-0.819-2.417-1.069l-0.196-0.066c-0.585-0.199-1.207-0.241-1.626-0.241c-0.302,0-0.501,0.021-0.501,0.021	l-0.302,0.032l-0.3,0.031l-0.112,0.281l-0.113,0.283c-0.01,0.026-0.233,0.594-0.419,1.391l-0.027,0.115	c-0.17,0.719-0.381,1.615-0.193,2.983c0.048,0.346,0.125,0.685,0.23,1.011c-1.285,1.666-1.936,3.646-1.936,5.89	c0,5.695,2.748,9.028,8.397,10.17c-0.194,0.388-0.345,0.798-0.452,1.224c-0.197,0.067-0.378,0.112-0.538,0.137	c-0.238,0.036-0.487,0.054-0.739,0.054c-0.686,0-1.225-0.134-1.435-0.259c-0.313-0.186-0.872-0.727-1.414-1.518	c-0.463-0.675-1.185-1.558-1.992-1.927c-0.698-0.319-1.437-0.502-2.029-0.502c-0.138,0-0.265,0.01-0.376,0.028	c-0.517,0.082-0.949,0.366-1.184,0.78c-0.203,0.357-0.235,0.773-0.088,1.141c0.219,0.548,0.851,0.985,1.343,1.255	c0.242,0.133,0.765,0.619,1.07,1.109c0.229,0.368,0.335,0.63,0.482,0.992c0.087,0.215,0.183,0.449,0.313,0.732	c0.47,1.022,1.937,1.924,2.103,2.023c0.806,0.483,2.161,0.638,3.157,0.683l0.123,0.003c0,0,0.001,0,0.001,0	c0.24,0,0.57-0.023,1.004-0.071v2.613c0.002,0.529-0.537,0.649-1.25,0.638l0.547,0.184C19.395,43.572,21.645,44,24,44	c2.355,0,4.605-0.428,6.703-1.176l0.703-0.262C30.695,42.538,30.016,42.422,30.01,41.996z" opacity=".05"></path><path d="M30.781,42.797c-0.406,0.047-1.281-0.109-1.281-0.795v-5.804c0-1.094-0.328-2.151-0.936-3.052	c5.915-0.957,8.679-4.093,8.679-9.812c0-2.237-0.686-4.194-2.039-5.822c0.137-0.365,0.233-0.75,0.288-1.147	c0.175-1.276-0.016-2.086-0.184-2.801l-0.027-0.116c-0.178-0.761-0.388-1.297-0.397-1.319l-0.111-0.282l-0.303-0.032	c0,0-0.178-0.019-0.449-0.019c-0.381,0-0.944,0.037-1.466,0.215l-0.196,0.066c-0.714,0.241-1.389,0.468-2.321,1.024	c-0.332,0.198-0.702,0.431-1.101,0.694C27.404,13.394,25.745,13.19,24,13.19c-1.762,0-3.435,0.205-4.979,0.61	c-0.403-0.265-0.775-0.499-1.109-0.699c-0.932-0.556-1.607-0.784-2.321-1.024l-0.196-0.066c-0.521-0.177-1.085-0.215-1.466-0.215	c-0.271,0-0.449,0.019-0.449,0.019l-0.302,0.032l-0.113,0.283c-0.009,0.022-0.219,0.558-0.397,1.319l-0.027,0.116	c-0.169,0.715-0.36,1.524-0.184,2.8c0.056,0.407,0.156,0.801,0.298,1.174c-1.327,1.62-1.999,3.567-1.999,5.795	c0,5.703,2.766,8.838,8.686,9.806c-0.395,0.59-0.671,1.255-0.813,1.964c-0.33,0.13-0.629,0.216-0.891,0.256	c-0.263,0.04-0.537,0.06-0.814,0.06c-0.69,0-1.353-0.129-1.69-0.329c-0.44-0.261-1.057-0.914-1.572-1.665	c-0.35-0.51-1.047-1.417-1.788-1.755c-0.635-0.29-1.298-0.457-1.821-0.457c-0.11,0-0.21,0.008-0.298,0.022	c-0.366,0.058-0.668,0.252-0.828,0.534c-0.128,0.224-0.149,0.483-0.059,0.708c0.179,0.448,0.842,0.85,1.119,1.002	c0.335,0.184,0.919,0.744,1.254,1.284c0.251,0.404,0.37,0.697,0.521,1.067c0.085,0.209,0.178,0.437,0.304,0.712	c0.331,0.719,1.353,1.472,1.905,1.803c0.754,0.452,2.154,0.578,2.922,0.612l0.111,0.002c0.299,0,0.8-0.045,1.495-0.135v3.177	c0,0.779-0.991,0.81-1.234,0.81c-0.031,0,0.503,0.184,0.503,0.184C19.731,43.64,21.822,44,24,44c2.178,0,4.269-0.36,6.231-1.003	C30.231,42.997,30.812,42.793,30.781,42.797z" opacity=".07"></path><path fill="#fff" d="M36.744,23.334c0-2.31-0.782-4.226-2.117-5.728c0.145-0.325,0.296-0.761,0.371-1.309	c0.172-1.25-0.031-2-0.203-2.734s-0.375-1.25-0.375-1.25s-0.922-0.094-1.703,0.172s-1.453,0.469-2.422,1.047	c-0.453,0.27-0.909,0.566-1.27,0.806C27.482,13.91,25.785,13.69,24,13.69c-1.801,0-3.513,0.221-5.067,0.652	c-0.362-0.241-0.821-0.539-1.277-0.811c-0.969-0.578-1.641-0.781-2.422-1.047s-1.703-0.172-1.703-0.172s-0.203,0.516-0.375,1.25	s-0.375,1.484-0.203,2.734c0.077,0.562,0.233,1.006,0.382,1.333c-1.31,1.493-2.078,3.397-2.078,5.704	c0,5.983,3.232,8.714,9.121,9.435c-0.687,0.726-1.148,1.656-1.303,2.691c-0.387,0.17-0.833,0.33-1.262,0.394	c-1.104,0.167-2.271,0-2.833-0.333s-1.229-1.083-1.729-1.813c-0.422-0.616-1.031-1.331-1.583-1.583	c-0.729-0.333-1.438-0.458-1.833-0.396c-0.396,0.063-0.583,0.354-0.5,0.563c0.083,0.208,0.479,0.521,0.896,0.75	c0.417,0.229,1.063,0.854,1.438,1.458c0.418,0.674,0.5,1.063,0.854,1.833c0.249,0.542,1.101,1.219,1.708,1.583	c0.521,0.313,1.562,0.491,2.688,0.542c0.389,0.018,1.308-0.096,2.083-0.206v3.75c0,0.639-0.585,1.125-1.191,1.013	C19.756,43.668,21.833,44,24,44c2.166,0,4.243-0.332,6.19-0.984C29.585,43.127,29,42.641,29,42.002v-5.804	c0-1.329-0.527-2.53-1.373-3.425C33.473,32.071,36.744,29.405,36.744,23.334z M11.239,32.727c-0.154-0.079-0.237-0.225-0.185-0.328	c0.052-0.103,0.22-0.122,0.374-0.043c0.154,0.079,0.237,0.225,0.185,0.328S11.393,32.806,11.239,32.727z M12.451,33.482	c-0.081,0.088-0.255,0.06-0.389-0.062s-0.177-0.293-0.096-0.381c0.081-0.088,0.255-0.06,0.389,0.062S12.532,33.394,12.451,33.482z M13.205,34.732c-0.102,0.072-0.275,0.005-0.386-0.15s-0.118-0.34-0.016-0.412s0.275-0.005,0.386,0.15	C13.299,34.475,13.307,34.66,13.205,34.732z M14.288,35.673c-0.069,0.112-0.265,0.117-0.437,0.012s-0.256-0.281-0.187-0.393	c0.069-0.112,0.265-0.117,0.437-0.012S14.357,35.561,14.288,35.673z M15.312,36.594c-0.213-0.026-0.371-0.159-0.353-0.297	c0.017-0.138,0.204-0.228,0.416-0.202c0.213,0.026,0.371,0.159,0.353,0.297C15.711,36.529,15.525,36.62,15.312,36.594z M16.963,36.833c-0.227-0.013-0.404-0.143-0.395-0.289c0.009-0.146,0.2-0.255,0.427-0.242c0.227,0.013,0.404,0.143,0.395,0.289	C17.381,36.738,17.19,36.846,16.963,36.833z M18.521,36.677c-0.242,0-0.438-0.126-0.438-0.281s0.196-0.281,0.438-0.281	c0.242,0,0.438,0.126,0.438,0.281S18.762,36.677,18.521,36.677z"></path>
</svg>`,url:"https://github.com/en-rypted",platform:"github",qr:""},{svg:`<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<path fill="#0288D1" d="M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"></path><path fill="#FFF" d="M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"></path>
</svg>`,url:"https://www.linkedin.com/in/shivwakchaure?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app",platform:"linkedin",qr:""},{svg:`<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<path fill="#4caf50" d="M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"></path><path fill="#1e88e5" d="M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"></path><polygon fill="#e53935" points="35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"></polygon><path fill="#c62828" d="M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"></path><path fill="#fbc02d" d="M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"></path>
</svg>`,url:"shivwakchaure19@gmail.com",platform:"gmail",qr:""},{svg:`<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<radialGradient id="yOrnnhliCrdS2gy~4tD8ma_Xy10Jcu1L2Su_gr1" cx="19.38" cy="42.035" r="44.899" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fd5"></stop><stop offset=".328" stop-color="#ff543f"></stop><stop offset=".348" stop-color="#fc5245"></stop><stop offset=".504" stop-color="#e64771"></stop><stop offset=".643" stop-color="#d53e91"></stop><stop offset=".761" stop-color="#cc39a4"></stop><stop offset=".841" stop-color="#c837ab"></stop></radialGradient><path fill="url(#yOrnnhliCrdS2gy~4tD8ma_Xy10Jcu1L2Su_gr1)" d="M34.017,41.99l-20,0.019c-4.4,0.004-8.003-3.592-8.008-7.992l-0.019-20	c-0.004-4.4,3.592-8.003,7.992-8.008l20-0.019c4.4-0.004,8.003,3.592,8.008,7.992l0.019,20	C42.014,38.383,38.417,41.986,34.017,41.99z"></path><radialGradient id="yOrnnhliCrdS2gy~4tD8mb_Xy10Jcu1L2Su_gr2" cx="11.786" cy="5.54" r="29.813" gradientTransform="matrix(1 0 0 .6663 0 1.849)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#4168c9"></stop><stop offset=".999" stop-color="#4168c9" stop-opacity="0"></stop></radialGradient><path fill="url(#yOrnnhliCrdS2gy~4tD8mb_Xy10Jcu1L2Su_gr2)" d="M34.017,41.99l-20,0.019c-4.4,0.004-8.003-3.592-8.008-7.992l-0.019-20	c-0.004-4.4,3.592-8.003,7.992-8.008l20-0.019c4.4-0.004,8.003,3.592,8.008,7.992l0.019,20	C42.014,38.383,38.417,41.986,34.017,41.99z"></path><path fill="#fff" d="M24,31c-3.859,0-7-3.14-7-7s3.141-7,7-7s7,3.14,7,7S27.859,31,24,31z M24,19c-2.757,0-5,2.243-5,5	s2.243,5,5,5s5-2.243,5-5S26.757,19,24,19z"></path><circle cx="31.5" cy="16.5" r="1.5" fill="#fff"></circle><path fill="#fff" d="M30,37H18c-3.859,0-7-3.14-7-7V18c0-3.86,3.141-7,7-7h12c3.859,0,7,3.14,7,7v12	C37,33.86,33.859,37,30,37z M18,13c-2.757,0-5,2.243-5,5v12c0,2.757,2.243,5,5,5h12c2.757,0,5-2.243,5-5V18c0-2.757-2.243-5-5-5H18z"></path>
</svg>`,url:"https://www.instagram.com/19hi22?igsh=MXExNnRlcTM2cGV6OQ==",platform:"instagram",qr:""},{svg:`<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<path fill="#fff" d="M4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98c-0.001,0,0,0,0,0h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303z"></path><path fill="#fff" d="M4.868,43.803c-0.132,0-0.26-0.052-0.355-0.148c-0.125-0.127-0.174-0.312-0.127-0.483l2.639-9.636c-1.636-2.906-2.499-6.206-2.497-9.556C4.532,13.238,13.273,4.5,24.014,4.5c5.21,0.002,10.105,2.031,13.784,5.713c3.679,3.683,5.704,8.577,5.702,13.781c-0.004,10.741-8.746,19.48-19.486,19.48c-3.189-0.001-6.344-0.788-9.144-2.277l-9.875,2.589C4.953,43.798,4.911,43.803,4.868,43.803z"></path><path fill="#cfd8dc" d="M24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,4C24.014,4,24.014,4,24.014,4C12.998,4,4.032,12.962,4.027,23.979c-0.001,3.367,0.849,6.685,2.461,9.622l-2.585,9.439c-0.094,0.345,0.002,0.713,0.254,0.967c0.19,0.192,0.447,0.297,0.711,0.297c0.085,0,0.17-0.011,0.254-0.033l9.687-2.54c2.828,1.468,5.998,2.243,9.197,2.244c11.024,0,19.99-8.963,19.995-19.98c0.002-5.339-2.075-10.359-5.848-14.135C34.378,6.083,29.357,4.002,24.014,4L24.014,4z"></path><path fill="#40c351" d="M35.176,12.832c-2.98-2.982-6.941-4.625-11.157-4.626c-8.704,0-15.783,7.076-15.787,15.774c-0.001,2.981,0.833,5.883,2.413,8.396l0.376,0.597l-1.595,5.821l5.973-1.566l0.577,0.342c2.422,1.438,5.2,2.198,8.032,2.199h0.006c8.698,0,15.777-7.077,15.78-15.776C39.795,19.778,38.156,15.814,35.176,12.832z"></path><path fill="#fff" fill-rule="evenodd" d="M19.268,16.045c-0.355-0.79-0.729-0.806-1.068-0.82c-0.277-0.012-0.593-0.011-0.909-0.011c-0.316,0-0.83,0.119-1.265,0.594c-0.435,0.475-1.661,1.622-1.661,3.956c0,2.334,1.7,4.59,1.937,4.906c0.237,0.316,3.282,5.259,8.104,7.161c4.007,1.58,4.823,1.266,5.693,1.187c0.87-0.079,2.807-1.147,3.202-2.255c0.395-1.108,0.395-2.057,0.277-2.255c-0.119-0.198-0.435-0.316-0.909-0.554s-2.807-1.385-3.242-1.543c-0.435-0.158-0.751-0.237-1.068,0.238c-0.316,0.474-1.225,1.543-1.502,1.859c-0.277,0.317-0.554,0.357-1.028,0.119c-0.474-0.238-2.002-0.738-3.815-2.354c-1.41-1.257-2.362-2.81-2.639-3.285c-0.277-0.474-0.03-0.731,0.208-0.968c0.213-0.213,0.474-0.554,0.712-0.831c0.237-0.277,0.316-0.475,0.474-0.791c0.158-0.317,0.079-0.594-0.04-0.831C20.612,19.329,19.69,16.983,19.268,16.045z" clip-rule="evenodd"></path>
</svg>`,url:"https://wa.me/qr/3IPR4EEH4C2SH1",platform:"whatsapp",qr:""},{svg:`<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<path fill="#8c9eff" d="M40,12c0,0-4.585-3.588-10-4l-0.488,0.976C34.408,10.174,36.654,11.891,39,14c-4.045-2.065-8.039-4-15-4s-10.955,1.935-15,4c2.346-2.109,5.018-4.015,9.488-5.024L18,8c-5.681,0.537-10,4-10,4s-5.121,7.425-6,22c5.162,5.953,13,6,13,6l1.639-2.185C13.857,36.848,10.715,35.121,8,32c3.238,2.45,8.125,5,16,5s12.762-2.55,16-5c-2.715,3.121-5.857,4.848-8.639,5.815L33,40c0,0,7.838-0.047,13-6C45.121,19.425,40,12,40,12z M17.5,30c-1.933,0-3.5-1.791-3.5-4c0-2.209,1.567-4,3.5-4s3.5,1.791,3.5,4C21,28.209,19.433,30,17.5,30z M30.5,30c-1.933,0-3.5-1.791-3.5-4c0-2.209,1.567-4,3.5-4s3.5,1.791,3.5,4C34,28.209,32.433,30,30.5,30z"></path>
</svg>`,url:"",platform:"discord",qr:""}];return I.jsx($e.div,{className:"contact-container",initial:{opacity:.2},whileHover:{opacity:1},children:t.map((e,n)=>I.jsx($e.div,{initial:{opacity:1},whileHover:{scale:1.2,translateY:-20,opacity:1},whileTap:{scale:.9},transition:{type:"spring"},children:I.jsx("img",{onClick:async()=>{try{e.url.startsWith("http")?window.open(e.url):await navigator.clipboard.writeText(e.url)}catch(r){console.log(r)}},id:"social-icon",src:`data:image/svg+xml;utf8,${encodeURIComponent(e.svg)}`,alt:""})},n))})},Oj=()=>I.jsx("div",{className:"loaderContainer",children:I.jsx("span",{className:"loader"})}),Vj=({onClose:t})=>{const[e,n]=b.useState(""),[r,s]=b.useState(""),[a,l]=b.useState(""),[c,f]=b.useState(!1),p=async g=>{g.preventDefault();try{const _=await ZN(My,e,r);console.log("Signed in:",_.user),t()}catch(_){l(_.message)}};return I.jsx("div",{style:ar.overlay,children:I.jsxs("div",{style:ar.popup,children:[I.jsx("h2",{style:ar.title,children:"Sign In"}),I.jsxs("form",{onSubmit:p,style:ar.form,children:[I.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:g=>n(g.target.value),style:ar.input,required:!0}),I.jsxs("div",{style:ar.passwordWrapper,children:[I.jsx("input",{type:c?"text":"password",placeholder:"Password",value:r,onChange:g=>s(g.target.value),style:{...ar.input,paddingRight:"70px"},required:!0}),I.jsx("button",{type:"button",onClick:()=>f(g=>!g),style:ar.toggleButton,title:c?"Hide password":"Show password",children:c?"🙈":"👁️"})]}),a&&I.jsx("p",{style:ar.error,children:a}),I.jsx("button",{type:"submit",style:ar.button,children:"Sign In"}),I.jsx("button",{type:"button",style:ar.closeButton,onClick:t,children:"✖"})]})]})})},ar={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},popup:{backgroundColor:"#1e1e1e",color:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)",minWidth:"320px",position:"relative"},title:{marginBottom:"1rem",textAlign:"center"},form:{display:"flex",flexDirection:"column",gap:"1rem"},input:{padding:"10px",borderRadius:"6px",border:"1px solid #555",backgroundColor:"#2a2a2a",color:"#fff"},button:{padding:"10px",borderRadius:"6px",border:"none",backgroundColor:"#007acc",color:"#fff",cursor:"pointer"},closeButton:{position:"absolute",top:"8px",right:"10px",background:"transparent",border:"none",color:"#aaa",fontSize:"18px",cursor:"pointer"},error:{color:"red",fontSize:"14px",textAlign:"center"},passwordWrapper:{position:"relative"},toggleButton:{position:"absolute",right:"0px",top:"50%",transform:"translateY(-50%)",background:"transparent",border:"none",color:"#ccc",fontSize:"18px",cursor:"pointer"}};function Mj(){const t=b.useContext(Yd),[e,n]=b.useState(!1),r=b.useCallback(s=>{s.shiftKey===!0&&s.key==="L"&&n(!0)},[]);return b.useEffect(()=>(document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}),[r]),I.jsxs(I.Fragment,{children:[t.isLoder?I.jsx(Oj,{}):"",e&&I.jsx(Vj,{onClose:()=>{n(!1)}}),I.jsxs(dD,{children:[I.jsx(ML,{}),I.jsx(Dj,{}),I.jsx(Nj,{})]})]})}const Lj=t=>{const[e,n]=b.useState(window.innerWidth<=600);return b.useEffect(()=>{const r=()=>{n(window.innerWidth<=600)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),I.jsx(cs.Provider,{value:e,children:t.children})},jj=t=>{const[e,n]=b.useState(!1),r=s=>{n(s)};return I.jsx(Yd.Provider,{value:{isLoder:e,update:r},children:t.children})},Fj=t=>{const[e,n]=b.useState(null),[r,s]=b.useState(!0);return b.useEffect(()=>{const a=nO(My,l=>{n(l),s(!1)});return()=>a()},[]),I.jsx(Fa.Provider,{value:{user:e,loading:r},children:t.children})};SR.createRoot(document.getElementById("root")).render(I.jsx(b.StrictMode,{children:I.jsx(jj,{children:I.jsx(Lj,{children:I.jsx(Fj,{children:I.jsx(Mj,{})})})})}));
