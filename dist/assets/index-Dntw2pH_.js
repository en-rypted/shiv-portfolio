(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Cg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mp={exports:{}},Wl={},jp={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function J2(){if(yw)return De;yw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function b($,ee,ge){this.props=$,this.context=ee,this.refs=P,this.updater=ge||S}b.prototype.isReactComponent={},b.prototype.setState=function($,ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ee,"setState")},b.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function L(){}L.prototype=b.prototype;function B($,ee,ge){this.props=$,this.context=ee,this.refs=P,this.updater=ge||S}var O=B.prototype=new L;O.constructor=B,C(O,b.prototype),O.isPureReactComponent=!0;var K=Array.isArray,Q=Object.prototype.hasOwnProperty,Z={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function A($,ee,ge){var Pe,Ne={},Me=null,ze=null;if(ee!=null)for(Pe in ee.ref!==void 0&&(ze=ee.ref),ee.key!==void 0&&(Me=""+ee.key),ee)Q.call(ee,Pe)&&!N.hasOwnProperty(Pe)&&(Ne[Pe]=ee[Pe]);var $e=arguments.length-2;if($e===1)Ne.children=ge;else if(1<$e){for(var Ye=Array($e),Pt=0;Pt<$e;Pt++)Ye[Pt]=arguments[Pt+2];Ne.children=Ye}if($&&$.defaultProps)for(Pe in $e=$.defaultProps,$e)Ne[Pe]===void 0&&(Ne[Pe]=$e[Pe]);return{$$typeof:t,type:$,key:Me,ref:ze,props:Ne,_owner:Z.current}}function k($,ee){return{$$typeof:t,type:$.type,key:ee,ref:$.ref,props:$.props,_owner:$._owner}}function M($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function F($){var ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ge){return ee[ge]})}var z=/\/+/g;function V($,ee){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):ee.toString(36)}function tt($,ee,ge,Pe,Ne){var Me=typeof $;(Me==="undefined"||Me==="boolean")&&($=null);var ze=!1;if($===null)ze=!0;else switch(Me){case"string":case"number":ze=!0;break;case"object":switch($.$$typeof){case t:case e:ze=!0}}if(ze)return ze=$,Ne=Ne(ze),$=Pe===""?"."+V(ze,0):Pe,K(Ne)?(ge="",$!=null&&(ge=$.replace(z,"$&/")+"/"),tt(Ne,ee,ge,"",function(Pt){return Pt})):Ne!=null&&(M(Ne)&&(Ne=k(Ne,ge+(!Ne.key||ze&&ze.key===Ne.key?"":(""+Ne.key).replace(z,"$&/")+"/")+$)),ee.push(Ne)),1;if(ze=0,Pe=Pe===""?".":Pe+":",K($))for(var $e=0;$e<$.length;$e++){Me=$[$e];var Ye=Pe+V(Me,$e);ze+=tt(Me,ee,ge,Ye,Ne)}else if(Ye=x($),typeof Ye=="function")for($=Ye.call($),$e=0;!(Me=$.next()).done;)Me=Me.value,Ye=Pe+V(Me,$e++),ze+=tt(Me,ee,ge,Ye,Ne);else if(Me==="object")throw ee=String($),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return ze}function xt($,ee,ge){if($==null)return $;var Pe=[],Ne=0;return tt($,Pe,"","",function(Me){return ee.call(ge,Me,Ne++)}),Pe}function jt($){if($._status===-1){var ee=$._result;ee=ee(),ee.then(function(ge){($._status===0||$._status===-1)&&($._status=1,$._result=ge)},function(ge){($._status===0||$._status===-1)&&($._status=2,$._result=ge)}),$._status===-1&&($._status=0,$._result=ee)}if($._status===1)return $._result.default;throw $._result}var Ie={current:null},ie={transition:null},pe={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:xt,forEach:function($,ee,ge){xt($,function(){ee.apply(this,arguments)},ge)},count:function($){var ee=0;return xt($,function(){ee++}),ee},toArray:function($){return xt($,function(ee){return ee})||[]},only:function($){if(!M($))throw Error("React.Children.only expected to receive a single React element child.");return $}},De.Component=b,De.Fragment=n,De.Profiler=i,De.PureComponent=B,De.StrictMode=r,De.Suspense=d,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,De.act=le,De.cloneElement=function($,ee,ge){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Pe=C({},$.props),Ne=$.key,Me=$.ref,ze=$._owner;if(ee!=null){if(ee.ref!==void 0&&(Me=ee.ref,ze=Z.current),ee.key!==void 0&&(Ne=""+ee.key),$.type&&$.type.defaultProps)var $e=$.type.defaultProps;for(Ye in ee)Q.call(ee,Ye)&&!N.hasOwnProperty(Ye)&&(Pe[Ye]=ee[Ye]===void 0&&$e!==void 0?$e[Ye]:ee[Ye])}var Ye=arguments.length-2;if(Ye===1)Pe.children=ge;else if(1<Ye){$e=Array(Ye);for(var Pt=0;Pt<Ye;Pt++)$e[Pt]=arguments[Pt+2];Pe.children=$e}return{$$typeof:t,type:$.type,key:Ne,ref:Me,props:Pe,_owner:ze}},De.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},De.createElement=A,De.createFactory=function($){var ee=A.bind(null,$);return ee.type=$,ee},De.createRef=function(){return{current:null}},De.forwardRef=function($){return{$$typeof:c,render:$}},De.isValidElement=M,De.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:jt}},De.memo=function($,ee){return{$$typeof:p,type:$,compare:ee===void 0?null:ee}},De.startTransition=function($){var ee=ie.transition;ie.transition={};try{$()}finally{ie.transition=ee}},De.unstable_act=le,De.useCallback=function($,ee){return Ie.current.useCallback($,ee)},De.useContext=function($){return Ie.current.useContext($)},De.useDebugValue=function(){},De.useDeferredValue=function($){return Ie.current.useDeferredValue($)},De.useEffect=function($,ee){return Ie.current.useEffect($,ee)},De.useId=function(){return Ie.current.useId()},De.useImperativeHandle=function($,ee,ge){return Ie.current.useImperativeHandle($,ee,ge)},De.useInsertionEffect=function($,ee){return Ie.current.useInsertionEffect($,ee)},De.useLayoutEffect=function($,ee){return Ie.current.useLayoutEffect($,ee)},De.useMemo=function($,ee){return Ie.current.useMemo($,ee)},De.useReducer=function($,ee,ge){return Ie.current.useReducer($,ee,ge)},De.useRef=function($){return Ie.current.useRef($)},De.useState=function($){return Ie.current.useState($)},De.useSyncExternalStore=function($,ee,ge){return Ie.current.useSyncExternalStore($,ee,ge)},De.useTransition=function(){return Ie.current.useTransition()},De.version="18.3.1",De}var vw;function Ag(){return vw||(vw=1,jp.exports=J2()),jp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function Z2(){if(ww)return Wl;ww=1;var t=Ag(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,v={},x=null,S=null;p!==void 0&&(x=""+p),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(v[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:c,key:x,ref:S,props:v,_owner:i.current}}return Wl.Fragment=n,Wl.jsx=l,Wl.jsxs=l,Wl}var _w;function eC(){return _w||(_w=1,Mp.exports=Z2()),Mp.exports}var y=eC(),R=Ag();const Ht=Cg(R);var Fp={exports:{}},vn={},Up={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function tC(){return xw||(xw=1,function(t){function e(ie,pe){var le=ie.length;ie.push(pe);e:for(;0<le;){var $=le-1>>>1,ee=ie[$];if(0<i(ee,pe))ie[$]=pe,ie[le]=ee,le=$;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var pe=ie[0],le=ie.pop();if(le!==pe){ie[0]=le;e:for(var $=0,ee=ie.length,ge=ee>>>1;$<ge;){var Pe=2*($+1)-1,Ne=ie[Pe],Me=Pe+1,ze=ie[Me];if(0>i(Ne,le))Me<ee&&0>i(ze,Ne)?(ie[$]=ze,ie[Me]=le,$=Me):(ie[$]=Ne,ie[Pe]=le,$=Pe);else if(Me<ee&&0>i(ze,le))ie[$]=ze,ie[Me]=le,$=Me;else break e}}return pe}function i(ie,pe){var le=ie.sortIndex-pe.sortIndex;return le!==0?le:ie.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,v=null,x=3,S=!1,C=!1,P=!1,b=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ie){for(var pe=n(p);pe!==null;){if(pe.callback===null)r(p);else if(pe.startTime<=ie)r(p),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=n(p)}}function K(ie){if(P=!1,O(ie),!C)if(n(d)!==null)C=!0,jt(Q);else{var pe=n(p);pe!==null&&Ie(K,pe.startTime-ie)}}function Q(ie,pe){C=!1,P&&(P=!1,L(A),A=-1),S=!0;var le=x;try{for(O(pe),v=n(d);v!==null&&(!(v.expirationTime>pe)||ie&&!F());){var $=v.callback;if(typeof $=="function"){v.callback=null,x=v.priorityLevel;var ee=$(v.expirationTime<=pe);pe=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(d)&&r(d),O(pe)}else r(d);v=n(d)}if(v!==null)var ge=!0;else{var Pe=n(p);Pe!==null&&Ie(K,Pe.startTime-pe),ge=!1}return ge}finally{v=null,x=le,S=!1}}var Z=!1,N=null,A=-1,k=5,M=-1;function F(){return!(t.unstable_now()-M<k)}function z(){if(N!==null){var ie=t.unstable_now();M=ie;var pe=!0;try{pe=N(!0,ie)}finally{pe?V():(Z=!1,N=null)}}else Z=!1}var V;if(typeof B=="function")V=function(){B(z)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,xt=tt.port2;tt.port1.onmessage=z,V=function(){xt.postMessage(null)}}else V=function(){b(z,0)};function jt(ie){N=ie,Z||(Z=!0,V())}function Ie(ie,pe){A=b(function(){ie(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,jt(Q))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ie){switch(x){case 1:case 2:case 3:var pe=3;break;default:pe=x}var le=x;x=pe;try{return ie()}finally{x=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var le=x;x=ie;try{return pe()}finally{x=le}},t.unstable_scheduleCallback=function(ie,pe,le){var $=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?$+le:$):le=$,ie){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,ie={id:m++,callback:pe,priorityLevel:ie,startTime:le,expirationTime:ee,sortIndex:-1},le>$?(ie.sortIndex=le,e(p,ie),n(d)===null&&ie===n(p)&&(P?(L(A),A=-1):P=!0,Ie(K,le-$))):(ie.sortIndex=ee,e(d,ie),C||S||(C=!0,jt(Q))),ie},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ie){var pe=x;return function(){var le=x;x=pe;try{return ie.apply(this,arguments)}finally{x=le}}}}(Bp)),Bp}var Ew;function nC(){return Ew||(Ew=1,Up.exports=tC()),Up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function rC(){if(Tw)return vn;Tw=1;var t=Ag(),e=nC();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function x(s){return d.call(v,s)?!0:d.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function S(s,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,o,u,f){if(o===null||typeof o>"u"||S(s,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function P(s,o,u,f,g,_,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new P(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new P(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new P(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new P(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new P(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new P(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new P(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new P(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new P(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(L,B);b[o]=new P(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(L,B);b[o]=new P(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(L,B);b[o]=new P(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new P(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new P(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,o,u,f){var g=b.hasOwnProperty(o)?b[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,u,g,f)&&(u=null),f||g===null?x(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?s.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?s.setAttributeNS(f,o,u):s.setAttribute(o,u))))}var K=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),Z=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),jt=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),ie=Symbol.iterator;function pe(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,$;function ee(s){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+s}var ge=!1;function Pe(s,o){if(!s||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var f=G}Reflect.construct(s,[],o)}else{try{o.call()}catch(G){f=G}s.call(o.prototype)}else{try{throw Error()}catch(G){f=G}s()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var g=G.stack.split(`
`),_=f.stack.split(`
`),T=g.length-1,D=_.length-1;1<=T&&0<=D&&g[T]!==_[D];)D--;for(;1<=T&&0<=D;T--,D--)if(g[T]!==_[D]){if(T!==1||D!==1)do if(T--,D--,0>D||g[T]!==_[D]){var j=`
`+g[T].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=T&&0<=D);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function Ne(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=Pe(s.type,!1),s;case 11:return s=Pe(s.type.render,!1),s;case 1:return s=Pe(s.type,!0),s;default:return""}}function Me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case Z:return"Portal";case k:return"Profiler";case A:return"StrictMode";case V:return"Suspense";case tt:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case xt:return o=s.displayName||null,o!==null?o:Me(s.type)||"Memo";case jt:o=s._payload,s=s._init;try{return Me(s(o))}catch{}}return null}function ze(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ye(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Pt(s){var o=Ye(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ur(s){s._valueTracker||(s._valueTracker=Pt(s))}function go(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=Ye(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function ys(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function yi(s,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function yo(s,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=$e(o.value!=null?o.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Xa(s,o){o=o.checked,o!=null&&O(s,"checked",o,!1)}function Ja(s,o){Xa(s,o);var u=$e(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?vo(s,o.type,u):o.hasOwnProperty("defaultValue")&&vo(s,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Yu(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function vo(s,o,u){(o!=="number"||ys(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Br=Array.isArray;function zr(s,o,u,f){if(s=s.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=o.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&f&&(s[u].defaultSelected=!0)}else{for(u=""+$e(u),o=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Za(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function wo(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Br(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:$e(u)}}function _o(s,o){var u=$e(o.value),f=$e(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function el(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Et(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Et(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var $r,tl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return s(o,u,f,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=$r.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function vs(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wi=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(s){wi.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),vi[o]=vi[s]})});function nl(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||vi.hasOwnProperty(s)&&vi[s]?(""+o).trim():o+"px"}function rl(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=nl(u,o[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,g):s[u]=g}}var sl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function il(s,o){if(o){if(sl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function ol(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _i=null;function xo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Eo=null,Dn=null,gr=null;function To(s){if(s=Pl(s)){if(typeof Eo!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Ic(o),Eo(s.stateNode,s.type,o))}}function yr(s){Dn?gr?gr.push(s):gr=[s]:Dn=s}function al(){if(Dn){var s=Dn,o=gr;if(gr=Dn=null,To(s),o)for(s=0;s<o.length;s++)To(o[s])}}function xi(s,o){return s(o)}function ll(){}var Hr=!1;function ul(s,o,u){if(Hr)return s(o,u);Hr=!0;try{return xi(s,o,u)}finally{Hr=!1,(Dn!==null||gr!==null)&&(ll(),al())}}function dt(s,o){var u=s.stateNode;if(u===null)return null;var f=Ic(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var So=!1;if(c)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){So=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{So=!1}function Ei(s,o,u,f,g,_,T,D,j){var G=Array.prototype.slice.call(arguments,3);try{o.apply(u,G)}catch(ne){this.onError(ne)}}var Ti=!1,bo=null,Gn=!1,cl=null,hf={onError:function(s){Ti=!0,bo=s}};function Io(s,o,u,f,g,_,T,D,j){Ti=!1,bo=null,Ei.apply(hf,arguments)}function Xu(s,o,u,f,g,_,T,D,j){if(Io.apply(this,arguments),Ti){if(Ti){var G=bo;Ti=!1,bo=null}else throw Error(n(198));Gn||(Gn=!0,cl=G)}}function Qn(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function Si(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Yn(s){if(Qn(s)!==s)throw Error(n(188))}function Ju(s){var o=s.alternate;if(!o){if(o=Qn(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,f=o;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return Yn(g),s;if(_===f)return Yn(g),o;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=_;else{for(var T=!1,D=g.child;D;){if(D===u){T=!0,u=g,f=_;break}if(D===f){T=!0,f=g,u=_;break}D=D.sibling}if(!T){for(D=_.child;D;){if(D===u){T=!0,u=_,f=g;break}if(D===f){T=!0,f=_,u=g;break}D=D.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function hl(s){return s=Ju(s),s!==null?Co(s):null}function Co(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Co(s);if(o!==null)return o;s=s.sibling}return null}var Ao=e.unstable_scheduleCallback,dl=e.unstable_cancelCallback,Zu=e.unstable_shouldYield,df=e.unstable_requestPaint,Xe=e.unstable_now,ec=e.unstable_getCurrentPriorityLevel,bi=e.unstable_ImmediatePriority,ws=e.unstable_UserBlockingPriority,Ln=e.unstable_NormalPriority,fl=e.unstable_LowPriority,tc=e.unstable_IdlePriority,Ii=null,Sn=null;function nc(s){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Ii,s,void 0,(s.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:sc,pl=Math.log,rc=Math.LN2;function sc(s){return s>>>=0,s===0?32:31-(pl(s)/rc|0)|0}var Ro=64,Po=4194304;function _s(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ci(s,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,_=s.pingedLanes,T=u&268435455;if(T!==0){var D=T&~g;D!==0?f=_s(D):(_&=T,_!==0&&(f=_s(_)))}else T=u&~g,T!==0?f=_s(T):_!==0&&(f=_s(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,_=o&-o,g>=_||g===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)u=31-rn(o),g=1<<u,f|=s[u],o&=~g;return f}function ff(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var T=31-rn(_),D=1<<T,j=g[T];j===-1?((D&u)===0||(D&f)!==0)&&(g[T]=ff(D,o)):j<=o&&(s.expiredLanes|=D),_&=~D}}function bn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ai(){var s=Ro;return Ro<<=1,(Ro&4194240)===0&&(Ro=64),s}function xs(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Es(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-rn(o),s[o]=u}function Ge(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-rn(u),_=1<<g;o[g]=0,f[g]=-1,s[g]=-1,u&=~_}}function Ts(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-rn(u),g=1<<f;g&o|s[f]&o&&(s[f]|=o),u&=~g}}var Oe=0;function Ss(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ic,ko,oc,ac,lc,ml=!1,vr=[],Ft=null,Xn=null,Jn=null,bs=new Map,Vn=new Map,wr=[],pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(s,o){switch(s){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":bs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vn.delete(o.pointerId)}}function hn(s,o,u,f,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Pl(o),o!==null&&ko(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function mf(s,o,u,f,g){switch(o){case"focusin":return Ft=hn(Ft,s,o,u,f,g),!0;case"dragenter":return Xn=hn(Xn,s,o,u,f,g),!0;case"mouseover":return Jn=hn(Jn,s,o,u,f,g),!0;case"pointerover":var _=g.pointerId;return bs.set(_,hn(bs.get(_)||null,s,o,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,Vn.set(_,hn(Vn.get(_)||null,s,o,u,f,g)),!0}return!1}function cc(s){var o=Di(s.target);if(o!==null){var u=Qn(o);if(u!==null){if(o=u.tag,o===13){if(o=Si(u),o!==null){s.blockedOn=o,lc(s.priority,function(){oc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function qr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=No(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);_i=f,u.target.dispatchEvent(f),_i=null}else return o=Pl(u),o!==null&&ko(o),s.blockedOn=u,!1;o.shift()}return!0}function Ri(s,o,u){qr(s)&&u.delete(o)}function hc(){ml=!1,Ft!==null&&qr(Ft)&&(Ft=null),Xn!==null&&qr(Xn)&&(Xn=null),Jn!==null&&qr(Jn)&&(Jn=null),bs.forEach(Ri),Vn.forEach(Ri)}function Zn(s,o){s.blockedOn===o&&(s.blockedOn=null,ml||(ml=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hc)))}function er(s){function o(g){return Zn(g,s)}if(0<vr.length){Zn(vr[0],s);for(var u=1;u<vr.length;u++){var f=vr[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Ft!==null&&Zn(Ft,s),Xn!==null&&Zn(Xn,s),Jn!==null&&Zn(Jn,s),bs.forEach(o),Vn.forEach(o),u=0;u<wr.length;u++)f=wr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<wr.length&&(u=wr[0],u.blockedOn===null);)cc(u),u.blockedOn===null&&wr.shift()}var Kr=K.ReactCurrentBatchConfig,Is=!0;function nt(s,o,u,f){var g=Oe,_=Kr.transition;Kr.transition=null;try{Oe=1,gl(s,o,u,f)}finally{Oe=g,Kr.transition=_}}function gf(s,o,u,f){var g=Oe,_=Kr.transition;Kr.transition=null;try{Oe=4,gl(s,o,u,f)}finally{Oe=g,Kr.transition=_}}function gl(s,o,u,f){if(Is){var g=No(s,o,u,f);if(g===null)Cf(s,o,f,Pi,u),uc(s,f);else if(mf(g,s,o,u,f))f.stopPropagation();else if(uc(s,f),o&4&&-1<pf.indexOf(s)){for(;g!==null;){var _=Pl(g);if(_!==null&&ic(_),_=No(s,o,u,f),_===null&&Cf(s,o,f,Pi,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else Cf(s,o,f,null,u)}}var Pi=null;function No(s,o,u,f){if(Pi=null,s=xo(f),s=Di(s),s!==null)if(o=Qn(s),o===null)s=null;else if(u=o.tag,u===13){if(s=Si(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Pi=s,null}function yl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case bi:return 1;case ws:return 4;case Ln:case fl:return 16;case tc:return 536870912;default:return 16}default:return 16}}var In=null,Do=null,dn=null;function vl(){if(dn)return dn;var s,o=Do,u=o.length,f,g="value"in In?In.value:In.textContent,_=g.length;for(s=0;s<u&&o[s]===g[s];s++);var T=u-s;for(f=1;f<=T&&o[u-f]===g[_-f];f++);return dn=g.slice(s,1<f?1-f:void 0)}function Lo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function _r(){return!0}function wl(){return!1}function Ut(s){function o(u,f,g,_,T){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(u=s[D],this[D]=u?u(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?_r:wl,this.isPropagationStopped=wl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),o}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=Ut(tr),xr=le({},tr,{view:0,detail:0}),yf=Ut(xr),Oo,Gr,Cs,ki=le({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Cs&&(Cs&&s.type==="mousemove"?(Oo=s.screenX-Cs.screenX,Gr=s.screenY-Cs.screenY):Gr=Oo=0,Cs=s),Oo)},movementY:function(s){return"movementY"in s?s.movementY:Gr}}),Mo=Ut(ki),_l=le({},ki,{dataTransfer:0}),dc=Ut(_l),jo=le({},xr,{relatedTarget:0}),Fo=Ut(jo),fc=le({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qr=Ut(fc),pc=le({},tr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mc=Ut(pc),gc=le({},tr,{data:0}),xl=Ut(gc),Uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=yc[s])?!!o[s]:!1}function Er(){return vc}var h=le({},xr,{key:function(s){if(s.key){var o=Uo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Lo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(s){return s.type==="keypress"?Lo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Lo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=Ut(h),E=le({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Ut(E),H=le({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),Y=Ut(H),ae=le({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=Ut(ae),St=le({},ki,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Ut(St),kt=[9,13,27,32],yt=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Cn=c&&"TextEvent"in window&&!On,Ni=c&&(!yt||On&&8<On&&11>=On),Bo=" ",hv=!1;function dv(s,o){switch(s){case"keyup":return kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zo=!1;function QI(s,o){switch(s){case"compositionend":return fv(o);case"keypress":return o.which!==32?null:(hv=!0,Bo);case"textInput":return s=o.data,s===Bo&&hv?null:s;default:return null}}function YI(s,o){if(zo)return s==="compositionend"||!yt&&dv(s,o)?(s=vl(),dn=Do=In=null,zo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ni&&o.locale!=="ko"?null:o.data;default:return null}}var XI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!XI[s.type]:o==="textarea"}function mv(s,o,u,f){yr(f),o=Tc(o,"onChange"),0<o.length&&(u=new Vo("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var El=null,Tl=null;function JI(s){Dv(s,0)}function wc(s){var o=Ko(s);if(go(o))return s}function ZI(s,o){if(s==="change")return o}var gv=!1;if(c){var vf;if(c){var wf="oninput"in document;if(!wf){var yv=document.createElement("div");yv.setAttribute("oninput","return;"),wf=typeof yv.oninput=="function"}vf=wf}else vf=!1;gv=vf&&(!document.documentMode||9<document.documentMode)}function vv(){El&&(El.detachEvent("onpropertychange",wv),Tl=El=null)}function wv(s){if(s.propertyName==="value"&&wc(Tl)){var o=[];mv(o,Tl,s,xo(s)),ul(JI,o)}}function e2(s,o,u){s==="focusin"?(vv(),El=o,Tl=u,El.attachEvent("onpropertychange",wv)):s==="focusout"&&vv()}function t2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wc(Tl)}function n2(s,o){if(s==="click")return wc(o)}function r2(s,o){if(s==="input"||s==="change")return wc(o)}function s2(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var nr=typeof Object.is=="function"?Object.is:s2;function Sl(s,o){if(nr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!d.call(o,g)||!nr(s[g],o[g]))return!1}return!0}function _v(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xv(s,o){var u=_v(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=_v(u)}}function Ev(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ev(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Tv(){for(var s=window,o=ys();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ys(s.document)}return o}function _f(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function i2(s){var o=Tv(),u=s.focusedElem,f=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Ev(u.ownerDocument.documentElement,u)){if(f!==null&&_f(u)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!s.extend&&_>f&&(g=f,f=_,_=g),g=xv(u,_);var T=xv(u,f);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),_>f?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var o2=c&&"documentMode"in document&&11>=document.documentMode,$o=null,xf=null,bl=null,Ef=!1;function Sv(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ef||$o==null||$o!==ys(f)||(f=$o,"selectionStart"in f&&_f(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),bl&&Sl(bl,f)||(bl=f,f=Tc(xf,"onSelect"),0<f.length&&(o=new Vo("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=$o)))}function _c(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ho={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},Tf={},bv={};c&&(bv=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function xc(s){if(Tf[s])return Tf[s];if(!Ho[s])return s;var o=Ho[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in bv)return Tf[s]=o[u];return s}var Iv=xc("animationend"),Cv=xc("animationiteration"),Av=xc("animationstart"),Rv=xc("transitionend"),Pv=new Map,kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(s,o){Pv.set(s,o),a(o,[s])}for(var Sf=0;Sf<kv.length;Sf++){var bf=kv[Sf],a2=bf.toLowerCase(),l2=bf[0].toUpperCase()+bf.slice(1);As(a2,"on"+l2)}As(Iv,"onAnimationEnd"),As(Cv,"onAnimationIteration"),As(Av,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(Rv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function Nv(s,o,u){var f=s.type||"unknown-event";s.currentTarget=u,Xu(f,o,void 0,s),s.currentTarget=null}function Dv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],g=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var T=f.length-1;0<=T;T--){var D=f[T],j=D.instance,G=D.currentTarget;if(D=D.listener,j!==_&&g.isPropagationStopped())break e;Nv(g,D,G),_=j}else for(T=0;T<f.length;T++){if(D=f[T],j=D.instance,G=D.currentTarget,D=D.listener,j!==_&&g.isPropagationStopped())break e;Nv(g,D,G),_=j}}}if(Gn)throw s=cl,Gn=!1,cl=null,s}function Ze(s,o){var u=o[Df];u===void 0&&(u=o[Df]=new Set);var f=s+"__bubble";u.has(f)||(Lv(o,s,2,!1),u.add(f))}function If(s,o,u){var f=0;o&&(f|=4),Lv(u,s,f,o)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Cl(s){if(!s[Ec]){s[Ec]=!0,r.forEach(function(u){u!=="selectionchange"&&(u2.has(u)||If(u,!1,s),If(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ec]||(o[Ec]=!0,If("selectionchange",!1,o))}}function Lv(s,o,u,f){switch(yl(o)){case 1:var g=nt;break;case 4:g=gf;break;default:g=gl}u=g.bind(null,o,u,s),g=void 0,!So||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,u,{capture:!0,passive:g}):s.addEventListener(o,u,!0):g!==void 0?s.addEventListener(o,u,{passive:g}):s.addEventListener(o,u,!1)}function Cf(s,o,u,f,g){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var D=f.stateNode.containerInfo;if(D===g||D.nodeType===8&&D.parentNode===g)break;if(T===4)for(T=f.return;T!==null;){var j=T.tag;if((j===3||j===4)&&(j=T.stateNode.containerInfo,j===g||j.nodeType===8&&j.parentNode===g))return;T=T.return}for(;D!==null;){if(T=Di(D),T===null)return;if(j=T.tag,j===5||j===6){f=_=T;continue e}D=D.parentNode}}f=f.return}ul(function(){var G=_,ne=xo(u),se=[];e:{var te=Pv.get(s);if(te!==void 0){var ue=Vo,de=s;switch(s){case"keypress":if(Lo(u)===0)break e;case"keydown":case"keyup":ue=w;break;case"focusin":de="focus",ue=Fo;break;case"focusout":de="blur",ue=Fo;break;case"beforeblur":case"afterblur":ue=Fo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Y;break;case Iv:case Cv:case Av:ue=Qr;break;case Rv:ue=Ke;break;case"scroll":ue=yf;break;case"wheel":ue=je;break;case"copy":case"cut":case"paste":ue=mc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var fe=(o&4)!==0,ft=!fe&&s==="scroll",W=fe?te!==null?te+"Capture":null:te;fe=[];for(var U=G,q;U!==null;){q=U;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,W!==null&&(oe=dt(U,W),oe!=null&&fe.push(Al(U,oe,q)))),ft)break;U=U.return}0<fe.length&&(te=new ue(te,de,null,u,ne),se.push({event:te,listeners:fe}))}}if((o&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",te&&u!==_i&&(de=u.relatedTarget||u.fromElement)&&(Di(de)||de[Yr]))break e;if((ue||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(de=u.relatedTarget||u.toElement,ue=G,de=de?Di(de):null,de!==null&&(ft=Qn(de),de!==ft||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=G),ue!==de)){if(fe=Mo,oe="onMouseLeave",W="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(fe=I,oe="onPointerLeave",W="onPointerEnter",U="pointer"),ft=ue==null?te:Ko(ue),q=de==null?te:Ko(de),te=new fe(oe,U+"leave",ue,u,ne),te.target=ft,te.relatedTarget=q,oe=null,Di(ne)===G&&(fe=new fe(W,U+"enter",de,u,ne),fe.target=q,fe.relatedTarget=ft,oe=fe),ft=oe,ue&&de)t:{for(fe=ue,W=de,U=0,q=fe;q;q=Wo(q))U++;for(q=0,oe=W;oe;oe=Wo(oe))q++;for(;0<U-q;)fe=Wo(fe),U--;for(;0<q-U;)W=Wo(W),q--;for(;U--;){if(fe===W||W!==null&&fe===W.alternate)break t;fe=Wo(fe),W=Wo(W)}fe=null}else fe=null;ue!==null&&Vv(se,te,ue,fe,!1),de!==null&&ft!==null&&Vv(se,ft,de,fe,!0)}}e:{if(te=G?Ko(G):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var me=ZI;else if(pv(te))if(gv)me=r2;else{me=t2;var ve=e2}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(me=n2);if(me&&(me=me(s,G))){mv(se,me,u,ne);break e}ve&&ve(s,te,G),s==="focusout"&&(ve=te._wrapperState)&&ve.controlled&&te.type==="number"&&vo(te,"number",te.value)}switch(ve=G?Ko(G):window,s){case"focusin":(pv(ve)||ve.contentEditable==="true")&&($o=ve,xf=G,bl=null);break;case"focusout":bl=xf=$o=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,Sv(se,u,ne);break;case"selectionchange":if(o2)break;case"keydown":case"keyup":Sv(se,u,ne)}var we;if(yt)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else zo?dv(s,u)&&(be="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(be="onCompositionStart");be&&(Ni&&u.locale!=="ko"&&(zo||be!=="onCompositionStart"?be==="onCompositionEnd"&&zo&&(we=vl()):(In=ne,Do="value"in In?In.value:In.textContent,zo=!0)),ve=Tc(G,be),0<ve.length&&(be=new xl(be,s,null,u,ne),se.push({event:be,listeners:ve}),we?be.data=we:(we=fv(u),we!==null&&(be.data=we)))),(we=Cn?QI(s,u):YI(s,u))&&(G=Tc(G,"onBeforeInput"),0<G.length&&(ne=new xl("onBeforeInput","beforeinput",null,u,ne),se.push({event:ne,listeners:G}),ne.data=we))}Dv(se,o)})}function Al(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Tc(s,o){for(var u=o+"Capture",f=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=dt(s,u),_!=null&&f.unshift(Al(s,_,g)),_=dt(s,o),_!=null&&f.push(Al(s,_,g))),s=s.return}return f}function Wo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Vv(s,o,u,f,g){for(var _=o._reactName,T=[];u!==null&&u!==f;){var D=u,j=D.alternate,G=D.stateNode;if(j!==null&&j===f)break;D.tag===5&&G!==null&&(D=G,g?(j=dt(u,_),j!=null&&T.unshift(Al(u,j,D))):g||(j=dt(u,_),j!=null&&T.push(Al(u,j,D)))),u=u.return}T.length!==0&&s.push({event:o,listeners:T})}var c2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function Ov(s){return(typeof s=="string"?s:""+s).replace(c2,`
`).replace(h2,"")}function Sc(s,o,u){if(o=Ov(o),Ov(s)!==o&&u)throw Error(n(425))}function bc(){}var Af=null,Rf=null;function Pf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(s){return Mv.resolve(null).then(s).catch(p2)}:kf;function p2(s){setTimeout(function(){throw s})}function Nf(s,o){var u=o,f=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){s.removeChild(g),er(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);er(o)}function Rs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function jv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var qo=Math.random().toString(36).slice(2),Tr="__reactFiber$"+qo,Rl="__reactProps$"+qo,Yr="__reactContainer$"+qo,Df="__reactEvents$"+qo,m2="__reactListeners$"+qo,g2="__reactHandles$"+qo;function Di(s){var o=s[Tr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Yr]||u[Tr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=jv(s);s!==null;){if(u=s[Tr])return u;s=jv(s)}return o}s=u,u=s.parentNode}return null}function Pl(s){return s=s[Tr]||s[Yr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ko(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Ic(s){return s[Rl]||null}var Lf=[],Go=-1;function Ps(s){return{current:s}}function et(s){0>Go||(s.current=Lf[Go],Lf[Go]=null,Go--)}function Je(s,o){Go++,Lf[Go]=s.current,s.current=o}var ks={},Gt=Ps(ks),fn=Ps(!1),Li=ks;function Qo(s,o){var u=s.type.contextTypes;if(!u)return ks;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=o[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function pn(s){return s=s.childContextTypes,s!=null}function Cc(){et(fn),et(Gt)}function Fv(s,o,u){if(Gt.current!==ks)throw Error(n(168));Je(Gt,o),Je(fn,u)}function Uv(s,o,u){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,ze(s)||"Unknown",g));return le({},u,f)}function Ac(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ks,Li=Gt.current,Je(Gt,s),Je(fn,fn.current),!0}function Bv(s,o,u){var f=s.stateNode;if(!f)throw Error(n(169));u?(s=Uv(s,o,Li),f.__reactInternalMemoizedMergedChildContext=s,et(fn),et(Gt),Je(Gt,s)):et(fn),Je(fn,u)}var Xr=null,Rc=!1,Vf=!1;function zv(s){Xr===null?Xr=[s]:Xr.push(s)}function y2(s){Rc=!0,zv(s)}function Ns(){if(!Vf&&Xr!==null){Vf=!0;var s=0,o=Oe;try{var u=Xr;for(Oe=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Xr=null,Rc=!1}catch(g){throw Xr!==null&&(Xr=Xr.slice(s+1)),Ao(bi,Ns),g}finally{Oe=o,Vf=!1}}return null}var Yo=[],Xo=0,Pc=null,kc=0,Mn=[],jn=0,Vi=null,Jr=1,Zr="";function Oi(s,o){Yo[Xo++]=kc,Yo[Xo++]=Pc,Pc=s,kc=o}function $v(s,o,u){Mn[jn++]=Jr,Mn[jn++]=Zr,Mn[jn++]=Vi,Vi=s;var f=Jr;s=Zr;var g=32-rn(f)-1;f&=~(1<<g),u+=1;var _=32-rn(o)+g;if(30<_){var T=g-g%5;_=(f&(1<<T)-1).toString(32),f>>=T,g-=T,Jr=1<<32-rn(o)+g|u<<g|f,Zr=_+s}else Jr=1<<_|u<<g|f,Zr=s}function Of(s){s.return!==null&&(Oi(s,1),$v(s,1,0))}function Mf(s){for(;s===Pc;)Pc=Yo[--Xo],Yo[Xo]=null,kc=Yo[--Xo],Yo[Xo]=null;for(;s===Vi;)Vi=Mn[--jn],Mn[jn]=null,Zr=Mn[--jn],Mn[jn]=null,Jr=Mn[--jn],Mn[jn]=null}var An=null,Rn=null,rt=!1,rr=null;function Hv(s,o){var u=zn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Wv(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,An=s,Rn=Rs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,An=s,Rn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Vi!==null?{id:Jr,overflow:Zr}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=zn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,An=s,Rn=null,!0):!1;default:return!1}}function jf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ff(s){if(rt){var o=Rn;if(o){var u=o;if(!Wv(s,o)){if(jf(s))throw Error(n(418));o=Rs(u.nextSibling);var f=An;o&&Wv(s,o)?Hv(f,u):(s.flags=s.flags&-4097|2,rt=!1,An=s)}}else{if(jf(s))throw Error(n(418));s.flags=s.flags&-4097|2,rt=!1,An=s}}}function qv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;An=s}function Nc(s){if(s!==An)return!1;if(!rt)return qv(s),rt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Pf(s.type,s.memoizedProps)),o&&(o=Rn)){if(jf(s))throw Kv(),Error(n(418));for(;o;)Hv(s,o),o=Rs(o.nextSibling)}if(qv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Rn=Rs(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Rn=null}}else Rn=An?Rs(s.stateNode.nextSibling):null;return!0}function Kv(){for(var s=Rn;s;)s=Rs(s.nextSibling)}function Jo(){Rn=An=null,rt=!1}function Uf(s){rr===null?rr=[s]:rr.push(s)}var v2=K.ReactCurrentBatchConfig;function kl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,s));var g=f,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(T){var D=g.refs;T===null?delete D[_]:D[_]=T},o._stringRef=_,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Dc(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Gv(s){var o=s._init;return o(s._payload)}function Qv(s){function o(W,U){if(s){var q=W.deletions;q===null?(W.deletions=[U],W.flags|=16):q.push(U)}}function u(W,U){if(!s)return null;for(;U!==null;)o(W,U),U=U.sibling;return null}function f(W,U){for(W=new Map;U!==null;)U.key!==null?W.set(U.key,U):W.set(U.index,U),U=U.sibling;return W}function g(W,U){return W=Us(W,U),W.index=0,W.sibling=null,W}function _(W,U,q){return W.index=q,s?(q=W.alternate,q!==null?(q=q.index,q<U?(W.flags|=2,U):q):(W.flags|=2,U)):(W.flags|=1048576,U)}function T(W){return s&&W.alternate===null&&(W.flags|=2),W}function D(W,U,q,oe){return U===null||U.tag!==6?(U=kp(q,W.mode,oe),U.return=W,U):(U=g(U,q),U.return=W,U)}function j(W,U,q,oe){var me=q.type;return me===N?ne(W,U,q.props.children,oe,q.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===jt&&Gv(me)===U.type)?(oe=g(U,q.props),oe.ref=kl(W,U,q),oe.return=W,oe):(oe=rh(q.type,q.key,q.props,null,W.mode,oe),oe.ref=kl(W,U,q),oe.return=W,oe)}function G(W,U,q,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Np(q,W.mode,oe),U.return=W,U):(U=g(U,q.children||[]),U.return=W,U)}function ne(W,U,q,oe,me){return U===null||U.tag!==7?(U=Hi(q,W.mode,oe,me),U.return=W,U):(U=g(U,q),U.return=W,U)}function se(W,U,q){if(typeof U=="string"&&U!==""||typeof U=="number")return U=kp(""+U,W.mode,q),U.return=W,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:return q=rh(U.type,U.key,U.props,null,W.mode,q),q.ref=kl(W,null,U),q.return=W,q;case Z:return U=Np(U,W.mode,q),U.return=W,U;case jt:var oe=U._init;return se(W,oe(U._payload),q)}if(Br(U)||pe(U))return U=Hi(U,W.mode,q,null),U.return=W,U;Dc(W,U)}return null}function te(W,U,q,oe){var me=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return me!==null?null:D(W,U,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Q:return q.key===me?j(W,U,q,oe):null;case Z:return q.key===me?G(W,U,q,oe):null;case jt:return me=q._init,te(W,U,me(q._payload),oe)}if(Br(q)||pe(q))return me!==null?null:ne(W,U,q,oe,null);Dc(W,q)}return null}function ue(W,U,q,oe,me){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return W=W.get(q)||null,D(U,W,""+oe,me);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Q:return W=W.get(oe.key===null?q:oe.key)||null,j(U,W,oe,me);case Z:return W=W.get(oe.key===null?q:oe.key)||null,G(U,W,oe,me);case jt:var ve=oe._init;return ue(W,U,q,ve(oe._payload),me)}if(Br(oe)||pe(oe))return W=W.get(q)||null,ne(U,W,oe,me,null);Dc(U,oe)}return null}function de(W,U,q,oe){for(var me=null,ve=null,we=U,be=U=0,Lt=null;we!==null&&be<q.length;be++){we.index>be?(Lt=we,we=null):Lt=we.sibling;var Be=te(W,we,q[be],oe);if(Be===null){we===null&&(we=Lt);break}s&&we&&Be.alternate===null&&o(W,we),U=_(Be,U,be),ve===null?me=Be:ve.sibling=Be,ve=Be,we=Lt}if(be===q.length)return u(W,we),rt&&Oi(W,be),me;if(we===null){for(;be<q.length;be++)we=se(W,q[be],oe),we!==null&&(U=_(we,U,be),ve===null?me=we:ve.sibling=we,ve=we);return rt&&Oi(W,be),me}for(we=f(W,we);be<q.length;be++)Lt=ue(we,W,be,q[be],oe),Lt!==null&&(s&&Lt.alternate!==null&&we.delete(Lt.key===null?be:Lt.key),U=_(Lt,U,be),ve===null?me=Lt:ve.sibling=Lt,ve=Lt);return s&&we.forEach(function(Bs){return o(W,Bs)}),rt&&Oi(W,be),me}function fe(W,U,q,oe){var me=pe(q);if(typeof me!="function")throw Error(n(150));if(q=me.call(q),q==null)throw Error(n(151));for(var ve=me=null,we=U,be=U=0,Lt=null,Be=q.next();we!==null&&!Be.done;be++,Be=q.next()){we.index>be?(Lt=we,we=null):Lt=we.sibling;var Bs=te(W,we,Be.value,oe);if(Bs===null){we===null&&(we=Lt);break}s&&we&&Bs.alternate===null&&o(W,we),U=_(Bs,U,be),ve===null?me=Bs:ve.sibling=Bs,ve=Bs,we=Lt}if(Be.done)return u(W,we),rt&&Oi(W,be),me;if(we===null){for(;!Be.done;be++,Be=q.next())Be=se(W,Be.value,oe),Be!==null&&(U=_(Be,U,be),ve===null?me=Be:ve.sibling=Be,ve=Be);return rt&&Oi(W,be),me}for(we=f(W,we);!Be.done;be++,Be=q.next())Be=ue(we,W,be,Be.value,oe),Be!==null&&(s&&Be.alternate!==null&&we.delete(Be.key===null?be:Be.key),U=_(Be,U,be),ve===null?me=Be:ve.sibling=Be,ve=Be);return s&&we.forEach(function(X2){return o(W,X2)}),rt&&Oi(W,be),me}function ft(W,U,q,oe){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Q:e:{for(var me=q.key,ve=U;ve!==null;){if(ve.key===me){if(me=q.type,me===N){if(ve.tag===7){u(W,ve.sibling),U=g(ve,q.props.children),U.return=W,W=U;break e}}else if(ve.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===jt&&Gv(me)===ve.type){u(W,ve.sibling),U=g(ve,q.props),U.ref=kl(W,ve,q),U.return=W,W=U;break e}u(W,ve);break}else o(W,ve);ve=ve.sibling}q.type===N?(U=Hi(q.props.children,W.mode,oe,q.key),U.return=W,W=U):(oe=rh(q.type,q.key,q.props,null,W.mode,oe),oe.ref=kl(W,U,q),oe.return=W,W=oe)}return T(W);case Z:e:{for(ve=q.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){u(W,U.sibling),U=g(U,q.children||[]),U.return=W,W=U;break e}else{u(W,U);break}else o(W,U);U=U.sibling}U=Np(q,W.mode,oe),U.return=W,W=U}return T(W);case jt:return ve=q._init,ft(W,U,ve(q._payload),oe)}if(Br(q))return de(W,U,q,oe);if(pe(q))return fe(W,U,q,oe);Dc(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,U!==null&&U.tag===6?(u(W,U.sibling),U=g(U,q),U.return=W,W=U):(u(W,U),U=kp(q,W.mode,oe),U.return=W,W=U),T(W)):u(W,U)}return ft}var Zo=Qv(!0),Yv=Qv(!1),Lc=Ps(null),Vc=null,ea=null,Bf=null;function zf(){Bf=ea=Vc=null}function $f(s){var o=Lc.current;et(Lc),s._currentValue=o}function Hf(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function ta(s,o){Vc=s,Bf=ea=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(mn=!0),s.firstContext=null)}function Fn(s){var o=s._currentValue;if(Bf!==s)if(s={context:s,memoizedValue:o,next:null},ea===null){if(Vc===null)throw Error(n(308));ea=s,Vc.dependencies={lanes:0,firstContext:s}}else ea=ea.next=s;return o}var Mi=null;function Wf(s){Mi===null?Mi=[s]:Mi.push(s)}function Xv(s,o,u,f){var g=o.interleaved;return g===null?(u.next=u,Wf(o)):(u.next=g.next,g.next=u),o.interleaved=u,es(s,f)}function es(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ds=!1;function qf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ts(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ls(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ue&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,es(s,u)}return g=f.interleaved,g===null?(o.next=o,Wf(f)):(o.next=g.next,g.next=o),f.interleaved=o,es(s,u)}function Oc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Ts(s,u)}}function Zv(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=T:_=_.next=T,u=u.next}while(u!==null);_===null?g=_=o:_=_.next=o}else g=_=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Mc(s,o,u,f){var g=s.updateQueue;Ds=!1;var _=g.firstBaseUpdate,T=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var j=D,G=j.next;j.next=null,T===null?_=G:T.next=G,T=j;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,D=ne.lastBaseUpdate,D!==T&&(D===null?ne.firstBaseUpdate=G:D.next=G,ne.lastBaseUpdate=j))}if(_!==null){var se=g.baseState;T=0,ne=G=j=null,D=_;do{var te=D.lane,ue=D.eventTime;if((f&te)===te){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var de=s,fe=D;switch(te=o,ue=u,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){se=de.call(ue,se,te);break e}se=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,te=typeof de=="function"?de.call(ue,se,te):de,te==null)break e;se=le({},se,te);break e;case 2:Ds=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,te=g.effects,te===null?g.effects=[D]:te.push(D))}else ue={eventTime:ue,lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ne===null?(G=ne=ue,j=se):ne=ne.next=ue,T|=te;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;te=D,D=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);if(ne===null&&(j=se),g.baseState=j,g.firstBaseUpdate=G,g.lastBaseUpdate=ne,o=g.shared.interleaved,o!==null){g=o;do T|=g.lane,g=g.next;while(g!==o)}else _===null&&(g.shared.lanes=0);Ui|=T,s.lanes=T,s.memoizedState=se}}function e0(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var Nl={},Sr=Ps(Nl),Dl=Ps(Nl),Ll=Ps(Nl);function ji(s){if(s===Nl)throw Error(n(174));return s}function Kf(s,o){switch(Je(Ll,o),Je(Dl,s),Je(Sr,Nl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Tt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Tt(o,s)}et(Sr),Je(Sr,o)}function na(){et(Sr),et(Dl),et(Ll)}function t0(s){ji(Ll.current);var o=ji(Sr.current),u=Tt(o,s.type);o!==u&&(Je(Dl,s),Je(Sr,u))}function Gf(s){Dl.current===s&&(et(Sr),et(Dl))}var it=Ps(0);function jc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Qf=[];function Yf(){for(var s=0;s<Qf.length;s++)Qf[s]._workInProgressVersionPrimary=null;Qf.length=0}var Fc=K.ReactCurrentDispatcher,Xf=K.ReactCurrentBatchConfig,Fi=0,ot=null,bt=null,Nt=null,Uc=!1,Vl=!1,Ol=0,w2=0;function Qt(){throw Error(n(321))}function Jf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!nr(s[u],o[u]))return!1;return!0}function Zf(s,o,u,f,g,_){if(Fi=_,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fc.current=s===null||s.memoizedState===null?T2:S2,s=u(f,g),Vl){_=0;do{if(Vl=!1,Ol=0,25<=_)throw Error(n(301));_+=1,Nt=bt=null,o.updateQueue=null,Fc.current=b2,s=u(f,g)}while(Vl)}if(Fc.current=$c,o=bt!==null&&bt.next!==null,Fi=0,Nt=bt=ot=null,Uc=!1,o)throw Error(n(300));return s}function ep(){var s=Ol!==0;return Ol=0,s}function br(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ot.memoizedState=Nt=s:Nt=Nt.next=s,Nt}function Un(){if(bt===null){var s=ot.alternate;s=s!==null?s.memoizedState:null}else s=bt.next;var o=Nt===null?ot.memoizedState:Nt.next;if(o!==null)Nt=o,bt=s;else{if(s===null)throw Error(n(310));bt=s,s={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Nt===null?ot.memoizedState=Nt=s:Nt=Nt.next=s}return Nt}function Ml(s,o){return typeof o=="function"?o(s):o}function tp(s){var o=Un(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=bt,g=f.baseQueue,_=u.pending;if(_!==null){if(g!==null){var T=g.next;g.next=_.next,_.next=T}f.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,f=f.baseState;var D=T=null,j=null,G=_;do{var ne=G.lane;if((Fi&ne)===ne)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:s(f,G.action);else{var se={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(D=j=se,T=f):j=j.next=se,ot.lanes|=ne,Ui|=ne}G=G.next}while(G!==null&&G!==_);j===null?T=f:j.next=D,nr(f,o.memoizedState)||(mn=!0),o.memoizedState=f,o.baseState=T,o.baseQueue=j,u.lastRenderedState=f}if(s=u.interleaved,s!==null){g=s;do _=g.lane,ot.lanes|=_,Ui|=_,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function np(s){var o=Un(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var f=u.dispatch,g=u.pending,_=o.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do _=s(_,T.action),T=T.next;while(T!==g);nr(_,o.memoizedState)||(mn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function n0(){}function r0(s,o){var u=ot,f=Un(),g=o(),_=!nr(f.memoizedState,g);if(_&&(f.memoizedState=g,mn=!0),f=f.queue,rp(o0.bind(null,u,f,s),[s]),f.getSnapshot!==o||_||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,jl(9,i0.bind(null,u,f,g,o),void 0,null),Dt===null)throw Error(n(349));(Fi&30)!==0||s0(u,o,g)}return g}function s0(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function i0(s,o,u,f){o.value=u,o.getSnapshot=f,a0(o)&&l0(s)}function o0(s,o,u){return u(function(){a0(o)&&l0(s)})}function a0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!nr(s,u)}catch{return!0}}function l0(s){var o=es(s,1);o!==null&&ar(o,s,1,-1)}function u0(s){var o=br();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:s},o.queue=s,s=s.dispatch=E2.bind(null,ot,s),[o.memoizedState,s]}function jl(s,o,u,f){return s={tag:s,create:o,destroy:u,deps:f,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s)),s}function c0(){return Un().memoizedState}function Bc(s,o,u,f){var g=br();ot.flags|=s,g.memoizedState=jl(1|o,u,void 0,f===void 0?null:f)}function zc(s,o,u,f){var g=Un();f=f===void 0?null:f;var _=void 0;if(bt!==null){var T=bt.memoizedState;if(_=T.destroy,f!==null&&Jf(f,T.deps)){g.memoizedState=jl(o,u,_,f);return}}ot.flags|=s,g.memoizedState=jl(1|o,u,_,f)}function h0(s,o){return Bc(8390656,8,s,o)}function rp(s,o){return zc(2048,8,s,o)}function d0(s,o){return zc(4,2,s,o)}function f0(s,o){return zc(4,4,s,o)}function p0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function m0(s,o,u){return u=u!=null?u.concat([s]):null,zc(4,4,p0.bind(null,o,s),u)}function sp(){}function g0(s,o){var u=Un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Jf(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function y0(s,o){var u=Un();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Jf(o,f[1])?f[0]:(s=s(),u.memoizedState=[s,o],s)}function v0(s,o,u){return(Fi&21)===0?(s.baseState&&(s.baseState=!1,mn=!0),s.memoizedState=u):(nr(u,o)||(u=Ai(),ot.lanes|=u,Ui|=u,s.baseState=!0),o)}function _2(s,o){var u=Oe;Oe=u!==0&&4>u?u:4,s(!0);var f=Xf.transition;Xf.transition={};try{s(!1),o()}finally{Oe=u,Xf.transition=f}}function w0(){return Un().memoizedState}function x2(s,o,u){var f=js(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},_0(s))x0(o,u);else if(u=Xv(s,o,u,f),u!==null){var g=an();ar(u,s,f,g),E0(u,o,f)}}function E2(s,o,u){var f=js(s),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(_0(s))x0(o,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var T=o.lastRenderedState,D=_(T,u);if(g.hasEagerState=!0,g.eagerState=D,nr(D,T)){var j=o.interleaved;j===null?(g.next=g,Wf(o)):(g.next=j.next,j.next=g),o.interleaved=g;return}}catch{}finally{}u=Xv(s,o,g,f),u!==null&&(g=an(),ar(u,s,f,g),E0(u,o,f))}}function _0(s){var o=s.alternate;return s===ot||o!==null&&o===ot}function x0(s,o){Vl=Uc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function E0(s,o,u){if((u&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Ts(s,u)}}var $c={readContext:Fn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},T2={readContext:Fn,useCallback:function(s,o){return br().memoizedState=[s,o===void 0?null:o],s},useContext:Fn,useEffect:h0,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Bc(4194308,4,p0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Bc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Bc(4,2,s,o)},useMemo:function(s,o){var u=br();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var f=br();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=x2.bind(null,ot,s),[f.memoizedState,s]},useRef:function(s){var o=br();return s={current:s},o.memoizedState=s},useState:u0,useDebugValue:sp,useDeferredValue:function(s){return br().memoizedState=s},useTransition:function(){var s=u0(!1),o=s[0];return s=_2.bind(null,s[1]),br().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var f=ot,g=br();if(rt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Dt===null)throw Error(n(349));(Fi&30)!==0||s0(f,o,u)}g.memoizedState=u;var _={value:u,getSnapshot:o};return g.queue=_,h0(o0.bind(null,f,_,s),[s]),f.flags|=2048,jl(9,i0.bind(null,f,_,u,o),void 0,null),u},useId:function(){var s=br(),o=Dt.identifierPrefix;if(rt){var u=Zr,f=Jr;u=(f&~(1<<32-rn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ol++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=w2++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},S2={readContext:Fn,useCallback:g0,useContext:Fn,useEffect:rp,useImperativeHandle:m0,useInsertionEffect:d0,useLayoutEffect:f0,useMemo:y0,useReducer:tp,useRef:c0,useState:function(){return tp(Ml)},useDebugValue:sp,useDeferredValue:function(s){var o=Un();return v0(o,bt.memoizedState,s)},useTransition:function(){var s=tp(Ml)[0],o=Un().memoizedState;return[s,o]},useMutableSource:n0,useSyncExternalStore:r0,useId:w0,unstable_isNewReconciler:!1},b2={readContext:Fn,useCallback:g0,useContext:Fn,useEffect:rp,useImperativeHandle:m0,useInsertionEffect:d0,useLayoutEffect:f0,useMemo:y0,useReducer:np,useRef:c0,useState:function(){return np(Ml)},useDebugValue:sp,useDeferredValue:function(s){var o=Un();return bt===null?o.memoizedState=s:v0(o,bt.memoizedState,s)},useTransition:function(){var s=np(Ml)[0],o=Un().memoizedState;return[s,o]},useMutableSource:n0,useSyncExternalStore:r0,useId:w0,unstable_isNewReconciler:!1};function sr(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function ip(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:le({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Hc={isMounted:function(s){return(s=s._reactInternals)?Qn(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var f=an(),g=js(s),_=ts(f,g);_.payload=o,u!=null&&(_.callback=u),o=Ls(s,_,g),o!==null&&(ar(o,s,g,f),Oc(o,s,g))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=an(),g=js(s),_=ts(f,g);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Ls(s,_,g),o!==null&&(ar(o,s,g,f),Oc(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=an(),f=js(s),g=ts(u,f);g.tag=2,o!=null&&(g.callback=o),o=Ls(s,g,f),o!==null&&(ar(o,s,f,u),Oc(o,s,f))}};function T0(s,o,u,f,g,_,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,T):o.prototype&&o.prototype.isPureReactComponent?!Sl(u,f)||!Sl(g,_):!0}function S0(s,o,u){var f=!1,g=ks,_=o.contextType;return typeof _=="object"&&_!==null?_=Fn(_):(g=pn(o)?Li:Gt.current,f=o.contextTypes,_=(f=f!=null)?Qo(s,g):ks),o=new o(u,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Hc,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),o}function b0(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&Hc.enqueueReplaceState(o,o.state,null)}function op(s,o,u,f){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},qf(s);var _=o.contextType;typeof _=="object"&&_!==null?g.context=Fn(_):(_=pn(o)?Li:Gt.current,g.context=Qo(s,_)),g.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(ip(s,o,_,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Hc.enqueueReplaceState(g,g.state,null),Mc(s,u,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ra(s,o){try{var u="",f=o;do u+=Ne(f),f=f.return;while(f);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:g,digest:null}}function ap(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function lp(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var I2=typeof WeakMap=="function"?WeakMap:Map;function I0(s,o,u){u=ts(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Xc||(Xc=!0,Tp=f),lp(s,o)},u}function C0(s,o,u){u=ts(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){lp(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){lp(s,o),typeof f!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function A0(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new I2;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),s=U2.bind(null,s,o,u),o.then(s,s))}function R0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function P0(s,o,u,f,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ts(-1,1),o.tag=2,Ls(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var C2=K.ReactCurrentOwner,mn=!1;function on(s,o,u,f){o.child=s===null?Yv(o,null,u,f):Zo(o,s.child,u,f)}function k0(s,o,u,f,g){u=u.render;var _=o.ref;return ta(o,g),f=Zf(s,o,u,f,_,g),u=ep(),s!==null&&!mn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,ns(s,o,g)):(rt&&u&&Of(o),o.flags|=1,on(s,o,f,g),o.child)}function N0(s,o,u,f,g){if(s===null){var _=u.type;return typeof _=="function"&&!Pp(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,D0(s,o,_,f,g)):(s=rh(u.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&g)===0){var T=_.memoizedProps;if(u=u.compare,u=u!==null?u:Sl,u(T,f)&&s.ref===o.ref)return ns(s,o,g)}return o.flags|=1,s=Us(_,f),s.ref=o.ref,s.return=o,o.child=s}function D0(s,o,u,f,g){if(s!==null){var _=s.memoizedProps;if(Sl(_,f)&&s.ref===o.ref)if(mn=!1,o.pendingProps=f=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(mn=!0);else return o.lanes=s.lanes,ns(s,o,g)}return up(s,o,u,f,g)}function L0(s,o,u){var f=o.pendingProps,g=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ia,Pn),Pn|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Je(ia,Pn),Pn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,Je(ia,Pn),Pn|=f}else _!==null?(f=_.baseLanes|u,o.memoizedState=null):f=u,Je(ia,Pn),Pn|=f;return on(s,o,g,u),o.child}function V0(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function up(s,o,u,f,g){var _=pn(u)?Li:Gt.current;return _=Qo(o,_),ta(o,g),u=Zf(s,o,u,f,_,g),f=ep(),s!==null&&!mn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,ns(s,o,g)):(rt&&f&&Of(o),o.flags|=1,on(s,o,u,g),o.child)}function O0(s,o,u,f,g){if(pn(u)){var _=!0;Ac(o)}else _=!1;if(ta(o,g),o.stateNode===null)qc(s,o),S0(o,u,f),op(o,u,f,g),f=!0;else if(s===null){var T=o.stateNode,D=o.memoizedProps;T.props=D;var j=T.context,G=u.contextType;typeof G=="object"&&G!==null?G=Fn(G):(G=pn(u)?Li:Gt.current,G=Qo(o,G));var ne=u.getDerivedStateFromProps,se=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==f||j!==G)&&b0(o,T,f,G),Ds=!1;var te=o.memoizedState;T.state=te,Mc(o,f,T,g),j=o.memoizedState,D!==f||te!==j||fn.current||Ds?(typeof ne=="function"&&(ip(o,u,ne,f),j=o.memoizedState),(D=Ds||T0(o,u,D,f,te,j,G))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=j),T.props=f,T.state=j,T.context=G,f=D):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{T=o.stateNode,Jv(s,o),D=o.memoizedProps,G=o.type===o.elementType?D:sr(o.type,D),T.props=G,se=o.pendingProps,te=T.context,j=u.contextType,typeof j=="object"&&j!==null?j=Fn(j):(j=pn(u)?Li:Gt.current,j=Qo(o,j));var ue=u.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==se||te!==j)&&b0(o,T,f,j),Ds=!1,te=o.memoizedState,T.state=te,Mc(o,f,T,g);var de=o.memoizedState;D!==se||te!==de||fn.current||Ds?(typeof ue=="function"&&(ip(o,u,ue,f),de=o.memoizedState),(G=Ds||T0(o,u,G,f,te,de,j)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,de,j),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,de,j)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=de),T.props=f,T.state=de,T.context=j,f=G):(typeof T.componentDidUpdate!="function"||D===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),f=!1)}return cp(s,o,u,f,_,g)}function cp(s,o,u,f,g,_){V0(s,o);var T=(o.flags&128)!==0;if(!f&&!T)return g&&Bv(o,u,!1),ns(s,o,_);f=o.stateNode,C2.current=o;var D=T&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&T?(o.child=Zo(o,s.child,null,_),o.child=Zo(o,null,D,_)):on(s,o,D,_),o.memoizedState=f.state,g&&Bv(o,u,!0),o.child}function M0(s){var o=s.stateNode;o.pendingContext?Fv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Fv(s,o.context,!1),Kf(s,o.containerInfo)}function j0(s,o,u,f,g){return Jo(),Uf(g),o.flags|=256,on(s,o,u,f),o.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function dp(s){return{baseLanes:s,cachePool:null,transitions:null}}function F0(s,o,u){var f=o.pendingProps,g=it.current,_=!1,T=(o.flags&128)!==0,D;if((D=T)||(D=s!==null&&s.memoizedState===null?!1:(g&2)!==0),D?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Je(it,g&1),s===null)return Ff(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=f.children,s=f.fallback,_?(f=o.mode,_=o.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=sh(T,f,0,null),s=Hi(s,f,u,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=dp(u),o.memoizedState=hp,s):fp(o,T));if(g=s.memoizedState,g!==null&&(D=g.dehydrated,D!==null))return A2(s,o,T,f,D,g,u);if(_){_=f.fallback,T=o.mode,g=s.child,D=g.sibling;var j={mode:"hidden",children:f.children};return(T&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=j,o.deletions=null):(f=Us(g,j),f.subtreeFlags=g.subtreeFlags&14680064),D!==null?_=Us(D,_):(_=Hi(_,T,u,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,T=s.child.memoizedState,T=T===null?dp(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=s.childLanes&~u,o.memoizedState=hp,f}return _=s.child,s=_.sibling,f=Us(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=f,o.memoizedState=null,f}function fp(s,o){return o=sh({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Wc(s,o,u,f){return f!==null&&Uf(f),Zo(o,s.child,null,u),s=fp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function A2(s,o,u,f,g,_,T){if(u)return o.flags&256?(o.flags&=-257,f=ap(Error(n(422))),Wc(s,o,T,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=f.fallback,g=o.mode,f=sh({mode:"visible",children:f.children},g,0,null),_=Hi(_,g,T,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&Zo(o,s.child,null,T),o.child.memoizedState=dp(T),o.memoizedState=hp,_);if((o.mode&1)===0)return Wc(s,o,T,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var D=f.dgst;return f=D,_=Error(n(419)),f=ap(_,f,void 0),Wc(s,o,T,f)}if(D=(T&s.childLanes)!==0,mn||D){if(f=Dt,f!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|T))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,es(s,g),ar(f,s,g,-1))}return Rp(),f=ap(Error(n(421))),Wc(s,o,T,f)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=B2.bind(null,s),g._reactRetry=o,null):(s=_.treeContext,Rn=Rs(g.nextSibling),An=o,rt=!0,rr=null,s!==null&&(Mn[jn++]=Jr,Mn[jn++]=Zr,Mn[jn++]=Vi,Jr=s.id,Zr=s.overflow,Vi=o),o=fp(o,f.children),o.flags|=4096,o)}function U0(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Hf(s.return,o,u)}function pp(s,o,u,f,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function B0(s,o,u){var f=o.pendingProps,g=f.revealOrder,_=f.tail;if(on(s,o,f.children,u),f=it.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&U0(s,u,o);else if(s.tag===19)U0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Je(it,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)s=u.alternate,s!==null&&jc(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),pp(o,!1,g,u,_);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&jc(s)===null){o.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}pp(o,!0,u,null,_);break;case"together":pp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ns(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Ui|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Us(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Us(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function R2(s,o,u){switch(o.tag){case 3:M0(o),Jo();break;case 5:t0(o);break;case 1:pn(o.type)&&Ac(o);break;case 4:Kf(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;Je(Lc,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Je(it,it.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?F0(s,o,u):(Je(it,it.current&1),s=ns(s,o,u),s!==null?s.sibling:null);Je(it,it.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(s.flags&128)!==0){if(f)return B0(s,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(it,it.current),f)break;return null;case 22:case 23:return o.lanes=0,L0(s,o,u)}return ns(s,o,u)}var z0,mp,$0,H0;z0=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},mp=function(){},$0=function(s,o,u,f){var g=s.memoizedProps;if(g!==f){s=o.stateNode,ji(Sr.current);var _=null;switch(u){case"input":g=yi(s,g),f=yi(s,f),_=[];break;case"select":g=le({},g,{value:void 0}),f=le({},f,{value:void 0}),_=[];break;case"textarea":g=Za(s,g),f=Za(s,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=bc)}il(u,f);var T;u=null;for(G in g)if(!f.hasOwnProperty(G)&&g.hasOwnProperty(G)&&g[G]!=null)if(G==="style"){var D=g[G];for(T in D)D.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?_||(_=[]):(_=_||[]).push(G,null));for(G in f){var j=f[G];if(D=g!=null?g[G]:void 0,f.hasOwnProperty(G)&&j!==D&&(j!=null||D!=null))if(G==="style")if(D){for(T in D)!D.hasOwnProperty(T)||j&&j.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in j)j.hasOwnProperty(T)&&D[T]!==j[T]&&(u||(u={}),u[T]=j[T])}else u||(_||(_=[]),_.push(G,u)),u=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,D=D?D.__html:void 0,j!=null&&D!==j&&(_=_||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(_=_||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&Ze("scroll",s),_||D===j||(_=[])):(_=_||[]).push(G,j))}u&&(_=_||[]).push("style",u);var G=_;(o.updateQueue=G)&&(o.flags|=4)}},H0=function(s,o,u,f){u!==f&&(o.flags|=4)};function Fl(s,o){if(!rt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Yt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function P2(s,o,u){var f=o.pendingProps;switch(Mf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(o),null;case 1:return pn(o.type)&&Cc(),Yt(o),null;case 3:return f=o.stateNode,na(),et(fn),et(Gt),Yf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Nc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,rr!==null&&(Ip(rr),rr=null))),mp(s,o),Yt(o),null;case 5:Gf(o);var g=ji(Ll.current);if(u=o.type,s!==null&&o.stateNode!=null)$0(s,o,u,f,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Yt(o),null}if(s=ji(Sr.current),Nc(o)){f=o.stateNode,u=o.type;var _=o.memoizedProps;switch(f[Tr]=o,f[Rl]=_,s=(o.mode&1)!==0,u){case"dialog":Ze("cancel",f),Ze("close",f);break;case"iframe":case"object":case"embed":Ze("load",f);break;case"video":case"audio":for(g=0;g<Il.length;g++)Ze(Il[g],f);break;case"source":Ze("error",f);break;case"img":case"image":case"link":Ze("error",f),Ze("load",f);break;case"details":Ze("toggle",f);break;case"input":yo(f,_),Ze("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},Ze("invalid",f);break;case"textarea":wo(f,_),Ze("invalid",f)}il(u,_),g=null;for(var T in _)if(_.hasOwnProperty(T)){var D=_[T];T==="children"?typeof D=="string"?f.textContent!==D&&(_.suppressHydrationWarning!==!0&&Sc(f.textContent,D,s),g=["children",D]):typeof D=="number"&&f.textContent!==""+D&&(_.suppressHydrationWarning!==!0&&Sc(f.textContent,D,s),g=["children",""+D]):i.hasOwnProperty(T)&&D!=null&&T==="onScroll"&&Ze("scroll",f)}switch(u){case"input":Ur(f),Yu(f,_,!0);break;case"textarea":Ur(f),el(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=bc)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Et(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=T.createElement(u,{is:f.is}):(s=T.createElement(u),u==="select"&&(T=s,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):s=T.createElementNS(s,u),s[Tr]=o,s[Rl]=f,z0(s,o,!1,!1),o.stateNode=s;e:{switch(T=ol(u,f),u){case"dialog":Ze("cancel",s),Ze("close",s),g=f;break;case"iframe":case"object":case"embed":Ze("load",s),g=f;break;case"video":case"audio":for(g=0;g<Il.length;g++)Ze(Il[g],s);g=f;break;case"source":Ze("error",s),g=f;break;case"img":case"image":case"link":Ze("error",s),Ze("load",s),g=f;break;case"details":Ze("toggle",s),g=f;break;case"input":yo(s,f),g=yi(s,f),Ze("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=le({},f,{value:void 0}),Ze("invalid",s);break;case"textarea":wo(s,f),g=Za(s,f),Ze("invalid",s);break;default:g=f}il(u,g),D=g;for(_ in D)if(D.hasOwnProperty(_)){var j=D[_];_==="style"?rl(s,j):_==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&tl(s,j)):_==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&vs(s,j):typeof j=="number"&&vs(s,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?j!=null&&_==="onScroll"&&Ze("scroll",s):j!=null&&O(s,_,j,T))}switch(u){case"input":Ur(s),Yu(s,f,!1);break;case"textarea":Ur(s),el(s);break;case"option":f.value!=null&&s.setAttribute("value",""+$e(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?zr(s,!!f.multiple,_,!1):f.defaultValue!=null&&zr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=bc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Yt(o),null;case 6:if(s&&o.stateNode!=null)H0(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=ji(Ll.current),ji(Sr.current),Nc(o)){if(f=o.stateNode,u=o.memoizedProps,f[Tr]=o,(_=f.nodeValue!==u)&&(s=An,s!==null))switch(s.tag){case 3:Sc(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Sc(f.nodeValue,u,(s.mode&1)!==0)}_&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Tr]=o,o.stateNode=f}return Yt(o),null;case 13:if(et(it),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(rt&&Rn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Kv(),Jo(),o.flags|=98560,_=!1;else if(_=Nc(o),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Tr]=o}else Jo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Yt(o),_=!1}else rr!==null&&(Ip(rr),rr=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(it.current&1)!==0?It===0&&(It=3):Rp())),o.updateQueue!==null&&(o.flags|=4),Yt(o),null);case 4:return na(),mp(s,o),s===null&&Cl(o.stateNode.containerInfo),Yt(o),null;case 10:return $f(o.type._context),Yt(o),null;case 17:return pn(o.type)&&Cc(),Yt(o),null;case 19:if(et(it),_=o.memoizedState,_===null)return Yt(o),null;if(f=(o.flags&128)!==0,T=_.rendering,T===null)if(f)Fl(_,!1);else{if(It!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=jc(s),T!==null){for(o.flags|=128,Fl(_,!1),f=T.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)_=u,s=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,s=T.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Je(it,it.current&1|2),o.child}s=s.sibling}_.tail!==null&&Xe()>oa&&(o.flags|=128,f=!0,Fl(_,!1),o.lanes=4194304)}else{if(!f)if(s=jc(T),s!==null){if(o.flags|=128,f=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Fl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!rt)return Yt(o),null}else 2*Xe()-_.renderingStartTime>oa&&u!==1073741824&&(o.flags|=128,f=!0,Fl(_,!1),o.lanes=4194304);_.isBackwards?(T.sibling=o.child,o.child=T):(u=_.last,u!==null?u.sibling=T:o.child=T,_.last=T)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Xe(),o.sibling=null,u=it.current,Je(it,f?u&1|2:u&1),o):(Yt(o),null);case 22:case 23:return Ap(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Pn&1073741824)!==0&&(Yt(o),o.subtreeFlags&6&&(o.flags|=8192)):Yt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function k2(s,o){switch(Mf(o),o.tag){case 1:return pn(o.type)&&Cc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return na(),et(fn),et(Gt),Yf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Gf(o),null;case 13:if(et(it),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Jo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return et(it),null;case 4:return na(),null;case 10:return $f(o.type._context),null;case 22:case 23:return Ap(),null;case 24:return null;default:return null}}var Kc=!1,Xt=!1,N2=typeof WeakSet=="function"?WeakSet:Set,he=null;function sa(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){ct(s,o,f)}else u.current=null}function gp(s,o,u){try{u()}catch(f){ct(s,o,f)}}var W0=!1;function D2(s,o){if(Af=Is,s=Tv(),_f(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var T=0,D=-1,j=-1,G=0,ne=0,se=s,te=null;t:for(;;){for(var ue;se!==u||g!==0&&se.nodeType!==3||(D=T+g),se!==_||f!==0&&se.nodeType!==3||(j=T+f),se.nodeType===3&&(T+=se.nodeValue.length),(ue=se.firstChild)!==null;)te=se,se=ue;for(;;){if(se===s)break t;if(te===u&&++G===g&&(D=T),te===_&&++ne===f&&(j=T),(ue=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=ue}u=D===-1||j===-1?null:{start:D,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rf={focusedElem:s,selectionRange:u},Is=!1,he=o;he!==null;)if(o=he,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,he=s;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,ft=de.memoizedState,W=o.stateNode,U=W.getSnapshotBeforeUpdate(o.elementType===o.type?fe:sr(o.type,fe),ft);W.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){ct(o,o.return,oe)}if(s=o.sibling,s!==null){s.return=o.return,he=s;break}he=o.return}return de=W0,W0=!1,de}function Ul(s,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&gp(o,u,_)}g=g.next}while(g!==f)}}function Gc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function yp(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function q0(s){var o=s.alternate;o!==null&&(s.alternate=null,q0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Tr],delete o[Rl],delete o[Df],delete o[m2],delete o[g2])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function K0(s){return s.tag===5||s.tag===3||s.tag===4}function G0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||K0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function vp(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=bc));else if(f!==4&&(s=s.child,s!==null))for(vp(s,o,u),s=s.sibling;s!==null;)vp(s,o,u),s=s.sibling}function wp(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(wp(s,o,u),s=s.sibling;s!==null;)wp(s,o,u),s=s.sibling}var Bt=null,ir=!1;function Vs(s,o,u){for(u=u.child;u!==null;)Q0(s,o,u),u=u.sibling}function Q0(s,o,u){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Ii,u)}catch{}switch(u.tag){case 5:Xt||sa(u,o);case 6:var f=Bt,g=ir;Bt=null,Vs(s,o,u),Bt=f,ir=g,Bt!==null&&(ir?(s=Bt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Bt.removeChild(u.stateNode));break;case 18:Bt!==null&&(ir?(s=Bt,u=u.stateNode,s.nodeType===8?Nf(s.parentNode,u):s.nodeType===1&&Nf(s,u),er(s)):Nf(Bt,u.stateNode));break;case 4:f=Bt,g=ir,Bt=u.stateNode.containerInfo,ir=!0,Vs(s,o,u),Bt=f,ir=g;break;case 0:case 11:case 14:case 15:if(!Xt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&gp(u,o,T),g=g.next}while(g!==f)}Vs(s,o,u);break;case 1:if(!Xt&&(sa(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(D){ct(u,o,D)}Vs(s,o,u);break;case 21:Vs(s,o,u);break;case 22:u.mode&1?(Xt=(f=Xt)||u.memoizedState!==null,Vs(s,o,u),Xt=f):Vs(s,o,u);break;default:Vs(s,o,u)}}function Y0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new N2),o.forEach(function(f){var g=z2.bind(null,s,f);u.has(f)||(u.add(f),f.then(g,g))})}}function or(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var _=s,T=o,D=T;e:for(;D!==null;){switch(D.tag){case 5:Bt=D.stateNode,ir=!1;break e;case 3:Bt=D.stateNode.containerInfo,ir=!0;break e;case 4:Bt=D.stateNode.containerInfo,ir=!0;break e}D=D.return}if(Bt===null)throw Error(n(160));Q0(_,T,g),Bt=null,ir=!1;var j=g.alternate;j!==null&&(j.return=null),g.return=null}catch(G){ct(g,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)X0(o,s),o=o.sibling}function X0(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(or(o,s),Ir(s),f&4){try{Ul(3,s,s.return),Gc(3,s)}catch(fe){ct(s,s.return,fe)}try{Ul(5,s,s.return)}catch(fe){ct(s,s.return,fe)}}break;case 1:or(o,s),Ir(s),f&512&&u!==null&&sa(u,u.return);break;case 5:if(or(o,s),Ir(s),f&512&&u!==null&&sa(u,u.return),s.flags&32){var g=s.stateNode;try{vs(g,"")}catch(fe){ct(s,s.return,fe)}}if(f&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,T=u!==null?u.memoizedProps:_,D=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{D==="input"&&_.type==="radio"&&_.name!=null&&Xa(g,_),ol(D,T);var G=ol(D,_);for(T=0;T<j.length;T+=2){var ne=j[T],se=j[T+1];ne==="style"?rl(g,se):ne==="dangerouslySetInnerHTML"?tl(g,se):ne==="children"?vs(g,se):O(g,ne,se,G)}switch(D){case"input":Ja(g,_);break;case"textarea":_o(g,_);break;case"select":var te=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ue=_.value;ue!=null?zr(g,!!_.multiple,ue,!1):te!==!!_.multiple&&(_.defaultValue!=null?zr(g,!!_.multiple,_.defaultValue,!0):zr(g,!!_.multiple,_.multiple?[]:"",!1))}g[Rl]=_}catch(fe){ct(s,s.return,fe)}}break;case 6:if(or(o,s),Ir(s),f&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(fe){ct(s,s.return,fe)}}break;case 3:if(or(o,s),Ir(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{er(o.containerInfo)}catch(fe){ct(s,s.return,fe)}break;case 4:or(o,s),Ir(s);break;case 13:or(o,s),Ir(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(Ep=Xe())),f&4&&Y0(s);break;case 22:if(ne=u!==null&&u.memoizedState!==null,s.mode&1?(Xt=(G=Xt)||ne,or(o,s),Xt=G):or(o,s),Ir(s),f&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!ne&&(s.mode&1)!==0)for(he=s,ne=s.child;ne!==null;){for(se=he=ne;he!==null;){switch(te=he,ue=te.child,te.tag){case 0:case 11:case 14:case 15:Ul(4,te,te.return);break;case 1:sa(te,te.return);var de=te.stateNode;if(typeof de.componentWillUnmount=="function"){f=te,u=te.return;try{o=f,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(fe){ct(f,u,fe)}}break;case 5:sa(te,te.return);break;case 22:if(te.memoizedState!==null){ew(se);continue}}ue!==null?(ue.return=te,he=ue):ew(se)}ne=ne.sibling}e:for(ne=null,se=s;;){if(se.tag===5){if(ne===null){ne=se;try{g=se.stateNode,G?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(D=se.stateNode,j=se.memoizedProps.style,T=j!=null&&j.hasOwnProperty("display")?j.display:null,D.style.display=nl("display",T))}catch(fe){ct(s,s.return,fe)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=G?"":se.memoizedProps}catch(fe){ct(s,s.return,fe)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:or(o,s),Ir(s),f&4&&Y0(s);break;case 21:break;default:or(o,s),Ir(s)}}function Ir(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(K0(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(vs(g,""),f.flags&=-33);var _=G0(s);wp(s,_,g);break;case 3:case 4:var T=f.stateNode.containerInfo,D=G0(s);vp(s,D,T);break;default:throw Error(n(161))}}catch(j){ct(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function L2(s,o,u){he=s,J0(s)}function J0(s,o,u){for(var f=(s.mode&1)!==0;he!==null;){var g=he,_=g.child;if(g.tag===22&&f){var T=g.memoizedState!==null||Kc;if(!T){var D=g.alternate,j=D!==null&&D.memoizedState!==null||Xt;D=Kc;var G=Xt;if(Kc=T,(Xt=j)&&!G)for(he=g;he!==null;)T=he,j=T.child,T.tag===22&&T.memoizedState!==null?tw(g):j!==null?(j.return=T,he=j):tw(g);for(;_!==null;)he=_,J0(_),_=_.sibling;he=g,Kc=D,Xt=G}Z0(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,he=_):Z0(s)}}function Z0(s){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Xt||Gc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Xt)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:sr(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&e0(o,_,f);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}e0(o,T,u)}break;case 5:var D=o.stateNode;if(u===null&&o.flags&4){u=D;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&er(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Xt||o.flags&512&&yp(o)}catch(te){ct(o,o.return,te)}}if(o===s){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function ew(s){for(;he!==null;){var o=he;if(o===s){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function tw(s){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Gc(4,o)}catch(j){ct(o,u,j)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(j){ct(o,g,j)}}var _=o.return;try{yp(o)}catch(j){ct(o,_,j)}break;case 5:var T=o.return;try{yp(o)}catch(j){ct(o,T,j)}}}catch(j){ct(o,o.return,j)}if(o===s){he=null;break}var D=o.sibling;if(D!==null){D.return=o.return,he=D;break}he=o.return}}var V2=Math.ceil,Qc=K.ReactCurrentDispatcher,_p=K.ReactCurrentOwner,Bn=K.ReactCurrentBatchConfig,Ue=0,Dt=null,vt=null,zt=0,Pn=0,ia=Ps(0),It=0,Bl=null,Ui=0,Yc=0,xp=0,zl=null,gn=null,Ep=0,oa=1/0,rs=null,Xc=!1,Tp=null,Os=null,Jc=!1,Ms=null,Zc=0,$l=0,Sp=null,eh=-1,th=0;function an(){return(Ue&6)!==0?Xe():eh!==-1?eh:eh=Xe()}function js(s){return(s.mode&1)===0?1:(Ue&2)!==0&&zt!==0?zt&-zt:v2.transition!==null?(th===0&&(th=Ai()),th):(s=Oe,s!==0||(s=window.event,s=s===void 0?16:yl(s.type)),s)}function ar(s,o,u,f){if(50<$l)throw $l=0,Sp=null,Error(n(185));Es(s,u,f),((Ue&2)===0||s!==Dt)&&(s===Dt&&((Ue&2)===0&&(Yc|=u),It===4&&Fs(s,zt)),yn(s,f),u===1&&Ue===0&&(o.mode&1)===0&&(oa=Xe()+500,Rc&&Ns()))}function yn(s,o){var u=s.callbackNode;Wr(s,o);var f=Ci(s,s===Dt?zt:0);if(f===0)u!==null&&dl(u),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(u!=null&&dl(u),o===1)s.tag===0?y2(rw.bind(null,s)):zv(rw.bind(null,s)),f2(function(){(Ue&6)===0&&Ns()}),u=null;else{switch(Ss(f)){case 1:u=bi;break;case 4:u=ws;break;case 16:u=Ln;break;case 536870912:u=tc;break;default:u=Ln}u=hw(u,nw.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function nw(s,o){if(eh=-1,th=0,(Ue&6)!==0)throw Error(n(327));var u=s.callbackNode;if(aa()&&s.callbackNode!==u)return null;var f=Ci(s,s===Dt?zt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=nh(s,f);else{o=f;var g=Ue;Ue|=2;var _=iw();(Dt!==s||zt!==o)&&(rs=null,oa=Xe()+500,zi(s,o));do try{j2();break}catch(D){sw(s,D)}while(!0);zf(),Qc.current=_,Ue=g,vt!==null?o=0:(Dt=null,zt=0,o=It)}if(o!==0){if(o===2&&(g=bn(s),g!==0&&(f=g,o=bp(s,g))),o===1)throw u=Bl,zi(s,0),Fs(s,f),yn(s,Xe()),u;if(o===6)Fs(s,f);else{if(g=s.current.alternate,(f&30)===0&&!O2(g)&&(o=nh(s,f),o===2&&(_=bn(s),_!==0&&(f=_,o=bp(s,_))),o===1))throw u=Bl,zi(s,0),Fs(s,f),yn(s,Xe()),u;switch(s.finishedWork=g,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:$i(s,gn,rs);break;case 3:if(Fs(s,f),(f&130023424)===f&&(o=Ep+500-Xe(),10<o)){if(Ci(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){an(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=kf($i.bind(null,s,gn,rs),o);break}$i(s,gn,rs);break;case 4:if(Fs(s,f),(f&4194240)===f)break;for(o=s.eventTimes,g=-1;0<f;){var T=31-rn(f);_=1<<T,T=o[T],T>g&&(g=T),f&=~_}if(f=g,f=Xe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*V2(f/1960))-f,10<f){s.timeoutHandle=kf($i.bind(null,s,gn,rs),f);break}$i(s,gn,rs);break;case 5:$i(s,gn,rs);break;default:throw Error(n(329))}}}return yn(s,Xe()),s.callbackNode===u?nw.bind(null,s):null}function bp(s,o){var u=zl;return s.current.memoizedState.isDehydrated&&(zi(s,o).flags|=256),s=nh(s,o),s!==2&&(o=gn,gn=u,o!==null&&Ip(o)),s}function Ip(s){gn===null?gn=s:gn.push.apply(gn,s)}function O2(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!nr(_(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Fs(s,o){for(o&=~xp,o&=~Yc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-rn(o),f=1<<u;s[u]=-1,o&=~f}}function rw(s){if((Ue&6)!==0)throw Error(n(327));aa();var o=Ci(s,0);if((o&1)===0)return yn(s,Xe()),null;var u=nh(s,o);if(s.tag!==0&&u===2){var f=bn(s);f!==0&&(o=f,u=bp(s,f))}if(u===1)throw u=Bl,zi(s,0),Fs(s,o),yn(s,Xe()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,$i(s,gn,rs),yn(s,Xe()),null}function Cp(s,o){var u=Ue;Ue|=1;try{return s(o)}finally{Ue=u,Ue===0&&(oa=Xe()+500,Rc&&Ns())}}function Bi(s){Ms!==null&&Ms.tag===0&&(Ue&6)===0&&aa();var o=Ue;Ue|=1;var u=Bn.transition,f=Oe;try{if(Bn.transition=null,Oe=1,s)return s()}finally{Oe=f,Bn.transition=u,Ue=o,(Ue&6)===0&&Ns()}}function Ap(){Pn=ia.current,et(ia)}function zi(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,d2(u)),vt!==null)for(u=vt.return;u!==null;){var f=u;switch(Mf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Cc();break;case 3:na(),et(fn),et(Gt),Yf();break;case 5:Gf(f);break;case 4:na();break;case 13:et(it);break;case 19:et(it);break;case 10:$f(f.type._context);break;case 22:case 23:Ap()}u=u.return}if(Dt=s,vt=s=Us(s.current,null),zt=Pn=o,It=0,Bl=null,xp=Yc=Ui=0,gn=zl=null,Mi!==null){for(o=0;o<Mi.length;o++)if(u=Mi[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,_=u.pending;if(_!==null){var T=_.next;_.next=g,f.next=T}u.pending=f}Mi=null}return s}function sw(s,o){do{var u=vt;try{if(zf(),Fc.current=$c,Uc){for(var f=ot.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Uc=!1}if(Fi=0,Nt=bt=ot=null,Vl=!1,Ol=0,_p.current=null,u===null||u.return===null){It=1,Bl=o,vt=null;break}e:{var _=s,T=u.return,D=u,j=o;if(o=zt,D.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,ne=D,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=R0(T);if(ue!==null){ue.flags&=-257,P0(ue,T,D,_,o),ue.mode&1&&A0(_,G,o),o=ue,j=G;var de=o.updateQueue;if(de===null){var fe=new Set;fe.add(j),o.updateQueue=fe}else de.add(j);break e}else{if((o&1)===0){A0(_,G,o),Rp();break e}j=Error(n(426))}}else if(rt&&D.mode&1){var ft=R0(T);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),P0(ft,T,D,_,o),Uf(ra(j,D));break e}}_=j=ra(j,D),It!==4&&(It=2),zl===null?zl=[_]:zl.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var W=I0(_,j,o);Zv(_,W);break e;case 1:D=j;var U=_.type,q=_.stateNode;if((_.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Os===null||!Os.has(q)))){_.flags|=65536,o&=-o,_.lanes|=o;var oe=C0(_,D,o);Zv(_,oe);break e}}_=_.return}while(_!==null)}aw(u)}catch(me){o=me,vt===u&&u!==null&&(vt=u=u.return);continue}break}while(!0)}function iw(){var s=Qc.current;return Qc.current=$c,s===null?$c:s}function Rp(){(It===0||It===3||It===2)&&(It=4),Dt===null||(Ui&268435455)===0&&(Yc&268435455)===0||Fs(Dt,zt)}function nh(s,o){var u=Ue;Ue|=2;var f=iw();(Dt!==s||zt!==o)&&(rs=null,zi(s,o));do try{M2();break}catch(g){sw(s,g)}while(!0);if(zf(),Ue=u,Qc.current=f,vt!==null)throw Error(n(261));return Dt=null,zt=0,It}function M2(){for(;vt!==null;)ow(vt)}function j2(){for(;vt!==null&&!Zu();)ow(vt)}function ow(s){var o=cw(s.alternate,s,Pn);s.memoizedProps=s.pendingProps,o===null?aw(s):vt=o,_p.current=null}function aw(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=P2(u,o,Pn),u!==null){vt=u;return}}else{if(u=k2(u,o),u!==null){u.flags&=32767,vt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{It=6,vt=null;return}}if(o=o.sibling,o!==null){vt=o;return}vt=o=s}while(o!==null);It===0&&(It=5)}function $i(s,o,u){var f=Oe,g=Bn.transition;try{Bn.transition=null,Oe=1,F2(s,o,u,f)}finally{Bn.transition=g,Oe=f}return null}function F2(s,o,u,f){do aa();while(Ms!==null);if((Ue&6)!==0)throw Error(n(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(Ge(s,_),s===Dt&&(vt=Dt=null,zt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Jc||(Jc=!0,hw(Ln,function(){return aa(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Bn.transition,Bn.transition=null;var T=Oe;Oe=1;var D=Ue;Ue|=4,_p.current=null,D2(s,u),X0(u,s),i2(Rf),Is=!!Af,Rf=Af=null,s.current=u,L2(u),df(),Ue=D,Oe=T,Bn.transition=_}else s.current=u;if(Jc&&(Jc=!1,Ms=s,Zc=g),_=s.pendingLanes,_===0&&(Os=null),nc(u.stateNode),yn(s,Xe()),o!==null)for(f=s.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Xc)throw Xc=!1,s=Tp,Tp=null,s;return(Zc&1)!==0&&s.tag!==0&&aa(),_=s.pendingLanes,(_&1)!==0?s===Sp?$l++:($l=0,Sp=s):$l=0,Ns(),null}function aa(){if(Ms!==null){var s=Ss(Zc),o=Bn.transition,u=Oe;try{if(Bn.transition=null,Oe=16>s?16:s,Ms===null)var f=!1;else{if(s=Ms,Ms=null,Zc=0,(Ue&6)!==0)throw Error(n(331));var g=Ue;for(Ue|=4,he=s.current;he!==null;){var _=he,T=_.child;if((he.flags&16)!==0){var D=_.deletions;if(D!==null){for(var j=0;j<D.length;j++){var G=D[j];for(he=G;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:Ul(8,ne,_)}var se=ne.child;if(se!==null)se.return=ne,he=se;else for(;he!==null;){ne=he;var te=ne.sibling,ue=ne.return;if(q0(ne),ne===G){he=null;break}if(te!==null){te.return=ue,he=te;break}he=ue}}}var de=_.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var ft=fe.sibling;fe.sibling=null,fe=ft}while(fe!==null)}}he=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,he=T;else e:for(;he!==null;){if(_=he,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Ul(9,_,_.return)}var W=_.sibling;if(W!==null){W.return=_.return,he=W;break e}he=_.return}}var U=s.current;for(he=U;he!==null;){T=he;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,he=q;else e:for(T=U;he!==null;){if(D=he,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Gc(9,D)}}catch(me){ct(D,D.return,me)}if(D===T){he=null;break e}var oe=D.sibling;if(oe!==null){oe.return=D.return,he=oe;break e}he=D.return}}if(Ue=g,Ns(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Ii,s)}catch{}f=!0}return f}finally{Oe=u,Bn.transition=o}}return!1}function lw(s,o,u){o=ra(u,o),o=I0(s,o,1),s=Ls(s,o,1),o=an(),s!==null&&(Es(s,1,o),yn(s,o))}function ct(s,o,u){if(s.tag===3)lw(s,s,u);else for(;o!==null;){if(o.tag===3){lw(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))){s=ra(u,s),s=C0(o,s,1),o=Ls(o,s,1),s=an(),o!==null&&(Es(o,1,s),yn(o,s));break}}o=o.return}}function U2(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),o=an(),s.pingedLanes|=s.suspendedLanes&u,Dt===s&&(zt&u)===u&&(It===4||It===3&&(zt&130023424)===zt&&500>Xe()-Ep?zi(s,0):xp|=u),yn(s,o)}function uw(s,o){o===0&&((s.mode&1)===0?o=1:(o=Po,Po<<=1,(Po&130023424)===0&&(Po=4194304)));var u=an();s=es(s,o),s!==null&&(Es(s,o,u),yn(s,u))}function B2(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),uw(s,u)}function z2(s,o){var u=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),uw(s,u)}var cw;cw=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||fn.current)mn=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return mn=!1,R2(s,o,u);mn=(s.flags&131072)!==0}else mn=!1,rt&&(o.flags&1048576)!==0&&$v(o,kc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;qc(s,o),s=o.pendingProps;var g=Qo(o,Gt.current);ta(o,u),g=Zf(null,o,f,s,g,u);var _=ep();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,pn(f)?(_=!0,Ac(o)):_=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,qf(o),g.updater=Hc,o.stateNode=g,g._reactInternals=o,op(o,f,s,u),o=cp(null,o,f,!0,_,u)):(o.tag=0,rt&&_&&Of(o),on(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(qc(s,o),s=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=H2(f),s=sr(f,s),g){case 0:o=up(null,o,f,s,u);break e;case 1:o=O0(null,o,f,s,u);break e;case 11:o=k0(null,o,f,s,u);break e;case 14:o=N0(null,o,f,sr(f.type,s),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:sr(f,g),up(s,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:sr(f,g),O0(s,o,f,g,u);case 3:e:{if(M0(o),s===null)throw Error(n(387));f=o.pendingProps,_=o.memoizedState,g=_.element,Jv(s,o),Mc(o,f,null,u);var T=o.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){g=ra(Error(n(423)),o),o=j0(s,o,f,u,g);break e}else if(f!==g){g=ra(Error(n(424)),o),o=j0(s,o,f,u,g);break e}else for(Rn=Rs(o.stateNode.containerInfo.firstChild),An=o,rt=!0,rr=null,u=Yv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Jo(),f===g){o=ns(s,o,u);break e}on(s,o,f,u)}o=o.child}return o;case 5:return t0(o),s===null&&Ff(o),f=o.type,g=o.pendingProps,_=s!==null?s.memoizedProps:null,T=g.children,Pf(f,g)?T=null:_!==null&&Pf(f,_)&&(o.flags|=32),V0(s,o),on(s,o,T,u),o.child;case 6:return s===null&&Ff(o),null;case 13:return F0(s,o,u);case 4:return Kf(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Zo(o,null,f,u):on(s,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:sr(f,g),k0(s,o,f,g,u);case 7:return on(s,o,o.pendingProps,u),o.child;case 8:return on(s,o,o.pendingProps.children,u),o.child;case 12:return on(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,_=o.memoizedProps,T=g.value,Je(Lc,f._currentValue),f._currentValue=T,_!==null)if(nr(_.value,T)){if(_.children===g.children&&!fn.current){o=ns(s,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var D=_.dependencies;if(D!==null){T=_.child;for(var j=D.firstContext;j!==null;){if(j.context===f){if(_.tag===1){j=ts(-1,u&-u),j.tag=2;var G=_.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?j.next=j:(j.next=ne.next,ne.next=j),G.pending=j}}_.lanes|=u,j=_.alternate,j!==null&&(j.lanes|=u),Hf(_.return,u,o),D.lanes|=u;break}j=j.next}}else if(_.tag===10)T=_.type===o.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(n(341));T.lanes|=u,D=T.alternate,D!==null&&(D.lanes|=u),Hf(T,u,o),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===o){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}on(s,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,ta(o,u),g=Fn(g),f=f(g),o.flags|=1,on(s,o,f,u),o.child;case 14:return f=o.type,g=sr(f,o.pendingProps),g=sr(f.type,g),N0(s,o,f,g,u);case 15:return D0(s,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:sr(f,g),qc(s,o),o.tag=1,pn(f)?(s=!0,Ac(o)):s=!1,ta(o,u),S0(o,f,g),op(o,f,g,u),cp(null,o,f,!0,s,u);case 19:return B0(s,o,u);case 22:return L0(s,o,u)}throw Error(n(156,o.tag))};function hw(s,o){return Ao(s,o)}function $2(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(s,o,u,f){return new $2(s,o,u,f)}function Pp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function H2(s){if(typeof s=="function")return Pp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===xt)return 14}return 2}function Us(s,o){var u=s.alternate;return u===null?(u=zn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function rh(s,o,u,f,g,_){var T=2;if(f=s,typeof s=="function")Pp(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case N:return Hi(u.children,g,_,o);case A:T=8,g|=8;break;case k:return s=zn(12,u,o,g|2),s.elementType=k,s.lanes=_,s;case V:return s=zn(13,u,o,g),s.elementType=V,s.lanes=_,s;case tt:return s=zn(19,u,o,g),s.elementType=tt,s.lanes=_,s;case Ie:return sh(u,g,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:T=10;break e;case F:T=9;break e;case z:T=11;break e;case xt:T=14;break e;case jt:T=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=zn(T,u,o,g),o.elementType=s,o.type=f,o.lanes=_,o}function Hi(s,o,u,f){return s=zn(7,s,f,o),s.lanes=u,s}function sh(s,o,u,f){return s=zn(22,s,f,o),s.elementType=Ie,s.lanes=u,s.stateNode={isHidden:!1},s}function kp(s,o,u){return s=zn(6,s,null,o),s.lanes=u,s}function Np(s,o,u){return o=zn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function W2(s,o,u,f,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xs(0),this.expirationTimes=xs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xs(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Dp(s,o,u,f,g,_,T,D,j){return s=new W2(s,o,u,D,j),o===1?(o=1,_===!0&&(o|=8)):o=0,_=zn(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},qf(_),s}function q2(s,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:s,containerInfo:o,implementation:u}}function dw(s){if(!s)return ks;s=s._reactInternals;e:{if(Qn(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(pn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(pn(u))return Uv(s,u,o)}return o}function fw(s,o,u,f,g,_,T,D,j){return s=Dp(u,f,!0,s,g,_,T,D,j),s.context=dw(null),u=s.current,f=an(),g=js(u),_=ts(f,g),_.callback=o??null,Ls(u,_,g),s.current.lanes=g,Es(s,g,f),yn(s,f),s}function ih(s,o,u,f){var g=o.current,_=an(),T=js(g);return u=dw(u),o.context===null?o.context=u:o.pendingContext=u,o=ts(_,T),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ls(g,o,T),s!==null&&(ar(s,g,T,_),Oc(s,g,T)),T}function oh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function pw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Lp(s,o){pw(s,o),(s=s.alternate)&&pw(s,o)}function K2(){return null}var mw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Vp(s){this._internalRoot=s}ah.prototype.render=Vp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));ih(s,o,null,null)},ah.prototype.unmount=Vp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Bi(function(){ih(null,s,null,null)}),o[Yr]=null}};function ah(s){this._internalRoot=s}ah.prototype.unstable_scheduleHydration=function(s){if(s){var o=ac();s={blockedOn:null,target:s,priority:o};for(var u=0;u<wr.length&&o!==0&&o<wr[u].priority;u++);wr.splice(u,0,s),u===0&&cc(s)}};function Op(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function lh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function gw(){}function G2(s,o,u,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var G=oh(T);_.call(G)}}var T=fw(o,f,s,0,null,!1,!1,"",gw);return s._reactRootContainer=T,s[Yr]=T.current,Cl(s.nodeType===8?s.parentNode:s),Bi(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var D=f;f=function(){var G=oh(j);D.call(G)}}var j=Dp(s,0,!1,null,null,!1,!1,"",gw);return s._reactRootContainer=j,s[Yr]=j.current,Cl(s.nodeType===8?s.parentNode:s),Bi(function(){ih(o,j,u,f)}),j}function uh(s,o,u,f,g){var _=u._reactRootContainer;if(_){var T=_;if(typeof g=="function"){var D=g;g=function(){var j=oh(T);D.call(j)}}ih(o,T,s,g)}else T=G2(u,o,s,g,f);return oh(T)}ic=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=_s(o.pendingLanes);u!==0&&(Ts(o,u|1),yn(o,Xe()),(Ue&6)===0&&(oa=Xe()+500,Ns()))}break;case 13:Bi(function(){var f=es(s,1);if(f!==null){var g=an();ar(f,s,1,g)}}),Lp(s,1)}},ko=function(s){if(s.tag===13){var o=es(s,134217728);if(o!==null){var u=an();ar(o,s,134217728,u)}Lp(s,134217728)}},oc=function(s){if(s.tag===13){var o=js(s),u=es(s,o);if(u!==null){var f=an();ar(u,s,o,f)}Lp(s,o)}},ac=function(){return Oe},lc=function(s,o){var u=Oe;try{return Oe=s,o()}finally{Oe=u}},Eo=function(s,o,u){switch(o){case"input":if(Ja(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var g=Ic(f);if(!g)throw Error(n(90));go(f),Ja(f,g)}}}break;case"textarea":_o(s,u);break;case"select":o=u.value,o!=null&&zr(s,!!u.multiple,o,!1)}},xi=Cp,ll=Bi;var Q2={usingClientEntryPoint:!1,Events:[Pl,Ko,Ic,yr,al,Cp]},Hl={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y2={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=hl(s),s===null?null:s.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||K2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Ii=ch.inject(Y2),Sn=ch}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2,vn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Op(o))throw Error(n(200));return q2(s,o,null,u)},vn.createRoot=function(s,o){if(!Op(s))throw Error(n(299));var u=!1,f="",g=mw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Dp(s,1,!1,null,null,u,!1,f,g),s[Yr]=o.current,Cl(s.nodeType===8?s.parentNode:s),new Vp(o)},vn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=hl(o),s=s===null?null:s.stateNode,s},vn.flushSync=function(s){return Bi(s)},vn.hydrate=function(s,o,u){if(!lh(o))throw Error(n(200));return uh(null,s,o,!0,u)},vn.hydrateRoot=function(s,o,u){if(!Op(s))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,g=!1,_="",T=mw;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=fw(o,null,s,1,u??null,g,!1,_,T),s[Yr]=o.current,Cl(s),f)for(s=0;s<f.length;s++)u=f[s],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new ah(o)},vn.render=function(s,o,u){if(!lh(o))throw Error(n(200));return uh(null,s,o,!1,u)},vn.unmountComponentAtNode=function(s){if(!lh(s))throw Error(n(40));return s._reactRootContainer?(Bi(function(){uh(null,null,s,!1,function(){s._reactRootContainer=null,s[Yr]=null})}),!0):!1},vn.unstable_batchedUpdates=Cp,vn.unstable_renderSubtreeIntoContainer=function(s,o,u,f){if(!lh(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return uh(s,o,u,!1,f)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var Sw;function KE(){if(Sw)return Fp.exports;Sw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fp.exports=rC(),Fp.exports}var GE=KE();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bw="popstate";function sC(t={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return bm("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fu(i)}return oC(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iC(){return Math.random().toString(36).substring(2,10)}function Iw(t,e){return{usr:t.state,key:t.key,idx:e}}function bm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Va(e):e,state:n,key:e&&e.key||r||iC()}}function fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Va(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function oC(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",d=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function v(){c="POP";let b=m(),L=b==null?null:b-p;p=b,d&&d({action:c,location:P.location,delta:L})}function x(b,L){c="PUSH";let B=bm(P.location,b,L);p=m()+1;let O=Iw(B,p),K=P.createHref(B);try{l.pushState(O,"",K)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(K)}a&&d&&d({action:c,location:P.location,delta:1})}function S(b,L){c="REPLACE";let B=bm(P.location,b,L);p=m();let O=Iw(B,p),K=P.createHref(B);l.replaceState(O,"",K),a&&d&&d({action:c,location:P.location,delta:0})}function C(b){return aC(b)}let P={get action(){return c},get location(){return t(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(bw,v),d=b,()=>{i.removeEventListener(bw,v),d=null}},createHref(b){return e(i,b)},createURL:C,encodeLocation(b){let L=C(b);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:x,replace:S,go(b){return l.go(b)}};return P}function aC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:fu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function QE(t,e,n="/"){return lC(t,e,n,!1)}function lC(t,e,n,r){let i=typeof e=="string"?Va(e):e,a=ls(i.pathname||"/",n);if(a==null)return null;let l=YE(t);uC(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=_C(a);c=vC(l[d],p,r)}return c}function YE(t,e=[],n=[],r="",i=!1){let a=(l,c,d=i,p)=>{let m={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;lt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let v=as([r,m.relativePath]),x=n.concat(m);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),YE(l.children,e,x,v,d)),!(l.path==null&&!l.index)&&e.push({path:v,score:gC(v,l.index),routesMeta:x})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of XE(l.path))a(l,c,!0,p)}),e}function XE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=XE(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function uC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cC=/^:[\w-]+$/,hC=3,dC=2,fC=1,pC=10,mC=-2,Cw=t=>t==="*";function gC(t,e){let n=t.split("/"),r=n.length;return n.some(Cw)&&(r+=mC),e&&(r+=dC),n.filter(i=>!Cw(i)).reduce((i,a)=>i+(cC.test(a)?hC:a===""?fC:pC),r)}function yC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vC(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=Gh({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),x=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Gh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:as([a,v.pathname]),pathnameBase:bC(as([a,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(a=as([a,v.pathnameBase]))}return l}function Gh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:v},x)=>{if(m==="*"){let C=c[x]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const S=c[x];return v&&!S?p[m]=void 0:p[m]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function wC(t,e=!1,n=!0){dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _C(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var xC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EC=t=>xC.test(t);function TC(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Va(t):t,a;if(n)if(EC(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),dr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=Aw(n.substring(1),"/"):a=Aw(n,e)}else a=e;return{pathname:a,search:IC(r),hash:CC(i)}}function Aw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JE(t){let e=SC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ZE(t,e,n,r=!1){let i;typeof t=="string"?i=Va(t):(i={...t},lt(!i.pathname||!i.pathname.includes("?"),zp("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),zp("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),zp("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}c=v>=0?e[v]:"/"}let d=TC(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}var as=t=>t.join("/").replace(/\/\/+/g,"/"),bC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eT=["POST","PUT","PATCH","DELETE"];new Set(eT);var RC=["GET",...eT];new Set(RC);var Oa=R.createContext(null);Oa.displayName="DataRouter";var Id=R.createContext(null);Id.displayName="DataRouterState";R.createContext(!1);var tT=R.createContext({isTransitioning:!1});tT.displayName="ViewTransition";var PC=R.createContext(new Map);PC.displayName="Fetchers";var kC=R.createContext(null);kC.displayName="Await";var jr=R.createContext(null);jr.displayName="Navigation";var Pu=R.createContext(null);Pu.displayName="Location";var ps=R.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var Rg=R.createContext(null);Rg.displayName="RouteError";function NC(t,{relative:e}={}){lt(ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(jr),{hash:i,pathname:a,search:l}=Nu(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:as([n,a])),r.createHref({pathname:c,search:l,hash:i})}function ku(){return R.useContext(Pu)!=null}function uo(){return lt(ku(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Pu).location}var nT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rT(t){R.useContext(jr).static||R.useLayoutEffect(t)}function DC(){let{isDataRoute:t}=R.useContext(ps);return t?qC():LC()}function LC(){lt(ku(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Oa),{basename:e,navigator:n}=R.useContext(jr),{matches:r}=R.useContext(ps),{pathname:i}=uo(),a=JSON.stringify(JE(r)),l=R.useRef(!1);return rT(()=>{l.current=!0}),R.useCallback((d,p={})=>{if(dr(l.current,nT),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=ZE(d,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:as([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,a,i,t])}R.createContext(null);function Nu(t,{relative:e}={}){let{matches:n}=R.useContext(ps),{pathname:r}=uo(),i=JSON.stringify(JE(n));return R.useMemo(()=>ZE(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function VC(t,e){return sT(t,e)}function sT(t,e,n,r,i){var B;lt(ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=R.useContext(jr),{matches:l}=R.useContext(ps),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let O=v&&v.path||"";iT(p,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let x=uo(),S;if(e){let O=typeof e=="string"?Va(e):e;lt(m==="/"||((B=O.pathname)==null?void 0:B.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),S=O}else S=x;let C=S.pathname||"/",P=C;if(m!=="/"){let O=m.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(O.length).join("/")}let b=QE(t,{pathname:P});dr(v||b!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),dr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=UC(b&&b.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:as([m,a.encodeLocation?a.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:as([m,a.encodeLocation?a.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),l,n,r,i);return e&&L?R.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function OC(){let t=WC(),e=AC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,l)}var MC=R.createElement(OC,null),jC=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(ps.Provider,{value:this.props.routeContext},R.createElement(Rg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FC({routeContext:t,match:e,children:n}){let r=R.useContext(Oa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(ps.Provider,{value:t},n)}function UC(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let v=a[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=m),v.route.id){let{loaderData:x,errors:S}=n,C=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||C){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let p=n&&r?(m,v)=>{var x,S;r(m,{location:n.location,params:((S=(x=n.matches)==null?void 0:x[0])==null?void 0:S.params)??{},errorInfo:v})}:void 0;return a.reduceRight((m,v,x)=>{let S,C=!1,P=null,b=null;n&&(S=l&&v.route.id?l[v.route.id]:void 0,P=v.route.errorElement||MC,c&&(d<0&&x===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,b=null):d===x&&(C=!0,b=v.route.hydrateFallbackElement||null)));let L=e.concat(a.slice(0,x+1)),B=()=>{let O;return S?O=P:C?O=b:v.route.Component?O=R.createElement(v.route.Component,null):v.route.element?O=v.route.element:O=m,R.createElement(FC,{match:v,routeContext:{outlet:m,matches:L,isDataRoute:n!=null},children:O})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?R.createElement(jC,{location:n.location,revalidation:n.revalidation,component:P,error:S,children:B(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:p}):B()},null)}function Pg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BC(t){let e=R.useContext(Oa);return lt(e,Pg(t)),e}function zC(t){let e=R.useContext(Id);return lt(e,Pg(t)),e}function $C(t){let e=R.useContext(ps);return lt(e,Pg(t)),e}function kg(t){let e=$C(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HC(){return kg("useRouteId")}function WC(){var r;let t=R.useContext(Rg),e=zC("useRouteError"),n=kg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function qC(){let{router:t}=BC("useNavigate"),e=kg("useNavigate"),n=R.useRef(!1);return rT(()=>{n.current=!0}),R.useCallback(async(i,a={})=>{dr(n.current,nT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Rw={};function iT(t,e,n){!e&&!Rw[t]&&(Rw[t]=!0,dr(!1,n))}R.memo(KC);function KC({routes:t,future:e,state:n,unstable_onError:r}){return sT(t,void 0,n,r,e)}function Im(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){lt(!ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Va(n));let{pathname:d="/",search:p="",hash:m="",state:v=null,key:x="default"}=n,S=R.useMemo(()=>{let C=ls(d,l);return C==null?null:{location:{pathname:C,search:p,hash:m,state:v,key:x},navigationType:r}},[l,d,p,m,v,x,r]);return dr(S!=null,`<Router basename="${l}"> is not able to match the URL "${d}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:R.createElement(jr.Provider,{value:c},R.createElement(Pu.Provider,{children:e,value:S}))}function QC({children:t,location:e}){return VC(Cm(t),e)}function Cm(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Cm(r.props.children,a));return}lt(r.type===Im,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Cm(r.props.children,a)),n.push(l)}),n}var Ch="get",Ah="application/x-www-form-urlencoded";function Cd(t){return t!=null&&typeof t.tagName=="string"}function YC(t){return Cd(t)&&t.tagName.toLowerCase()==="button"}function XC(t){return Cd(t)&&t.tagName.toLowerCase()==="form"}function JC(t){return Cd(t)&&t.tagName.toLowerCase()==="input"}function ZC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eA(t,e){return t.button===0&&(!e||e==="_self")&&!ZC(t)}var hh=null;function tA(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var nA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $p(t){return t!=null&&!nA.has(t)?(dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):t}function rA(t,e){let n,r,i,a,l;if(XC(t)){let c=t.getAttribute("action");r=c?ls(c,e):null,n=t.getAttribute("method")||Ch,i=$p(t.getAttribute("enctype"))||Ah,a=new FormData(t)}else if(YC(t)||JC(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?ls(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Ch,i=$p(t.getAttribute("formenctype"))||$p(c.getAttribute("enctype"))||Ah,a=new FormData(c,t),!tA()){let{name:p,type:m,value:v}=t;if(m==="image"){let x=p?`${p}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else p&&a.append(p,v)}}else{if(Cd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,r=null,i=Ah,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ng(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sA(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ls(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function iA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aA(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await iA(a,n);return l.links?l.links():[]}return[]}));return hA(r.flat(1).filter(oA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Pw(t,e,n,r,i,a){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,c=(d,p)=>{var m;return n[p].pathname!==d.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>l(d,p)||c(d,p)):a==="data"?e.filter((d,p)=>{var v;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function lA(t,e,{includeHydrateFallback:n}={}){return uA(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function uA(t){return[...new Set(t)]}function cA(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function hA(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(cA(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function oT(){let t=R.useContext(Oa);return Ng(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dA(){let t=R.useContext(Id);return Ng(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Dg=R.createContext(void 0);Dg.displayName="FrameworkContext";function aT(){let t=R.useContext(Dg);return Ng(t,"You must render this element inside a <HydratedRouter> element"),t}function fA(t,e){let n=R.useContext(Dg),[r,i]=R.useState(!1),[a,l]=R.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,x=R.useRef(null);R.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let P=L=>{L.forEach(B=>{l(B.isIntersecting)})},b=new IntersectionObserver(P,{threshold:.5});return x.current&&b.observe(x.current),()=>{b.disconnect()}}},[t]),R.useEffect(()=>{if(r){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[r]);let S=()=>{i(!0)},C=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:ql(c,S),onBlur:ql(d,C),onMouseEnter:ql(p,S),onMouseLeave:ql(m,C),onTouchStart:ql(v,S)}]:[!1,x,{}]}function ql(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pA({page:t,...e}){let{router:n}=oT(),r=R.useMemo(()=>QE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(gA,{page:t,matches:r,...e}):null}function mA(t){let{manifest:e,routeModules:n}=aT(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return aA(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function gA({page:t,matches:e,...n}){let r=uo(),{manifest:i,routeModules:a}=aT(),{basename:l}=oT(),{loaderData:c,matches:d}=dA(),p=R.useMemo(()=>Pw(t,e,d,i,r,"data"),[t,e,d,i,r]),m=R.useMemo(()=>Pw(t,e,d,i,r,"assets"),[t,e,d,i,r]),v=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,P=!1;if(e.forEach(L=>{var O;let B=i.routes[L.route.id];!B||!B.hasLoader||(!p.some(K=>K.route.id===L.route.id)&&L.route.id in c&&((O=a[L.route.id])!=null&&O.shouldRevalidate)||B.hasClientLoader?P=!0:C.add(L.route.id))}),C.size===0)return[];let b=sA(t,l,"data");return P&&C.size>0&&b.searchParams.set("_routes",e.filter(L=>C.has(L.route.id)).map(L=>L.route.id).join(",")),[b.pathname+b.search]},[l,c,r,i,p,e,t,a]),x=R.useMemo(()=>lA(m,i),[m,i]),S=mA(m);return R.createElement(R.Fragment,null,v.map(C=>R.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),x.map(C=>R.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:P})=>R.createElement("link",{key:C,nonce:n.nonce,...P})))}function yA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lT&&(window.__reactRouterVersion="7.9.6")}catch{}function vA({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=sC({window:n,v5Compat:!0}));let i=r.current,[a,l]=R.useState({action:i.action,location:i.location}),c=R.useCallback(d=>{R.startTransition(()=>l(d))},[l]);return R.useLayoutEffect(()=>i.listen(c),[i,c]),R.createElement(GC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var uT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cT=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:p,preventScrollReset:m,viewTransition:v,...x},S){let{basename:C}=R.useContext(jr),P=typeof p=="string"&&uT.test(p),b,L=!1;if(typeof p=="string"&&P&&(b=p,lT))try{let k=new URL(window.location.href),M=p.startsWith("//")?new URL(k.protocol+p):new URL(p),F=ls(M.pathname,C);M.origin===k.origin&&F!=null?p=F+M.search+M.hash:L=!0}catch{dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=NC(p,{relative:i}),[O,K,Q]=fA(r,x),Z=EA(p,{replace:l,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:v});function N(k){e&&e(k),k.defaultPrevented||Z(k)}let A=R.createElement("a",{...x,...Q,href:b||B,onClick:L||a?e:N,ref:yA(S,K),target:d,"data-discover":!P&&n==="render"?"true":void 0});return O&&!P?R.createElement(R.Fragment,null,A,R.createElement(pA,{page:B})):A});cT.displayName="Link";var wA=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...p},m){let v=Nu(l,{relative:p.relative}),x=uo(),S=R.useContext(Id),{navigator:C,basename:P}=R.useContext(jr),b=S!=null&&CA(v)&&c===!0,L=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,B=x.pathname,O=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(B=B.toLowerCase(),O=O?O.toLowerCase():null,L=L.toLowerCase()),O&&P&&(O=ls(O,P)||O);const K=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let Q=B===L||!i&&B.startsWith(L)&&B.charAt(K)==="/",Z=O!=null&&(O===L||!i&&O.startsWith(L)&&O.charAt(L.length)==="/"),N={isActive:Q,isPending:Z,isTransitioning:b},A=Q?e:void 0,k;typeof r=="function"?k=r(N):k=[r,Q?"active":null,Z?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(N):a;return R.createElement(cT,{...p,"aria-current":A,className:k,ref:m,style:M,to:l,viewTransition:c},typeof d=="function"?d(N):d)});wA.displayName="NavLink";var _A=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Ch,action:c,onSubmit:d,relative:p,preventScrollReset:m,viewTransition:v,...x},S)=>{let C=bA(),P=IA(c,{relative:p}),b=l.toLowerCase()==="get"?"get":"post",L=typeof c=="string"&&uT.test(c),B=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let K=O.nativeEvent.submitter,Q=(K==null?void 0:K.getAttribute("formmethod"))||l;C(K||O.currentTarget,{fetcherKey:e,method:Q,navigate:n,replace:i,state:a,relative:p,preventScrollReset:m,viewTransition:v})};return R.createElement("form",{ref:S,method:b,action:P,onSubmit:r?d:B,...x,"data-discover":!L&&t==="render"?"true":void 0})});_A.displayName="Form";function xA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hT(t){let e=R.useContext(Oa);return lt(e,xA(t)),e}function EA(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=DC(),d=uo(),p=Nu(t,{relative:a});return R.useCallback(m=>{if(eA(m,e)){m.preventDefault();let v=n!==void 0?n:fu(d)===fu(p);c(t,{replace:v,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,p,n,r,e,t,i,a,l])}var TA=0,SA=()=>`__${String(++TA)}__`;function bA(){let{router:t}=hT("useSubmit"),{basename:e}=R.useContext(jr),n=HC();return R.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:d,body:p}=rA(r,e);if(i.navigate===!1){let m=i.fetcherKey||SA();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function IA(t,{relative:e}={}){let{basename:n}=R.useContext(jr),r=R.useContext(ps);lt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Nu(t||".",{relative:e})},l=uo();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(v=>v).forEach(v=>c.append("index",v));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:as([n,a.pathname])),fu(a)}function CA(t,{relative:e}={}){let n=R.useContext(tT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hT("useViewTransitionState"),i=Nu(t,{relative:e});if(!n.isTransitioning)return!1;let a=ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Gh(i.pathname,l)!=null||Gh(i.pathname,a)!=null}const ms=R.createContext(null);var dh={},kw;function AA(){if(kw)return dh;kw=1,dh.match=a,dh.parse=l;var t=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,r=/(em|rem|px|cm|mm|in|pt|pc)?$/,i=/(dpi|dpcm|dppx)?$/;function a(m,v){return l(m).some(function(x){var S=x.inverse,C=x.type==="all"||v.type===x.type;if(C&&S||!(C||S))return!1;var P=x.expressions.every(function(b){var L=b.feature,B=b.modifier,O=b.value,K=v[L];if(!K)return!1;switch(L){case"orientation":case"scan":return K.toLowerCase()===O.toLowerCase();case"width":case"height":case"device-width":case"device-height":O=p(O),K=p(K);break;case"resolution":O=d(O),K=d(K);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":O=c(O),K=c(K);break;case"grid":case"color":case"color-index":case"monochrome":O=parseInt(O,10)||1,K=parseInt(K,10)||0;break}switch(B){case"min":return K>=O;case"max":return K<=O;default:return K===O}});return P&&!S||!P&&S})}function l(m){return m.split(",").map(function(v){v=v.trim();var x=v.match(t),S=x[1],C=x[2],P=x[3]||"",b={};return b.inverse=!!S&&S.toLowerCase()==="not",b.type=C?C.toLowerCase():"all",P=P.match(/\([^\)]+\)/g)||[],b.expressions=P.map(function(L){var B=L.match(e),O=B[1].toLowerCase().match(n);return{modifier:O[1],feature:O[2],value:B[2]}}),b})}function c(m){var v=Number(m),x;return v||(x=m.match(/^(\d+)\s*\/\s*(\d+)$/),v=x[1]/x[2]),v}function d(m){var v=parseFloat(m),x=String(m).match(i)[1];switch(x){case"dpcm":return v/2.54;case"dppx":return v*96;default:return v}}function p(m){var v=parseFloat(m),x=String(m).match(r)[1];switch(x){case"em":return v*16;case"rem":return v*16;case"cm":return v*96/2.54;case"mm":return v*96/2.54/10;case"in":return v*96;case"pt":return v*72;case"pc":return v*72/12;default:return v}}return dh}var Hp,Nw;function RA(){if(Nw)return Hp;Nw=1;var t=AA().match,e=typeof window<"u"?window.matchMedia:null;function n(i,a,l){var c=this,d;e&&!l&&(d=e.call(window,i)),d?(this.matches=d.matches,this.media=d.media,d.addListener(v)):(this.matches=t(i,a),this.media=i),this.addListener=p,this.removeListener=m,this.dispose=x;function p(S){d&&d.addListener(S)}function m(S){d&&d.removeListener(S)}function v(S){c.matches=S.matches,c.media=S.media}function x(){d&&d.removeListener(v)}}function r(i,a,l){return new n(i,a,l)}return Hp=r,Hp}var PA=RA();const kA=Cg(PA);var NA=/[A-Z]/g,DA=/^ms-/,Wp={};function LA(t){return"-"+t.toLowerCase()}function dT(t){if(Wp.hasOwnProperty(t))return Wp[t];var e=t.replace(NA,LA);return Wp[t]=DA.test(e)?"-"+e:e}function VA(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(let a=0;a<i;a++){const l=n[a];if(t[l]!==e[l]||!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0}var qp={exports:{}},Kp,Dw;function OA(){if(Dw)return Kp;Dw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kp=t,Kp}var Gp,Lw;function MA(){if(Lw)return Gp;Lw=1;var t=OA();function e(){}function n(){}return n.resetWarningCache=e,Gp=function(){function r(l,c,d,p,m,v){if(v!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Gp}var Vw;function jA(){return Vw||(Vw=1,qp.exports=MA()()),qp.exports}var FA=jA();const He=Cg(FA),ln=He.oneOfType([He.string,He.number]),fT={all:He.bool,grid:He.bool,aural:He.bool,braille:He.bool,handheld:He.bool,print:He.bool,projection:He.bool,screen:He.bool,tty:He.bool,tv:He.bool,embossed:He.bool},UA={orientation:He.oneOf(["portrait","landscape"]),scan:He.oneOf(["progressive","interlace"]),aspectRatio:He.string,deviceAspectRatio:He.string,height:ln,deviceHeight:ln,width:ln,deviceWidth:ln,color:He.bool,colorIndex:He.bool,monochrome:He.bool,resolution:ln,type:Object.keys(fT)},{type:a9,...BA}=UA,zA={minAspectRatio:He.string,maxAspectRatio:He.string,minDeviceAspectRatio:He.string,maxDeviceAspectRatio:He.string,minHeight:ln,maxHeight:ln,minDeviceHeight:ln,maxDeviceHeight:ln,minWidth:ln,maxWidth:ln,minDeviceWidth:ln,maxDeviceWidth:ln,minColor:He.number,maxColor:He.number,minColorIndex:He.number,maxColorIndex:He.number,minMonochrome:He.number,maxMonochrome:He.number,minResolution:ln,maxResolution:ln,...BA},$A={...fT,...zA};var HA={all:$A};const WA=t=>`not ${t}`,qA=(t,e)=>{const n=dT(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?WA(n):`(${n}: ${e})`},KA=t=>t.join(" and "),GA=t=>{const e=[];return Object.keys(HA.all).forEach(n=>{const r=t[n];r!=null&&e.push(qA(n,r))}),KA(e)},QA=R.createContext(void 0),YA=t=>t.query||GA(t),Ow=t=>t?Object.keys(t).reduce((n,r)=>(n[dT(r)]=t[r],n),{}):void 0,pT=()=>{const t=R.useRef(!1);return R.useEffect(()=>{t.current=!0},[]),t.current},XA=t=>{const e=R.useContext(QA),n=()=>Ow(t)||Ow(e),[r,i]=R.useState(n);return R.useEffect(()=>{const a=n();VA(r,a)||i(a)},[t,e]),r},JA=t=>{const e=()=>YA(t),[n,r]=R.useState(e);return R.useEffect(()=>{const i=e();n!==i&&r(i)},[t]),n},ZA=(t,e)=>{const n=()=>kA(t,e||{},!!e),[r,i]=R.useState(n),a=pT();return R.useEffect(()=>{if(a){const l=n();return i(l),()=>{l&&l.dispose()}}},[t,e]),r},eR=t=>{const[e,n]=R.useState(t.matches);return R.useEffect(()=>{const r=i=>{n(i.matches)};return t.addListener(r),n(t.matches),()=>{t.removeListener(r)}},[t]),e},tR=(t,e,n)=>{const r=XA(e),i=JA(t);if(!i)throw new Error("Invalid or missing MediaQuery!");const a=ZA(i,r),l=eR(a);return pT(),R.useEffect(()=>{},[l]),R.useEffect(()=>()=>{a&&a.dispose()},[]),l},Lg=R.createContext(null),nR=()=>{};var Mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,p=d?t[i+2]:0,m=a>>2,v=(a&3)<<4|c>>4;let x=(c&15)<<2|p>>6,S=p&63;d||(S=64,l||(x=64)),r.push(n[m],n[v],n[x],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||p==null||v==null)throw new sR;const x=a<<2|c>>4;if(r.push(x),p!==64){const S=c<<4&240|p>>2;if(r.push(S),v!==64){const C=p<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(t){const e=mT(t);return gT.encodeByteArray(e,!0)},Qh=function(t){return iR(t).replace(/\./g,"")},yT=function(t){try{return gT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=()=>oR().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof Mw>"u")return;const t=Mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yT(t[1]);return e&&JSON.parse(e)},Ad=()=>{try{return nR()||aR()||lR()||uR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vT=t=>{var e,n;return(n=(e=Ad())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cR=t=>{const e=vT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wT=()=>{var t;return(t=Ad())===null||t===void 0?void 0:t.config},_T=t=>{var e;return(e=Ad())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qh(JSON.stringify(n)),Qh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function pR(){var t;const e=(t=Ad())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vR(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wR(){return!pR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _R(){try{return typeof indexedDB=="object"}catch{return!1}}function xR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="FirebaseError";class gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ER,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?TR(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new gs(i,c,r)}}function TR(t,e){return t.replace(SR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SR=/\{\$([^}]+)}/g;function bR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function to(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(jw(a)&&jw(l)){if(!to(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Xl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IR(t,e){const n=new CR(t,e);return n.subscribe.bind(n)}class CR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qp),i.error===void 0&&(i.error=Qp),i.complete===void 0&&(i.complete=Qp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class no{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kR(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PR(t){return t===qi?void 0:t}function kR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const DR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},LR=Le.INFO,VR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},OR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vg{constructor(e){this.name=e,this._logLevel=LR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const MR=(t,e)=>e.some(n=>t instanceof n);let Fw,Uw;function jR(){return Fw||(Fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return Uw||(Uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xT=new WeakMap,Am=new WeakMap,ET=new WeakMap,Yp=new WeakMap,Og=new WeakMap;function UR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ys(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&xT.set(n,t)}).catch(()=>{}),Og.set(e,t),e}function BR(t){if(Am.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Am.set(t,e)}let Rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ET.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zR(t){Rm=t(Rm)}function $R(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xp(this),e,...n);return ET.set(r,e.sort?e.sort():[e]),Ys(r)}:FR().includes(t)?function(...e){return t.apply(Xp(this),e),Ys(xT.get(this))}:function(...e){return Ys(t.apply(Xp(this),e))}}function HR(t){return typeof t=="function"?$R(t):(t instanceof IDBTransaction&&BR(t),MR(t,jR())?new Proxy(t,Rm):t)}function Ys(t){if(t instanceof IDBRequest)return UR(t);if(Yp.has(t))return Yp.get(t);const e=HR(t);return e!==t&&(Yp.set(t,e),Og.set(e,t)),e}const Xp=t=>Og.get(t);function WR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=Ys(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ys(l.result),d.oldVersion,d.newVersion,Ys(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const qR=["get","getKey","getAll","getAllKeys","count"],KR=["put","add","delete","clear"],Jp=new Map;function Bw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qR.includes(n)))return;const a=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),i&&d.done]))[0]};return Jp.set(e,a),a}zR(t=>({...t,get:(e,n,r)=>Bw(e,n)||t.get(e,n,r),has:(e,n)=>!!Bw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pm="@firebase/app",zw="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Vg("@firebase/app"),YR="@firebase/app-compat",XR="@firebase/analytics-compat",JR="@firebase/analytics",ZR="@firebase/app-check-compat",eP="@firebase/app-check",tP="@firebase/auth",nP="@firebase/auth-compat",rP="@firebase/database",sP="@firebase/data-connect",iP="@firebase/database-compat",oP="@firebase/functions",aP="@firebase/functions-compat",lP="@firebase/installations",uP="@firebase/installations-compat",cP="@firebase/messaging",hP="@firebase/messaging-compat",dP="@firebase/performance",fP="@firebase/performance-compat",pP="@firebase/remote-config",mP="@firebase/remote-config-compat",gP="@firebase/storage",yP="@firebase/storage-compat",vP="@firebase/firestore",wP="@firebase/vertexai",_P="@firebase/firestore-compat",xP="firebase",EP="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",TP={[Pm]:"fire-core",[YR]:"fire-core-compat",[JR]:"fire-analytics",[XR]:"fire-analytics-compat",[eP]:"fire-app-check",[ZR]:"fire-app-check-compat",[tP]:"fire-auth",[nP]:"fire-auth-compat",[rP]:"fire-rtdb",[sP]:"fire-data-connect",[iP]:"fire-rtdb-compat",[oP]:"fire-fn",[aP]:"fire-fn-compat",[lP]:"fire-iid",[uP]:"fire-iid-compat",[cP]:"fire-fcm",[hP]:"fire-fcm-compat",[dP]:"fire-perf",[fP]:"fire-perf-compat",[pP]:"fire-rc",[mP]:"fire-rc-compat",[gP]:"fire-gcs",[yP]:"fire-gcs-compat",[vP]:"fire-fst",[_P]:"fire-fst-compat",[wP]:"fire-vertex","fire-js":"fire-js",[xP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,SP=new Map,Nm=new Map;function $w(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sa(t){const e=t.name;if(Nm.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,t);for(const n of Yh.values())$w(n,t);for(const n of SP.values())$w(n,t);return!0}function Mg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Du("app","Firebase",bP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=EP;function TT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:km,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xs.create("bad-app-name",{appName:String(i)});if(n||(n=wT()),!n)throw Xs.create("no-options");const a=Yh.get(i);if(a){if(to(n,a.options)&&to(r,a.config))return a;throw Xs.create("duplicate-app",{appName:i})}const l=new NR(i);for(const d of Nm.values())l.addComponent(d);const c=new IP(n,r,l);return Yh.set(i,c),c}function ST(t=km){const e=Yh.get(t);if(!e&&t===km&&wT())return TT();if(!e)throw Xs.create("no-app",{appName:t});return e}function Js(t,e,n){var r;let i=(r=TP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(c.join(" "));return}Sa(new no(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="firebase-heartbeat-database",AP=1,pu="firebase-heartbeat-store";let Zp=null;function bT(){return Zp||(Zp=WR(CP,AP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xs.create("idb-open",{originalErrorMessage:t.message})})),Zp}async function RP(t){try{const n=(await bT()).transaction(pu),r=await n.objectStore(pu).get(IT(t));return await n.done,r}catch(e){if(e instanceof gs)us.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(n.message)}}}async function Hw(t,e){try{const r=(await bT()).transaction(pu,"readwrite");await r.objectStore(pu).put(e,IT(t)),await r.done}catch(n){if(n instanceof gs)us.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});us.warn(r.message)}}}function IT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=1024,kP=30;class NP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ww();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>kP){const l=VP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ww(),{heartbeatsToSend:r,unsentEntries:i}=DP(this._heartbeatsCache.heartbeats),a=Qh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return us.warn(n),""}}}function Ww(){return new Date().toISOString().substring(0,10)}function DP(t,e=PP){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),qw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _R()?xR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qw(t){return Qh(JSON.stringify({version:2,heartbeats:t})).length}function VP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){Sa(new no("platform-logger",e=>new GR(e),"PRIVATE")),Sa(new no("heartbeat",e=>new NP(e),"PRIVATE")),Js(Pm,zw,t),Js(Pm,zw,"esm2017"),Js("fire-js","")}OP("");var MP="firebase",jP="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(MP,jP,"app");var Kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,CT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function k(){}k.prototype=A.prototype,N.D=A.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(M,F,z){for(var V=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)V[tt-2]=arguments[tt];return A.prototype[F].apply(M,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,A,k){k||(k=0);var M=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)M[F]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(F=0;16>F;++F)M[F]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=N.g[0],k=N.g[1],F=N.g[2];var z=N.g[3],V=A+(z^k&(F^z))+M[0]+3614090360&4294967295;A=k+(V<<7&4294967295|V>>>25),V=z+(F^A&(k^F))+M[1]+3905402710&4294967295,z=A+(V<<12&4294967295|V>>>20),V=F+(k^z&(A^k))+M[2]+606105819&4294967295,F=z+(V<<17&4294967295|V>>>15),V=k+(A^F&(z^A))+M[3]+3250441966&4294967295,k=F+(V<<22&4294967295|V>>>10),V=A+(z^k&(F^z))+M[4]+4118548399&4294967295,A=k+(V<<7&4294967295|V>>>25),V=z+(F^A&(k^F))+M[5]+1200080426&4294967295,z=A+(V<<12&4294967295|V>>>20),V=F+(k^z&(A^k))+M[6]+2821735955&4294967295,F=z+(V<<17&4294967295|V>>>15),V=k+(A^F&(z^A))+M[7]+4249261313&4294967295,k=F+(V<<22&4294967295|V>>>10),V=A+(z^k&(F^z))+M[8]+1770035416&4294967295,A=k+(V<<7&4294967295|V>>>25),V=z+(F^A&(k^F))+M[9]+2336552879&4294967295,z=A+(V<<12&4294967295|V>>>20),V=F+(k^z&(A^k))+M[10]+4294925233&4294967295,F=z+(V<<17&4294967295|V>>>15),V=k+(A^F&(z^A))+M[11]+2304563134&4294967295,k=F+(V<<22&4294967295|V>>>10),V=A+(z^k&(F^z))+M[12]+1804603682&4294967295,A=k+(V<<7&4294967295|V>>>25),V=z+(F^A&(k^F))+M[13]+4254626195&4294967295,z=A+(V<<12&4294967295|V>>>20),V=F+(k^z&(A^k))+M[14]+2792965006&4294967295,F=z+(V<<17&4294967295|V>>>15),V=k+(A^F&(z^A))+M[15]+1236535329&4294967295,k=F+(V<<22&4294967295|V>>>10),V=A+(F^z&(k^F))+M[1]+4129170786&4294967295,A=k+(V<<5&4294967295|V>>>27),V=z+(k^F&(A^k))+M[6]+3225465664&4294967295,z=A+(V<<9&4294967295|V>>>23),V=F+(A^k&(z^A))+M[11]+643717713&4294967295,F=z+(V<<14&4294967295|V>>>18),V=k+(z^A&(F^z))+M[0]+3921069994&4294967295,k=F+(V<<20&4294967295|V>>>12),V=A+(F^z&(k^F))+M[5]+3593408605&4294967295,A=k+(V<<5&4294967295|V>>>27),V=z+(k^F&(A^k))+M[10]+38016083&4294967295,z=A+(V<<9&4294967295|V>>>23),V=F+(A^k&(z^A))+M[15]+3634488961&4294967295,F=z+(V<<14&4294967295|V>>>18),V=k+(z^A&(F^z))+M[4]+3889429448&4294967295,k=F+(V<<20&4294967295|V>>>12),V=A+(F^z&(k^F))+M[9]+568446438&4294967295,A=k+(V<<5&4294967295|V>>>27),V=z+(k^F&(A^k))+M[14]+3275163606&4294967295,z=A+(V<<9&4294967295|V>>>23),V=F+(A^k&(z^A))+M[3]+4107603335&4294967295,F=z+(V<<14&4294967295|V>>>18),V=k+(z^A&(F^z))+M[8]+1163531501&4294967295,k=F+(V<<20&4294967295|V>>>12),V=A+(F^z&(k^F))+M[13]+2850285829&4294967295,A=k+(V<<5&4294967295|V>>>27),V=z+(k^F&(A^k))+M[2]+4243563512&4294967295,z=A+(V<<9&4294967295|V>>>23),V=F+(A^k&(z^A))+M[7]+1735328473&4294967295,F=z+(V<<14&4294967295|V>>>18),V=k+(z^A&(F^z))+M[12]+2368359562&4294967295,k=F+(V<<20&4294967295|V>>>12),V=A+(k^F^z)+M[5]+4294588738&4294967295,A=k+(V<<4&4294967295|V>>>28),V=z+(A^k^F)+M[8]+2272392833&4294967295,z=A+(V<<11&4294967295|V>>>21),V=F+(z^A^k)+M[11]+1839030562&4294967295,F=z+(V<<16&4294967295|V>>>16),V=k+(F^z^A)+M[14]+4259657740&4294967295,k=F+(V<<23&4294967295|V>>>9),V=A+(k^F^z)+M[1]+2763975236&4294967295,A=k+(V<<4&4294967295|V>>>28),V=z+(A^k^F)+M[4]+1272893353&4294967295,z=A+(V<<11&4294967295|V>>>21),V=F+(z^A^k)+M[7]+4139469664&4294967295,F=z+(V<<16&4294967295|V>>>16),V=k+(F^z^A)+M[10]+3200236656&4294967295,k=F+(V<<23&4294967295|V>>>9),V=A+(k^F^z)+M[13]+681279174&4294967295,A=k+(V<<4&4294967295|V>>>28),V=z+(A^k^F)+M[0]+3936430074&4294967295,z=A+(V<<11&4294967295|V>>>21),V=F+(z^A^k)+M[3]+3572445317&4294967295,F=z+(V<<16&4294967295|V>>>16),V=k+(F^z^A)+M[6]+76029189&4294967295,k=F+(V<<23&4294967295|V>>>9),V=A+(k^F^z)+M[9]+3654602809&4294967295,A=k+(V<<4&4294967295|V>>>28),V=z+(A^k^F)+M[12]+3873151461&4294967295,z=A+(V<<11&4294967295|V>>>21),V=F+(z^A^k)+M[15]+530742520&4294967295,F=z+(V<<16&4294967295|V>>>16),V=k+(F^z^A)+M[2]+3299628645&4294967295,k=F+(V<<23&4294967295|V>>>9),V=A+(F^(k|~z))+M[0]+4096336452&4294967295,A=k+(V<<6&4294967295|V>>>26),V=z+(k^(A|~F))+M[7]+1126891415&4294967295,z=A+(V<<10&4294967295|V>>>22),V=F+(A^(z|~k))+M[14]+2878612391&4294967295,F=z+(V<<15&4294967295|V>>>17),V=k+(z^(F|~A))+M[5]+4237533241&4294967295,k=F+(V<<21&4294967295|V>>>11),V=A+(F^(k|~z))+M[12]+1700485571&4294967295,A=k+(V<<6&4294967295|V>>>26),V=z+(k^(A|~F))+M[3]+2399980690&4294967295,z=A+(V<<10&4294967295|V>>>22),V=F+(A^(z|~k))+M[10]+4293915773&4294967295,F=z+(V<<15&4294967295|V>>>17),V=k+(z^(F|~A))+M[1]+2240044497&4294967295,k=F+(V<<21&4294967295|V>>>11),V=A+(F^(k|~z))+M[8]+1873313359&4294967295,A=k+(V<<6&4294967295|V>>>26),V=z+(k^(A|~F))+M[15]+4264355552&4294967295,z=A+(V<<10&4294967295|V>>>22),V=F+(A^(z|~k))+M[6]+2734768916&4294967295,F=z+(V<<15&4294967295|V>>>17),V=k+(z^(F|~A))+M[13]+1309151649&4294967295,k=F+(V<<21&4294967295|V>>>11),V=A+(F^(k|~z))+M[4]+4149444226&4294967295,A=k+(V<<6&4294967295|V>>>26),V=z+(k^(A|~F))+M[11]+3174756917&4294967295,z=A+(V<<10&4294967295|V>>>22),V=F+(A^(z|~k))+M[2]+718787259&4294967295,F=z+(V<<15&4294967295|V>>>17),V=k+(z^(F|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+F&4294967295,N.g[3]=N.g[3]+z&4294967295}r.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var k=A-this.blockSize,M=this.B,F=this.h,z=0;z<A;){if(F==0)for(;z<=k;)i(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<A;)if(M[F++]=N.charCodeAt(z++),F==this.blockSize){i(this,M),F=0;break}}else for(;z<A;)if(M[F++]=N[z++],F==this.blockSize){i(this,M),F=0;break}}this.h=F,this.o+=A},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var k=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=k&255,k/=256;for(this.u(N),N=Array(16),A=k=0;4>A;++A)for(var M=0;32>M;M+=8)N[k++]=this.g[A]>>>M&255;return N};function a(N,A){var k=c;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=A(N)}function l(N,A){this.h=A;for(var k=[],M=!0,F=N.length-1;0<=F;F--){var z=N[F]|0;M&&z==A||(k[F]=z,M=!1)}this.g=k}var c={};function d(N){return-128<=N&&128>N?a(N,function(A){return new l([A|0],0>A?-1:0)}):new l([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return b(p(-N));for(var A=[],k=1,M=0;N>=k;M++)A[M]=N/k|0,k*=4294967296;return new l(A,0)}function m(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return b(m(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(A,8)),M=v,F=0;F<N.length;F+=8){var z=Math.min(8,N.length-F),V=parseInt(N.substring(F,F+z),A);8>z?(z=p(Math.pow(A,z)),M=M.j(z).add(p(V))):(M=M.j(k),M=M.add(p(V)))}return M}var v=d(0),x=d(1),S=d(16777216);t=l.prototype,t.m=function(){if(P(this))return-b(this).m();for(var N=0,A=1,k=0;k<this.g.length;k++){var M=this.i(k);N+=(0<=M?M:4294967296+M)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C(this))return"0";if(P(this))return"-"+b(this).toString(N);for(var A=p(Math.pow(N,6)),k=this,M="";;){var F=K(k,A).g;k=L(k,F.j(A));var z=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=F,C(k))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function C(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function P(N){return N.h==-1}t.l=function(N){return N=L(this,N),P(N)?-1:C(N)?0:1};function b(N){for(var A=N.g.length,k=[],M=0;M<A;M++)k[M]=~N.g[M];return new l(k,~N.h).add(x)}t.abs=function(){return P(this)?b(this):this},t.add=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],M=0,F=0;F<=A;F++){var z=M+(this.i(F)&65535)+(N.i(F)&65535),V=(z>>>16)+(this.i(F)>>>16)+(N.i(F)>>>16);M=V>>>16,z&=65535,V&=65535,k[F]=V<<16|z}return new l(k,k[k.length-1]&-2147483648?-1:0)};function L(N,A){return N.add(b(A))}t.j=function(N){if(C(this)||C(N))return v;if(P(this))return P(N)?b(this).j(b(N)):b(b(this).j(N));if(P(N))return b(this.j(b(N)));if(0>this.l(S)&&0>N.l(S))return p(this.m()*N.m());for(var A=this.g.length+N.g.length,k=[],M=0;M<2*A;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<N.g.length;F++){var z=this.i(M)>>>16,V=this.i(M)&65535,tt=N.i(F)>>>16,xt=N.i(F)&65535;k[2*M+2*F]+=V*xt,B(k,2*M+2*F),k[2*M+2*F+1]+=z*xt,B(k,2*M+2*F+1),k[2*M+2*F+1]+=V*tt,B(k,2*M+2*F+1),k[2*M+2*F+2]+=z*tt,B(k,2*M+2*F+2)}for(M=0;M<A;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=A;M<2*A;M++)k[M]=0;return new l(k,0)};function B(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function O(N,A){this.g=N,this.h=A}function K(N,A){if(C(A))throw Error("division by zero");if(C(N))return new O(v,v);if(P(N))return A=K(b(N),A),new O(b(A.g),b(A.h));if(P(A))return A=K(N,b(A)),new O(b(A.g),A.h);if(30<N.g.length){if(P(N)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var k=x,M=A;0>=M.l(N);)k=Q(k),M=Q(M);var F=Z(k,1),z=Z(M,1);for(M=Z(M,2),k=Z(k,2);!C(M);){var V=z.add(M);0>=V.l(N)&&(F=F.add(k),z=V),M=Z(M,1),k=Z(k,1)}return A=L(N,F.j(A)),new O(F,A)}for(F=v;0<=N.l(A);){for(k=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=p(k),V=z.j(A);P(V)||0<V.l(N);)k-=M,z=p(k),V=z.j(A);C(z)&&(z=x),F=F.add(z),N=L(N,V)}return new O(F,N)}t.A=function(N){return K(this,N).h},t.and=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],M=0;M<A;M++)k[M]=this.i(M)&N.i(M);return new l(k,this.h&N.h)},t.or=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],M=0;M<A;M++)k[M]=this.i(M)|N.i(M);return new l(k,this.h|N.h)},t.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],M=0;M<A;M++)k[M]=this.i(M)^N.i(M);return new l(k,this.h^N.h)};function Q(N){for(var A=N.g.length+1,k=[],M=0;M<A;M++)k[M]=N.i(M)<<1|N.i(M-1)>>>31;return new l(k,N.h)}function Z(N,A){var k=A>>5;A%=32;for(var M=N.g.length-k,F=[],z=0;z<M;z++)F[z]=0<A?N.i(z+k)>>>A|N.i(z+k+1)<<32-A:N.i(z+k);return new l(F,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Zs=l}).apply(typeof Kw<"u"?Kw:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AT,Jl,RT,Rh,Dm,PT,kT,NT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,E){return h==Array.prototype||h==Object.prototype||(h[w]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var w=0;w<h.length;++w){var E=h[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var E=r;h=h.split(".");for(var I=0;I<h.length-1;I++){var H=h[I];if(!(H in E))break e;E=E[H]}h=h[h.length-1],I=E[h],w=w(I),w!=I&&w!=null&&e(E,h,{configurable:!0,writable:!0,value:w})}}function a(h,w){h instanceof String&&(h+="");var E=0,I=!1,H={next:function(){if(!I&&E<h.length){var Y=E++;return{value:w(Y,h[Y]),done:!1}}return I=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(h){return h||function(){return a(this,function(w,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function p(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function m(h,w,E){return h.call.apply(h.bind,arguments)}function v(h,w,E){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,I),h.apply(w,H)}}return function(){return h.apply(w,arguments)}}function x(h,w,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,x.apply(null,arguments)}function S(h,w){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function C(h,w){function E(){}E.prototype=w.prototype,h.aa=w.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(I,H,Y){for(var ae=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ae[Ke-2]=arguments[Ke];return w.prototype[H].apply(I,ae)}}function P(h){const w=h.length;if(0<w){const E=Array(w);for(let I=0;I<w;I++)E[I]=h[I];return E}return[]}function b(h,w){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(d(I)){const H=h.length||0,Y=I.length||0;h.length=H+Y;for(let ae=0;ae<Y;ae++)h[H+ae]=I[ae]}else h.push(I)}}class L{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function B(h){return/^[\s\xa0]*$/.test(h)}function O(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function K(h){return K[" "](h),h}K[" "]=function(){};var Q=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function Z(h,w,E){for(const I in h)w.call(E,h[I],I,h)}function N(h,w){for(const E in h)w.call(void 0,h[E],E,h)}function A(h){const w={};for(const E in h)w[E]=h[E];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,w){let E,I;for(let H=1;H<arguments.length;H++){I=arguments[H];for(E in I)h[E]=I[E];for(let Y=0;Y<k.length;Y++)E=k[Y],Object.prototype.hasOwnProperty.call(I,E)&&(h[E]=I[E])}}function F(h){var w=1;h=h.split(":");const E=[];for(;0<w&&h.length;)E.push(h.shift()),w--;return h.length&&E.push(h.join(":")),E}function z(h){c.setTimeout(()=>{throw h},0)}function V(){var h=pe;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class tt{constructor(){this.h=this.g=null}add(w,E){const I=xt.get();I.set(w,E),this.h?this.h.next=I:this.g=I,this.h=I}}var xt=new L(()=>new jt,h=>h.reset());class jt{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,ie=!1,pe=new tt,le=()=>{const h=c.Promise.resolve(void 0);Ie=()=>{h.then($)}};var $=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(E){z(E)}var w=xt;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}ie=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,w),c.removeEventListener("test",E,w)}catch{}return h}();function Ne(h,w){if(ge.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(Q){e:{try{K(w.nodeName);var H=!0;break e}catch{}H=!1}H||(w=null)}}else E=="mouseover"?w=h.fromElement:E=="mouseout"&&(w=h.toElement);this.relatedTarget=w,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ne.aa.h.call(this)}}C(Ne,ge);var Me={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ye(h,w,E,I,H){this.listener=h,this.proxy=null,this.src=w,this.type=E,this.capture=!!I,this.ha=H,this.key=++$e,this.da=this.fa=!1}function Pt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ur(h){this.src=h,this.g={},this.h=0}Ur.prototype.add=function(h,w,E,I,H){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var ae=ys(h,w,I,H);return-1<ae?(w=h[ae],E||(w.fa=!1)):(w=new Ye(w,this.src,Y,!!I,H),w.fa=E,h.push(w)),w};function go(h,w){var E=w.type;if(E in h.g){var I=h.g[E],H=Array.prototype.indexOf.call(I,w,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(I,H,1),Y&&(Pt(w),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ys(h,w,E,I){for(var H=0;H<h.length;++H){var Y=h[H];if(!Y.da&&Y.listener==w&&Y.capture==!!E&&Y.ha==I)return H}return-1}var yi="closure_lm_"+(1e6*Math.random()|0),yo={};function Xa(h,w,E,I,H){if(Array.isArray(w)){for(var Y=0;Y<w.length;Y++)Xa(h,w[Y],E,I,H);return null}return E=el(E),h&&h[ze]?h.K(w,E,p(I)?!!I.capture:!1,H):Ja(h,w,E,!1,I,H)}function Ja(h,w,E,I,H,Y){if(!w)throw Error("Invalid event type");var ae=p(H)?!!H.capture:!!H,Ke=wo(h);if(Ke||(h[yi]=Ke=new Ur(h)),E=Ke.add(w,E,I,ae,Y),E.proxy)return E;if(I=Yu(),E.proxy=I,I.src=h,I.listener=E,h.addEventListener)Pe||(H=ae),H===void 0&&(H=!1),h.addEventListener(w.toString(),I,H);else if(h.attachEvent)h.attachEvent(zr(w.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Yu(){function h(E){return w.call(h.src,h.listener,E)}const w=Za;return h}function vo(h,w,E,I,H){if(Array.isArray(w))for(var Y=0;Y<w.length;Y++)vo(h,w[Y],E,I,H);else I=p(I)?!!I.capture:!!I,E=el(E),h&&h[ze]?(h=h.i,w=String(w).toString(),w in h.g&&(Y=h.g[w],E=ys(Y,E,I,H),-1<E&&(Pt(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete h.g[w],h.h--)))):h&&(h=wo(h))&&(w=h.g[w.toString()],h=-1,w&&(h=ys(w,E,I,H)),(E=-1<h?w[h]:null)&&Br(E))}function Br(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[ze])go(w.i,h);else{var E=h.type,I=h.proxy;w.removeEventListener?w.removeEventListener(E,I,h.capture):w.detachEvent?w.detachEvent(zr(E),I):w.addListener&&w.removeListener&&w.removeListener(I),(E=wo(w))?(go(E,h),E.h==0&&(E.src=null,w[yi]=null)):Pt(h)}}}function zr(h){return h in yo?yo[h]:yo[h]="on"+h}function Za(h,w){if(h.da)h=!0;else{w=new Ne(w,this);var E=h.listener,I=h.ha||h.src;h.fa&&Br(h),h=E.call(I,w)}return h}function wo(h){return h=h[yi],h instanceof Ur?h:null}var _o="__closure_events_fn_"+(1e9*Math.random()>>>0);function el(h){return typeof h=="function"?h:(h[_o]||(h[_o]=function(w){return h.handleEvent(w)}),h[_o])}function Et(){ee.call(this),this.i=new Ur(this),this.M=this,this.F=null}C(Et,ee),Et.prototype[ze]=!0,Et.prototype.removeEventListener=function(h,w,E,I){vo(this,h,w,E,I)};function Tt(h,w){var E,I=h.F;if(I)for(E=[];I;I=I.F)E.push(I);if(h=h.M,I=w.type||w,typeof w=="string")w=new ge(w,h);else if(w instanceof ge)w.target=w.target||h;else{var H=w;w=new ge(I,h),M(w,H)}if(H=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ae=w.g=E[Y];H=$r(ae,I,!0,w)&&H}if(ae=w.g=h,H=$r(ae,I,!0,w)&&H,H=$r(ae,I,!1,w)&&H,E)for(Y=0;Y<E.length;Y++)ae=w.g=E[Y],H=$r(ae,I,!1,w)&&H}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var E=h.g[w],I=0;I<E.length;I++)Pt(E[I]);delete h.g[w],h.h--}}this.F=null},Et.prototype.K=function(h,w,E,I){return this.i.add(String(h),w,!1,E,I)},Et.prototype.L=function(h,w,E,I){return this.i.add(String(h),w,!0,E,I)};function $r(h,w,E,I){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var H=!0,Y=0;Y<w.length;++Y){var ae=w[Y];if(ae&&!ae.da&&ae.capture==E){var Ke=ae.listener,St=ae.ha||ae.src;ae.fa&&go(h.i,ae),H=Ke.call(St,I)!==!1&&H}}return H&&!I.defaultPrevented}function tl(h,w,E){if(typeof h=="function")E&&(h=x(h,E));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(h,w||0)}function vs(h){h.g=tl(()=>{h.g=null,h.i&&(h.i=!1,vs(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class vi extends ee{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:vs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(h){ee.call(this),this.h=h,this.g={}}C(wi,ee);var nl=[];function rl(h){Z(h.g,function(w,E){this.g.hasOwnProperty(E)&&Br(w)},h),h.g={}}wi.prototype.N=function(){wi.aa.N.call(this),rl(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sl=c.JSON.stringify,il=c.JSON.parse,ol=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function _i(){}_i.prototype.h=null;function xo(h){return h.h||(h.h=h.i())}function Eo(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){ge.call(this,"d")}C(gr,ge);function To(){ge.call(this,"c")}C(To,ge);var yr={},al=null;function xi(){return al=al||new Et}yr.La="serverreachability";function ll(h){ge.call(this,yr.La,h)}C(ll,ge);function Hr(h){const w=xi();Tt(w,new ll(w))}yr.STAT_EVENT="statevent";function ul(h,w){ge.call(this,yr.STAT_EVENT,h),this.stat=w}C(ul,ge);function dt(h){const w=xi();Tt(w,new ul(w,h))}yr.Ma="timingevent";function So(h,w){ge.call(this,yr.Ma,h),this.size=w}C(So,ge);function Kn(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},w)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Ti(h,w,E,I,H,Y){h.info(function(){if(h.g)if(Y)for(var ae="",Ke=Y.split("&"),St=0;St<Ke.length;St++){var je=Ke[St].split("=");if(1<je.length){var kt=je[0];je=je[1];var yt=kt.split("_");ae=2<=yt.length&&yt[1]=="type"?ae+(kt+"="+je+"&"):ae+(kt+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+I+") [attempt "+H+"]: "+w+`
`+E+`
`+ae})}function bo(h,w,E,I,H,Y,ae){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+H+"]: "+w+`
`+E+`
`+Y+" "+ae})}function Gn(h,w,E,I){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+hf(h,E)+(I?" "+I:"")})}function cl(h,w){h.info(function(){return"TIMEOUT: "+w})}Ei.prototype.info=function(){};function hf(h,w){if(!h.g)return w;if(!w)return null;try{var E=JSON.parse(w);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var I=E[h];if(!(2>I.length)){var H=I[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<H.length;ae++)H[ae]=""}}}}return sl(E)}catch{return w}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Si(){}C(Si,_i),Si.prototype.g=function(){return new XMLHttpRequest},Si.prototype.i=function(){return{}},Qn=new Si;function Yn(h,w,E,I){this.j=h,this.i=w,this.l=E,this.R=I||1,this.U=new wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ju}function Ju(){this.i=null,this.g="",this.h=!1}var hl={},Co={};function Ao(h,w,E){h.L=1,h.v=Ts(bn(w)),h.m=E,h.P=!0,dl(h,null)}function dl(h,w){h.F=Date.now(),Xe(h),h.A=bn(h.v);var E=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),bs(E.i,"t",I),h.C=0,E=h.j.J,h.h=new Ju,h.g=gc(h.j,E?w:null,!h.m),0<h.O&&(h.M=new vi(x(h.Y,h,h.g),h.O)),w=h.U,E=h.g,I=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(nl[0]=H.toString()),H=nl);for(var Y=0;Y<H.length;Y++){var ae=Xa(E,H[Y],I||w.handleEvent,!1,w.h||w);if(!ae)break;w.g[ae.key]=ae}w=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),Hr(),Ti(h.i,h.u,h.A,h.l,h.R,h.m)}Yn.prototype.ca=function(h){h=h.target;const w=this.M;w&&dn(h)==3?w.j():this.Y(h)},Yn.prototype.Y=function(h){try{if(h==this.g)e:{const yt=dn(this.g);var w=this.g.Ba();const On=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||vl(this.g)))){this.J||yt!=4||w==7||(w==8||0>=On?Hr(3):Hr(2)),bi(this);var E=this.g.Z();this.X=E;t:if(Zu(this)){var I=vl(this.g);h="";var H=I.length,Y=dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),ws(this);var ae="";break t}this.h.i=new c.TextDecoder}for(w=0;w<H;w++)this.h.h=!0,h+=this.h.i.decode(I[w],{stream:!(Y&&w==H-1)});I.length=0,this.h.g+=h,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,bo(this.i,this.u,this.A,this.l,this.R,yt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,St=this.g;if((Ke=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ke)){var je=Ke;break t}}je=null}if(E=je)Gn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fl(this,E);else{this.o=!1,this.s=3,dt(12),Ln(this),ws(this);break e}}if(this.P){E=!0;let Cn;for(;!this.J&&this.C<ae.length;)if(Cn=df(this,ae),Cn==Co){yt==4&&(this.s=4,dt(14),E=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==hl){this.s=4,dt(15),Gn(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else Gn(this.i,this.l,Cn,null),fl(this,Cn);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),E=!1),this.o=this.o&&E,!E)Gn(this.i,this.l,ae,"[Invalid Chunked Response]"),Ln(this),ws(this);else if(0<ae.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),_l(kt),kt.M=!0,dt(11))}}else Gn(this.i,this.l,ae,null),fl(this,ae);yt==4&&Ln(this),this.o&&!this.J&&(yt==4?Fo(this.j,this):(this.o=!1,Xe(this)))}else Lo(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Ln(this),ws(this)}}}catch{}finally{}};function Zu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function df(h,w){var E=h.C,I=w.indexOf(`
`,E);return I==-1?Co:(E=Number(w.substring(E,I)),isNaN(E)?hl:(I+=1,I+E>w.length?Co:(w=w.slice(I,I+E),h.C=I+E,w)))}Yn.prototype.cancel=function(){this.J=!0,Ln(this)};function Xe(h){h.S=Date.now()+h.I,ec(h,h.I)}function ec(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Kn(x(h.ba,h),w)}function bi(h){h.B&&(c.clearTimeout(h.B),h.B=null)}Yn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(cl(this.i,this.A),this.L!=2&&(Hr(),dt(17)),Ln(this),this.s=2,ws(this)):ec(this,this.S-h)};function ws(h){h.j.G==0||h.J||Fo(h.j,h)}function Ln(h){bi(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,rl(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function fl(h,w){try{var E=h.j;if(E.G!=0&&(E.g==h||rn(E.h,h))){if(!h.K&&rn(E.h,h)&&E.G==3){try{var I=E.Da.g.parse(w)}catch{I=null}if(Array.isArray(I)&&I.length==3){var H=I;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)jo(E),tr(E);else break e;Mo(E),dt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=Kn(x(E.Za,E),6e3));if(1>=nc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Qr(E,11)}else if((h.K||E.g==h)&&jo(E),!B(w))for(H=E.Da.g.parse(w),w=0;w<H.length;w++){let je=H[w];if(E.T=je[0],je=je[1],E.G==2)if(je[0]=="c"){E.K=je[1],E.ia=je[2];const kt=je[3];kt!=null&&(E.la=kt,E.j.info("VER="+E.la));const yt=je[4];yt!=null&&(E.Aa=yt,E.j.info("SVER="+E.Aa));const On=je[5];On!=null&&typeof On=="number"&&0<On&&(I=1.5*On,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Cn=h.g;if(Cn){const Ni=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ni){var Y=I.h;Y.g||Ni.indexOf("spdy")==-1&&Ni.indexOf("quic")==-1&&Ni.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(pl(Y,Y.h),Y.h=null))}if(I.D){const Bo=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bo&&(I.ya=Bo,Ge(I.I,I.D,Bo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var ae=h;if(I.qa=mc(I,I.J?I.ia:null,I.W),ae.K){rc(I.h,ae);var Ke=ae,St=I.L;St&&(Ke.I=St),Ke.B&&(bi(Ke),Xe(Ke)),I.g=ae}else ki(I);0<E.i.length&&xr(E)}else je[0]!="stop"&&je[0]!="close"||Qr(E,7);else E.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Qr(E,7):Ut(E):je[0]!="noop"&&E.l&&E.l.ta(je),E.v=0)}}Hr(4)}catch{}}var tc=class{constructor(h,w){this.g=h,this.map=w}};function Ii(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function nc(h){return h.h?1:h.g?h.g.size:0}function rn(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function pl(h,w){h.g?h.g.add(w):h.h=w}function rc(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Ii.prototype.cancel=function(){if(this.i=sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const E of h.g.values())w=w.concat(E.D);return w}return P(h.i)}function Ro(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var w=[],E=h.length,I=0;I<E;I++)w.push(h[I]);return w}w=[],E=0;for(I in h)w[E++]=h[I];return w}function Po(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var w=[];h=h.length;for(var E=0;E<h;E++)w.push(E);return w}w=[],E=0;for(const I in h)w[E++]=I;return w}}}function _s(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var E=Po(h),I=Ro(h),H=I.length,Y=0;Y<H;Y++)w.call(void 0,I[Y],E&&E[Y],h)}var Ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ff(h,w){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var I=h[E].indexOf("="),H=null;if(0<=I){var Y=h[E].substring(0,I);H=h[E].substring(I+1)}else Y=h[E];w(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Wr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Wr){this.h=h.h,Ai(this,h.j),this.o=h.o,this.g=h.g,xs(this,h.s),this.l=h.l;var w=h.i,E=new vr;E.i=w.i,w.g&&(E.g=new Map(w.g),E.h=w.h),Es(this,E),this.m=h.m}else h&&(w=String(h).match(Ci))?(this.h=!1,Ai(this,w[1]||"",!0),this.o=Oe(w[2]||""),this.g=Oe(w[3]||"",!0),xs(this,w[4]),this.l=Oe(w[5]||"",!0),Es(this,w[6]||"",!0),this.m=Oe(w[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}Wr.prototype.toString=function(){var h=[],w=this.j;w&&h.push(Ss(w,ko,!0),":");var E=this.g;return(E||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Ss(w,ko,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ss(E,E.charAt(0)=="/"?ac:oc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ss(E,ml)),h.join("")};function bn(h){return new Wr(h)}function Ai(h,w,E){h.j=E?Oe(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function xs(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function Es(h,w,E){w instanceof vr?(h.i=w,wr(h.i,h.h)):(E||(w=Ss(w,lc)),h.i=new vr(w,h.h))}function Ge(h,w,E){h.i.set(w,E)}function Ts(h){return Ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Oe(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ss(h,w,E){return typeof h=="string"?(h=encodeURI(h).replace(w,ic),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ic(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ko=/[#\/\?@]/g,oc=/[#\?:]/g,ac=/[#\?]/g,lc=/[#\?@]/g,ml=/#/g;function vr(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Ft(h){h.g||(h.g=new Map,h.h=0,h.i&&ff(h.i,function(w,E){h.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=vr.prototype,t.add=function(h,w){Ft(this),this.i=null,h=Vn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(w),this.h+=1,this};function Xn(h,w){Ft(h),w=Vn(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Jn(h,w){return Ft(h),w=Vn(h,w),h.g.has(w)}t.forEach=function(h,w){Ft(this),this.g.forEach(function(E,I){E.forEach(function(H){h.call(w,H,I,this)},this)},this)},t.na=function(){Ft(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),E=[];for(let I=0;I<w.length;I++){const H=h[I];for(let Y=0;Y<H.length;Y++)E.push(w[I])}return E},t.V=function(h){Ft(this);let w=[];if(typeof h=="string")Jn(this,h)&&(w=w.concat(this.g.get(Vn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)w=w.concat(h[E])}return w},t.set=function(h,w){return Ft(this),this.i=null,h=Vn(this,h),Jn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function bs(h,w,E){Xn(h,w),0<E.length&&(h.i=null,h.g.set(Vn(h,w),P(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var E=0;E<w.length;E++){var I=w[E];const Y=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var H=Y;ae[I]!==""&&(H+="="+encodeURIComponent(String(ae[I]))),h.push(H)}}return this.i=h.join("&")};function Vn(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function wr(h,w){w&&!h.j&&(Ft(h),h.i=null,h.g.forEach(function(E,I){var H=I.toLowerCase();I!=H&&(Xn(this,I),bs(this,H,E))},h)),h.j=w}function pf(h,w){const E=new Ei;if(c.Image){const I=new Image;I.onload=S(hn,E,"TestLoadImage: loaded",!0,w,I),I.onerror=S(hn,E,"TestLoadImage: error",!1,w,I),I.onabort=S(hn,E,"TestLoadImage: abort",!1,w,I),I.ontimeout=S(hn,E,"TestLoadImage: timeout",!1,w,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else w(!1)}function uc(h,w){const E=new Ei,I=new AbortController,H=setTimeout(()=>{I.abort(),hn(E,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:I.signal}).then(Y=>{clearTimeout(H),Y.ok?hn(E,"TestPingServer: ok",!0,w):hn(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(H),hn(E,"TestPingServer: error",!1,w)})}function hn(h,w,E,I,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),I(E)}catch{}}function mf(){this.g=new ol}function cc(h,w,E){const I=E||"";try{_s(h,function(H,Y){let ae=H;p(H)&&(ae=sl(H)),w.push(I+Y+"="+encodeURIComponent(ae))})}catch(H){throw w.push(I+"type="+encodeURIComponent("_badmap")),H}}function qr(h){this.l=h.Ub||null,this.j=h.eb||!1}C(qr,_i),qr.prototype.g=function(){return new Ri(this.l,this.j)},qr.prototype.i=function(h){return function(){return h}}({});function Ri(h,w){Et.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ri,Et),t=Ri.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,er(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function hc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Zn(this):er(this),this.readyState==3&&hc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Zn(this))},t.Qa=function(h){this.g&&(this.response=h,Zn(this))},t.ga=function(){this.g&&Zn(this)};function Zn(h){h.readyState=4,h.l=null,h.j=null,h.v=null,er(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=w.next();return h.join(`\r
`)};function er(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kr(h){let w="";return Z(h,function(E,I){w+=I,w+=":",w+=E,w+=`\r
`}),w}function Is(h,w,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=Kr(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Ge(h,w,E))}function nt(h){Et.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(nt,Et);var gf=/^https?$/i,gl=["POST","PUT"];t=nt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?xo(this.o):xo(Qn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(Y){Pi(this,Y);return}if(h=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var H in I)E.set(H,I[H]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Y of I.keys())E.set(Y,I.get(Y));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(gl,w,void 0))||I||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of E)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Do(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){Pi(this,Y)}};function Pi(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,No(h),In(h)}function No(h){h.A||(h.A=!0,Tt(h,"complete"),Tt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Tt(this,"complete"),Tt(this,"abort"),In(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),In(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yl(this):this.bb())},t.bb=function(){yl(this)};function yl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||dn(h)!=4||h.Z()!=2)){if(h.u&&dn(h)==4)tl(h.Ea,0,h);else if(Tt(h,"readystatechange"),dn(h)==4){h.h=!1;try{const ae=h.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var I;if(I=ae===0){var H=String(h.D).match(Ci)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),I=!gf.test(H?H.toLowerCase():"")}E=I}if(E)Tt(h,"complete"),Tt(h,"success");else{h.m=6;try{var Y=2<dn(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",No(h)}}finally{In(h)}}}}function In(h,w){if(h.g){Do(h);const E=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||Tt(h,"ready");try{E.onreadystatechange=I}catch{}}}function Do(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function dn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),il(w)}};function vl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Lo(h){const w={};h=(h.g&&2<=dn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(B(h[I]))continue;var E=F(h[I]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=w[H]||[];w[H]=Y,Y.push(E)}N(w,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _r(h,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||w}function wl(h){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_r("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_r("baseRetryDelayMs",5e3,h),this.cb=_r("retryDelaySeedMs",1e4,h),this.Wa=_r("forwardChannelMaxRetries",2,h),this.wa=_r("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(h&&h.concurrentRequestLimit),this.Da=new mf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wl.prototype,t.la=8,t.G=1,t.connect=function(h,w,E,I){dt(0),this.W=h,this.H=w||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=mc(this,null,this.W),xr(this)};function Ut(h){if(Vo(h),h.G==3){var w=h.U++,E=bn(h.I);if(Ge(E,"SID",h.K),Ge(E,"RID",w),Ge(E,"TYPE","terminate"),Gr(h,E),w=new Yn(h,h.j,w),w.L=2,w.v=Ts(bn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=w.v,E=!0),E||(w.g=gc(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Xe(w)}pc(h)}function tr(h){h.g&&(_l(h),h.g.cancel(),h.g=null)}function Vo(h){tr(h),h.u&&(c.clearTimeout(h.u),h.u=null),jo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function xr(h){if(!Sn(h.h)&&!h.s){h.s=!0;var w=h.Ga;Ie||le(),ie||(Ie(),ie=!0),pe.add(w,h),h.B=0}}function yf(h,w){return nc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Kn(x(h.Ga,h,w),fc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new Yn(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=A(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(w+=I,4096<w){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Cs(this,H,w),E=bn(this.I),Ge(E,"RID",h),Ge(E,"CVER",22),this.D&&Ge(E,"X-HTTP-Session-Id",this.D),Gr(this,E),Y&&(this.O?w="headers="+encodeURIComponent(String(Kr(Y)))+"&"+w:this.m&&Is(E,this.m,Y)),pl(this.h,H),this.Ua&&Ge(E,"TYPE","init"),this.P?(Ge(E,"$req",w),Ge(E,"SID","null"),H.T=!0,Ao(H,E,null)):Ao(H,E,w),this.G=2}}else this.G==3&&(h?Oo(this,h):this.i.length==0||Sn(this.h)||Oo(this))};function Oo(h,w){var E;w?E=w.l:E=h.U++;const I=bn(h.I);Ge(I,"SID",h.K),Ge(I,"RID",E),Ge(I,"AID",h.T),Gr(h,I),h.m&&h.o&&Is(I,h.m,h.o),E=new Yn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),w&&(h.i=w.D.concat(h.i)),w=Cs(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),pl(h.h,E),Ao(E,I,w)}function Gr(h,w){h.H&&Z(h.H,function(E,I){Ge(w,I,E)}),h.l&&_s({},function(E,I){Ge(w,I,E)})}function Cs(h,w,E){E=Math.min(h.i.length,E);var I=h.l?x(h.l.Na,h.l,h):null;e:{var H=h.i;let Y=-1;for(;;){const ae=["count="+E];Y==-1?0<E?(Y=H[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Ke=!0;for(let St=0;St<E;St++){let je=H[St].g;const kt=H[St].map;if(je-=Y,0>je)Y=Math.max(0,H[St].g-100),Ke=!1;else try{cc(kt,ae,"req"+je+"_")}catch{I&&I(kt)}}if(Ke){I=ae.join("&");break e}}}return h=h.i.splice(0,E),w.D=h,I}function ki(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;Ie||le(),ie||(Ie(),ie=!0),pe.add(w,h),h.v=0}}function Mo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Kn(x(h.Fa,h),fc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Kn(x(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),tr(this),dc(this))};function _l(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function dc(h){h.g=new Yn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=bn(h.qa);Ge(w,"RID","rpc"),Ge(w,"SID",h.K),Ge(w,"AID",h.T),Ge(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ge(w,"TO",h.ja),Ge(w,"TYPE","xmlhttp"),Gr(h,w),h.m&&h.o&&Is(w,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Ts(bn(w)),E.m=null,E.P=!0,dl(E,h)}t.Za=function(){this.C!=null&&(this.C=null,tr(this),Mo(this),dt(19))};function jo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Fo(h,w){var E=null;if(h.g==w){jo(h),_l(h),h.g=null;var I=2}else if(rn(h.h,w))E=w.D,rc(h.h,w),I=1;else return;if(h.G!=0){if(w.o)if(I==1){E=w.m?w.m.length:0,w=Date.now()-w.F;var H=h.B;I=xi(),Tt(I,new So(I,E)),xr(h)}else ki(h);else if(H=w.s,H==3||H==0&&0<w.X||!(I==1&&yf(h,w)||I==2&&Mo(h)))switch(E&&0<E.length&&(w=h.h,w.i=w.i.concat(E)),H){case 1:Qr(h,5);break;case 4:Qr(h,10);break;case 3:Qr(h,6);break;default:Qr(h,2)}}}function fc(h,w){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*w}function Qr(h,w){if(h.j.info("Error code "+w),w==2){var E=x(h.fb,h),I=h.Xa;const H=!I;I=new Wr(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ai(I,"https"),Ts(I),H?pf(I.toString(),E):uc(I.toString(),E)}else dt(2);h.G=0,h.l&&h.l.sa(w),pc(h),Vo(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function pc(h){if(h.G=0,h.ka=[],h.l){const w=sc(h.h);(w.length!=0||h.i.length!=0)&&(b(h.ka,w),b(h.ka,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.ra()}}function mc(h,w,E){var I=E instanceof Wr?bn(E):new Wr(E);if(I.g!="")w&&(I.g=w+"."+I.g),xs(I,I.s);else{var H=c.location;I=H.protocol,w=w?w+"."+H.hostname:H.hostname,H=+H.port;var Y=new Wr(null);I&&Ai(Y,I),w&&(Y.g=w),H&&xs(Y,H),E&&(Y.l=E),I=Y}return E=h.D,w=h.ya,E&&w&&Ge(I,E,w),Ge(I,"VER",h.la),Gr(h,I),I}function gc(h,w,E){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new nt(new qr({eb:E})):new nt(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xl(){}t=xl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uo(){}Uo.prototype.g=function(h,w){return new sn(h,w)};function sn(h,w){Et.call(this),this.g=new wl(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!B(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!B(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Er(this)}C(sn,Et),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ut(this.g)},sn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=sl(h),h=E);w.i.push(new tc(w.Ya++,h)),w.G==3&&xr(w)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,sn.aa.N.call(this)};function yc(h){gr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const E in w){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}C(yc,gr);function vc(){To.call(this),this.status=1}C(vc,To);function Er(h){this.g=h}C(Er,xl),Er.prototype.ua=function(){Tt(this.g,"a")},Er.prototype.ta=function(h){Tt(this.g,new yc(h))},Er.prototype.sa=function(h){Tt(this.g,new vc)},Er.prototype.ra=function(){Tt(this.g,"b")},Uo.prototype.createWebChannel=Uo.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,NT=function(){return new Uo},kT=function(){return xi()},PT=yr,Dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,Rh=Io,Xu.COMPLETE="complete",RT=Xu,Eo.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Jl=Eo,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,AT=nt}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const Gw="@firebase/firestore",Qw="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Vg("@firebase/firestore");function la(){return ro.logLevel}function ce(t,...e){if(ro.logLevel<=Le.DEBUG){const n=e.map(jg);ro.debug(`Firestore (${ja}): ${t}`,...n)}}function cs(t,...e){if(ro.logLevel<=Le.ERROR){const n=e.map(jg);ro.error(`Firestore (${ja}): ${t}`,...n)}}function ba(t,...e){if(ro.logLevel<=Le.WARN){const n=e.map(jg);ro.warn(`Firestore (${ja}): ${t}`,...n)}}function jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: `+t;throw cs(e),new Error(e)}function qe(t,e){t||Se()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class UP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BP{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ei,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ei)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new DT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Zt(e)}}class zP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $P{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HP{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ur(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Yw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new Yw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=WP(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function Lm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ke(r,i);{const a=LT(),l=qP(a.encode(Xw(t,n)),a.encode(Xw(e,n)));return l!==0?l:ke(r,i)}}n+=r>65535?2:1}return ke(t.length,e.length)}function Xw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function qP(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ke(t[n],e[n]);return ke(t.length,e.length)}function Ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=-62135596800,Zw=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Zw);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jw)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zw}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new At(0,0))}static max(){return new Ce(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ar.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ke(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),i=Ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):Lm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class st extends Ar{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const KP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ar{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return KP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e_}static keyField(){return new Wt([e_])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(st.fromString(e))}static fromName(e){return new xe(st.fromString(e).popFirst(5))}static empty(){return new xe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function GP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new ii(i,xe.empty(),e)}function QP(t){return new ii(t.readTime,t.key,mu)}class ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ii(Ce.min(),xe.empty(),mu)}static max(){return new ii(Ce.max(),xe.empty(),mu)}}function YP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==XP)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&n()},d=>r(d))}),l=!0,a===i&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(i=>i?J.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new J((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next(m=>{l[p]=m,++c,c===a&&r(l)},m=>i(m))}})}static doWhile(e,n){return new J((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function ZP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ua(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=-1;function Pd(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function ek(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="";function tk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=t_(e)),e=nk(t.get(n),e);return t_(e)}function nk(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case OT:n+="";break;default:n+=a}}return n}function t_(t){return t+OT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??$t.RED,this.left=i??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new $t(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,a){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Rt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jT("Invalid base64 string: "+a):a}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const rk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(t){if(qe(!!t),typeof t=="string"){let e=0;const n=rk.exec(t);if(qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ai(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="server_timestamp",UT="__type__",BT="__previous_value__",zT="__local_write_time__";function Ug(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UT])===null||n===void 0?void 0:n.stringValue)===FT}function kd(t){const e=t.mapValue.fields[BT];return Ug(e)?kd(e):e}function gu(t){const e=oi(t.mapValue.fields[zT].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,i,a,l,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p}}const Jh="(default)";class yu{constructor(e,n){this.projectId=e,this.database=n||Jh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="__type__",ik="__max__",mh={mapValue:{}},HT="__vector__",Zh="value";function li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ug(t)?4:ak(t)?9007199254740991:ok(t)?10:11:Se()}function Vr(t,e){if(t===e)return!0;const n=li(t);if(n!==li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gu(t).isEqual(gu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=oi(i.timestampValue),c=oi(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ai(i.bytesValue).isEqual(ai(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return mt(i.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return mt(i.integerValue)===mt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=mt(i.doubleValue),c=mt(a.doubleValue);return l===c?Xh(l)===Xh(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Ia(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(n_(l)!==n_(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Vr(l[d],c[d])))return!1;return!0}(t,e);default:return Se()}}function vu(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function Ca(t,e){if(t===e)return 0;const n=li(t),r=li(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=mt(a.integerValue||a.doubleValue),d=mt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return s_(t.timestampValue,e.timestampValue);case 4:return s_(gu(t),gu(e));case 5:return Lm(t.stringValue,e.stringValue);case 6:return function(a,l){const c=ai(a),d=ai(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=ke(c[p],d[p]);if(m!==0)return m}return ke(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=ke(mt(a.latitude),mt(l.latitude));return c!==0?c:ke(mt(a.longitude),mt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return i_(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,d,p,m;const v=a.fields||{},x=l.fields||{},S=(c=v[Zh])===null||c===void 0?void 0:c.arrayValue,C=(d=x[Zh])===null||d===void 0?void 0:d.arrayValue,P=ke(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((m=C==null?void 0:C.values)===null||m===void 0?void 0:m.length)||0);return P!==0?P:i_(S,C)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===mh.mapValue&&l===mh.mapValue)return 0;if(a===mh.mapValue)return 1;if(l===mh.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const x=Lm(d[v],m[v]);if(x!==0)return x;const S=Ca(c[d[v]],p[m[v]]);if(S!==0)return S}return ke(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Se()}}function s_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=oi(t),r=oi(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function i_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ca(n[i],r[i]);if(a)return a}return ke(n.length,r.length)}function Aa(t){return Vm(t)}function Vm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ai(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Vm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Vm(n.fields[l])}`;return i+"}"}(t.mapValue):Se()}function Ph(t){switch(li(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kd(t);return e?16+Ph(e):16;case 5:return 2*t.stringValue.length;case 6:return ai(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Ph(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return di(r.fields,(a,l)=>{i+=a.length+Ph(l)}),i}(t.mapValue);default:throw Se()}}function Om(t){return!!t&&"integerValue"in t}function Bg(t){return!!t&&"arrayValue"in t}function o_(t){return!!t&&"nullValue"in t}function a_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kh(t){return!!t&&"mapValue"in t}function ok(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$T])===null||n===void 0?void 0:n.stringValue)===HT}function nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ak(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ik}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=nu(l):i.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){di(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new _n(nu(this.value))}}function WT(t){const e=[];return di(t.fields,(n,r)=>{const i=new Wt([n]);if(kh(r)){const a=WT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new en(e,0,Ce.min(),Ce.min(),Ce.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,Ce.min(),Ce.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Ce.min(),Ce.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.position=e,this.inclusive=n}}function l_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=xe.comparator(xe.fromName(l.referenceValue),n.key):r=Ca(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function u_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n="asc"){this.field=e,this.dir=n}}function lk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{}class Ct extends qT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ck(e,n,r):n==="array-contains"?new fk(e,r):n==="in"?new pk(e,r):n==="not-in"?new mk(e,r):n==="array-contains-any"?new gk(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hk(e,r):new dk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ca(n,this.value)):n!==null&&li(this.value)===li(n)&&this.matchesComparison(Ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends qT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Or(e,n)}matches(e){return KT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function KT(t){return t.op==="and"}function GT(t){return uk(t)&&KT(t)}function uk(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function Mm(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Aa(t.value);if(GT(t))return t.filters.map(e=>Mm(e)).join(",");{const e=t.filters.map(n=>Mm(n)).join(",");return`${t.op}(${e})`}}function QT(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Vr(r.value,i.value)}(t,e):t instanceof Or?function(r,i){return i instanceof Or&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&QT(l,i.filters[c]),!0):!1}(t,e):void Se()}function YT(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Aa(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(YT).join(" ,")+"}"}(t):"Filter"}class ck extends Ct{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class hk extends Ct{constructor(e,n){super(e,"in",n),this.keys=XT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dk extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=XT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class fk extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bg(n)&&vu(n.arrayValue,this.value)}}class pk extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class mk extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!vu(this.value.arrayValue,n)}}class gk extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function c_(t,e=null,n=[],r=[],i=null,a=null,l=null){return new yk(t,e,n,r,i,a,l)}function zg(t){const e=Ae(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Aa(r)).join(",")),e.le=n}return e.le}function $g(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!u_(t.startAt,e.startAt)&&u_(t.endAt,e.endAt)}function jm(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vk(t,e,n,r,i,a,l,c){return new Nd(t,e,n,r,i,a,l,c)}function JT(t){return new Nd(t)}function h_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wk(t){return t.collectionGroup!==null}function ru(t){const e=Ae(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Rt(Wt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new td(a,r))}),n.has(Wt.keyField().canonicalString())||e.he.push(new td(Wt.keyField(),r))}return e.he}function Rr(t){const e=Ae(t);return e.Pe||(e.Pe=_k(e,ru(t))),e.Pe}function _k(t,e){if(t.limitType==="F")return c_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new td(i.field,a)});const n=t.endAt?new ed(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ed(t.startAt.position,t.startAt.inclusive):null;return c_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fm(t,e,n){return new Nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dd(t,e){return $g(Rr(t),Rr(e))&&t.limitType===e.limitType}function ZT(t){return`${zg(Rr(t))}|lt:${t.limitType}`}function ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>YT(i)).join(", ")}]`),Pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Aa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Aa(i)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function Ld(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of ru(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const p=l_(l,c,d);return l.inclusive?p<=0:p<0}(r.startAt,ru(r),i)||r.endAt&&!function(l,c,d){const p=l_(l,c,d);return l.inclusive?p>=0:p>0}(r.endAt,ru(r),i))}(t,e)}function xk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function e1(t){return(e,n)=>{let r=!1;for(const i of ru(t)){const a=Ek(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function Ek(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(a,l,c){const d=l.data.field(a),p=c.data.field(a);return d!==null&&p!==null?Ca(d,p):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return MT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new ut(xe.comparator);function hs(){return Tk}const t1=new ut(xe.comparator);function Zl(...t){let e=t1;for(const n of t)e=e.insert(n.key,n);return e}function n1(t){let e=t1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return su()}function r1(){return su()}function su(){return new co(t=>t.toString(),(t,e)=>t.isEqual(e))}const Sk=new ut(xe.comparator),bk=new Rt(xe.comparator);function Ve(...t){let e=bk;for(const n of t)e=e.add(n);return e}const Ik=new Rt(ke);function Ck(){return Ik}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function s1(t){return{integerValue:""+t}}function Ak(t,e){return ek(e)?s1(e):Hg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this._=void 0}}function Rk(t,e,n){return t instanceof nd?function(i,a){const l={fields:{[UT]:{stringValue:FT},[zT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ug(a)&&(a=kd(a)),a&&(l.fields[BT]=a),{mapValue:l}}(n,e):t instanceof wu?o1(t,e):t instanceof _u?a1(t,e):function(i,a){const l=i1(i,a),c=d_(l)+d_(i.Ie);return Om(l)&&Om(i.Ie)?s1(c):Hg(i.serializer,c)}(t,e)}function Pk(t,e,n){return t instanceof wu?o1(t,e):t instanceof _u?a1(t,e):n}function i1(t,e){return t instanceof rd?function(r){return Om(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class nd extends Vd{}class wu extends Vd{constructor(e){super(),this.elements=e}}function o1(t,e){const n=l1(e);for(const r of t.elements)n.some(i=>Vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class _u extends Vd{constructor(e){super(),this.elements=e}}function a1(t,e){let n=l1(e);for(const r of t.elements)n=n.filter(i=>!Vr(i,r));return{arrayValue:{values:n}}}class rd extends Vd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function d_(t){return mt(t.integerValue||t.doubleValue)}function l1(t){return Bg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wu&&i instanceof wu||r instanceof _u&&i instanceof _u?Ia(r.elements,i.elements,Vr):r instanceof rd&&i instanceof rd?Vr(r.Ie,i.Ie):r instanceof nd&&i instanceof nd}(t.transform,e.transform)}class Nk{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Od{}function u1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wg(t.key,hr.none()):new Vu(t.key,t.data,hr.none());{const n=t.data,r=_n.empty();let i=new Rt(Wt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new fi(t.key,r,new kn(i.toArray()),hr.none())}}function Dk(t,e,n){t instanceof Vu?function(i,a,l){const c=i.value.clone(),d=p_(i.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof fi?function(i,a,l){if(!Nh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=p_(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(c1(i)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function iu(t,e,n,r){return t instanceof Vu?function(a,l,c,d){if(!Nh(a.precondition,l))return c;const p=a.value.clone(),m=m_(a.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof fi?function(a,l,c,d){if(!Nh(a.precondition,l))return c;const p=m_(a.fieldTransforms,d,l),m=l.data;return m.setAll(c1(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(a,l,c){return Nh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function Lk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=i1(r.transform,i||null);a!=null&&(n===null&&(n=_n.empty()),n.set(r.field,a))}return n||null}function f_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ia(r,i,(a,l)=>kk(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends Od{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fi extends Od{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function c1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function p_(t,e,n){const r=new Map;qe(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,Pk(l,c,n[i]))}return r}function m_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,Rk(a,l,e))}return r}class Wg extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vk extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Dk(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=r1();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const d=u1(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(n,r)=>f_(n,r))&&Ia(this.baseMutations,e.baseMutations,(n,r)=>f_(n,r))}}class qg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length);let i=function(){return Sk}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new qg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Fe;function Fk(t){switch(t){case re.OK:return Se();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Se()}}function h1(t){if(t===void 0)return cs("GRPC error has no .code"),re.UNKNOWN;switch(t){case wt.OK:return re.OK;case wt.CANCELLED:return re.CANCELLED;case wt.UNKNOWN:return re.UNKNOWN;case wt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case wt.INTERNAL:return re.INTERNAL;case wt.UNAVAILABLE:return re.UNAVAILABLE;case wt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case wt.NOT_FOUND:return re.NOT_FOUND;case wt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case wt.ABORTED:return re.ABORTED;case wt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case wt.DATA_LOSS:return re.DATA_LOSS;default:return Se()}}(Fe=wt||(wt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new Zs([4294967295,4294967295],0);function g_(t){const e=LT().encode(t),n=new CT;return n.update(e),new Uint8Array(n.digest())}function y_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Zs([n,r],0),new Zs([i,a],0)]}class Kg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(r<0)throw new eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Zs.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Zs.fromNumber(r)));return i.compare(Uk)===1&&(i=new Zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=g_(e),[r,i]=y_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Kg(a,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const n=g_(e),[r,i]=y_(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Md(Ce.min(),i,new ut(ke),hs(),Ve())}}class Ou{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ou(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class d1{constructor(e,n){this.targetId=e,this.ge=n}}class f1{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class v_{constructor(){this.pe=0,this.ye=w_(),this.we=Kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),r=Ve();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new Ou(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=w_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Bk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=hs(),this.$e=gh(),this.Ue=gh(),this.Ke=new ut(ke)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const a=i.target;if(jm(a))if(r===0){const l=new xe(a.path);this.ze(n,l,en.newNoDocument(l,Ce.min()))}else qe(r===1);else{const l=this.et(n);if(l!==r){const c=this.tt(e),d=c?this.nt(c,e,l):1;if(d!==0){this.Ye(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=ai(r).toUint8Array()}catch(d){if(d instanceof jT)return ba("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Kg(l,i,a)}catch(d){return ba(d instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,a,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&jm(c.target)){const d=new xe(c.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,en.newNoDocument(d,e))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let r=Ve();this.Ue.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new Md(e,n,this.Ke,this.Qe,r);return this.Qe=hs(),this.$e=gh(),this.Ue=gh(),this.Ke=new ut(ke),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new v_,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rt(ke),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(ke),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new v_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function gh(){return new ut(xe.comparator)}function w_(){return new ut(xe.comparator)}const zk={asc:"ASCENDING",desc:"DESCENDING"},$k={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hk={and:"AND",or:"OR"};class Wk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qk(t,e){return sd(t,e.toTimestamp())}function Pr(t){return qe(!!t),Ce.fromTimestamp(function(n){const r=oi(n);return new At(r.seconds,r.nanos)}(t))}function Gg(t,e){return Bm(t,e).canonicalString()}function Bm(t,e){const n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function m1(t){const e=st.fromString(t);return qe(_1(e)),e}function zm(t,e){return Gg(t.databaseId,e.path)}function em(t,e){const n=m1(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(y1(n))}function g1(t,e){return Gg(t.databaseId,e)}function Kk(t){const e=m1(t);return e.length===4?st.emptyPath():y1(e)}function $m(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function y1(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function __(t,e,n){return{name:zm(t,e),fields:n.value.mapValue.fields}}function Gk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(qe(m===void 0||typeof m=="string"),Kt.fromBase64String(m||"")):(qe(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Kt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?re.UNKNOWN:h1(p.code);return new ye(m,p.message||"")}(l);n=new f1(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=em(t,r.document.name),a=Pr(r.document.updateTime),l=r.document.createTime?Pr(r.document.createTime):Ce.min(),c=new _n({mapValue:{fields:r.document.fields}}),d=en.newFoundDocument(i,a,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];n=new Dh(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=em(t,r.document),a=r.readTime?Pr(r.readTime):Ce.min(),l=en.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Dh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=em(t,r.document),a=r.removedTargetIds||[];n=new Dh([],a,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new jk(i,a),c=r.targetId;n=new d1(c,l)}}return n}function Qk(t,e){let n;if(e instanceof Vu)n={update:__(t,e.key,e.value)};else if(e instanceof Wg)n={delete:zm(t,e.key)};else if(e instanceof fi)n={update:__(t,e.key,e.data),updateMask:sN(e.fieldMask)};else{if(!(e instanceof Vk))return Se();n={verify:zm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof nd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _u)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rd)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:qk(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()}(t,e.precondition)),n}function Yk(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(i,a){let l=i.updateTime?Pr(i.updateTime):Pr(a);return l.isEqual(Ce.min())&&(l=Pr(a)),new Nk(l,i.transformResults||[])}(n,e))):[]}function Xk(t,e){return{documents:[g1(t,e.path)]}}function Jk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=g1(t,i);const a=function(p){if(p.length!==0)return w1(Or.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(m=>function(x){return{field:ca(x.field),direction:tN(x.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Um(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:i}}function Zk(t){let e=Kk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(v){const x=v1(v);return x instanceof Or&&GT(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(x=>function(C){return new td(ha(C.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(x))}(n.orderBy));let c=null;n.limit&&(c=function(v){let x;return x=typeof v=="object"?v.value:v,Pd(x)?null:x}(n.limit));let d=null;n.startAt&&(d=function(v){const x=!!v.before,S=v.values||[];return new ed(S,x)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const x=!v.before,S=v.values||[];return new ed(S,x)}(n.endAt)),vk(e,i,l,a,c,"F",d,p)}function eN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function v1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ha(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ha(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ha(n.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ha(n.unaryFilter.field);return Ct.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(ha(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(r=>v1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function tN(t){return zk[t]}function nN(t){return $k[t]}function rN(t){return Hk[t]}function ca(t){return{fieldPath:t.canonicalString()}}function ha(t){return Wt.fromServerFormat(t.fieldPath)}function w1(t){return t instanceof Ct?function(n){if(n.op==="=="){if(a_(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NAN"}};if(o_(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a_(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NAN"}};if(o_(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(n.field),op:nN(n.op),value:n.value}}}(t):t instanceof Or?function(n){const r=n.getFilters().map(i=>w1(i));return r.length===1?r[0]:{compositeFilter:{op:rN(n.op),filters:r}}}(t):Se()}function sN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r,i,a=Ce.min(),l=Ce.min(),c=Kt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.Tt=e}}function oN(t){const e=Zk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.Tn=new lN}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(ii.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class lN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(st.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x1=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(x1,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ra(0)}static Kn(){return new Ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",uN=1048576;function T_([t,e],[n,r]){const i=ke(t,n);return i===0?ke(e,r):i}class cN{constructor(e){this.Hn=e,this.buffer=new Rt(T_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();T_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hN{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(E_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ua(n)?ce(E_,"Ignoring IndexedDB error during garbage collection: ",n):await Fa(n)}await this.er(3e5)})}}class dN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Rd.ae);const r=new cN(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(x_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,a,l,c,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,n))).next(v=>(a=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),la()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v})))}}function fN(t,e){return new dN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.changes=new co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&iu(r.mutation,i,kn.empty(),At.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Zl();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let a=hs();const l=su(),c=function(){return su()}();return n.forEach((d,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof fi)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),iu(m.mutation,p,m.mutation.getFieldMask(),At.now())):l.set(p.key,kn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,m)=>l.set(p,m)),n.forEach((p,m)=>{var v;return c.set(p,new mN(m,(v=l.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const r=su();let i=new ut((l,c)=>l-c),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let m=r.get(d)||kn.empty();m=c.applyToLocalView(p,m),r.set(d,m);const v=(i.get(c.batchId)||Ve()).add(d);i=i.insert(c.batchId,v)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,v=r1();m.forEach(x=>{if(!a.has(x)){const S=u1(n.get(x),r.get(x));S!==null&&v.set(x,S),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return J.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):J.resolve(Gi());let c=mu,d=a;return l.next(p=>J.forEach(p,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(m)?J.resolve():this.remoteDocumentCache.getEntry(e,m).next(x=>{d=d.insert(m,x)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,Ve())).next(m=>({batchId:c,changes:n1(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=Zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Zl();return this.indexManager.getCollectionParents(e,a).next(c=>J.forEach(c,d=>{const p=function(v,x){return new Nd(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,en.newInvalidDocument(m)))});let c=Zl();return l.forEach((d,p)=>{const m=a.get(d);m!==void 0&&iu(m.mutation,p,kn.empty(),At.now()),Ld(n,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:oN(i.bundledQuery),readTime:Pr(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.overlays=new ut(xe.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return J.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.Et(e,n,a)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),a=n.length+1,l=new xe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ut((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=Gi(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=Gi(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return J.resolve(c)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Mk(n,r));let a=this.Rr.get(n);a===void 0&&(a=Ve(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.Vr=new Rt(Ot.mr),this.gr=new Rt(Ot.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Ot(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new xe(new st([])),r=new Ot(n,e),i=new Ot(n,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new xe(new st([])),r=new Ot(n,e),i=new Ot(n,e+1);let a=Ve();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Ot(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return xe.comparator(e.key,n.key)||ke(e.Cr,n.Cr)}static pr(e,n){return ke(e.Cr,n.Cr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(Ot.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Ok(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new Ot(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),a=i<0?0:i;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Fg:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);a.push(c)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(ke);return n.forEach(i=>{const a=new Ot(i,0),l=new Ot(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),J.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;xe.isDocumentKey(a)||(a=a.child(""));const l=new Ot(new xe(a),0);let c=new Rt(ke);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(d.Cr)),!0)},l),J.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return J.forEach(n.mutations,i=>{const a=new Ot(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Ot(n,0),i=this.Mr.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.kr=e,this.docs=function(){return new ut(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=hs();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():en.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=hs();const l=n.path,c=new xe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||YP(QP(m),r)<=0||(i.has(m.key)||Ld(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Se()}qr(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EN(this)}getSize(e){return J.resolve(this.size)}}class EN extends pN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.persistence=e,this.Qr=new co(n=>zg(n),$g),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Qg,this.targetCount=0,this.Kr=Ra.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ra(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),J.waitFor(a).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Rd(0),this.zr=!1,this.zr=!0,this.jr=new wN,this.referenceDelegate=e(this),this.Hr=new TN(this),this.indexManager=new aN,this.remoteDocumentCache=function(i){return new xN(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new iN(n),this.Yr=new yN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new _N(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new SN(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,n){return J.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class SN extends JP{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.ti=new Qg,this.ni=null}static ri(e){return new Yg(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,r=>{const i=xe.fromPath(r);return this.si(e,i).next(a=>{a||n.removeEntry(i,Ce.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class id{constructor(e,n){this.persistence=e,this.oi=new co(r=>tk(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fN(this,n)}static ri(e,n){return new id(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?J.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Ce.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}ar(e,n,r){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Ve(),i=Ve();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Xg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return wR()?8:ZP(nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new bN;return this._s(e,n,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,n,l,c.size)})}).next(()=>a.result)}us(e,n,r,i){return r.documentReadCount<this.es?(la()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(la()<=Le.DEBUG&&ce("QueryEngine","Query:",ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(la()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):J.resolve())}rs(e,n){if(h_(n))return J.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fm(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ve(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.cs(n,c);return this.ls(n,p,l,d.readTime)?this.rs(e,Fm(n,null,"F")):this.hs(e,p,n,d)}))})))}ss(e,n,r,i){return h_(n)||i.isEqual(Ce.min())?J.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(n,a);return this.ls(n,l,r,i)?J.resolve(null):(la()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ua(n)),this.hs(e,l,n,GP(i,mu)).next(c=>c))})}cs(e,n){let r=new Rt(e1(e));return n.forEach((i,a)=>{Ld(e,a)&&(r=r.add(a))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,n,r){return la()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ua(n)),this.ns.getDocumentsMatchingQuery(e,n,ii.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="LocalStore",CN=3e8;class AN{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new ut(ke),this.Is=new co(a=>zg(a),$g),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function RN(t,e,n,r){return new AN(t,e,n,r)}async function T1(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let d=Ve();for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of a){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function PN(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,d,p,m){const v=p.batch,x=v.keys();let S=J.resolve();return x.forEach(C=>{S=S.next(()=>m.getEntry(d,C)).next(P=>{const b=p.docVersions.get(C);qe(b!==null),P.version.compareTo(b)<0&&(v.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),m.addEntry(P)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=Ve();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function S1(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function kN(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const c=[];e.targetChanges.forEach((m,v)=>{const x=i.get(v);if(!x)return;c.push(n.Hr.removeMatchingKeys(a,m.removedDocuments,v).next(()=>n.Hr.addMatchingKeys(a,m.addedDocuments,v)));let S=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Kt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),i=i.insert(v,S),function(P,b,L){return P.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=CN?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(x,S,m)&&c.push(n.Hr.updateTargetData(a,S))});let d=hs(),p=Ve();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(NN(a,l,e.documentUpdates).next(m=>{d=m.Vs,p=m.fs})),!r.isEqual(Ce.min())){const m=n.Hr.getLastRemoteSnapshotVersion(a).next(v=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return J.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(n.Ts=i,a))}function NN(t,e,n){let r=Ve(),i=Ve();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=hs();return n.forEach((c,d)=>{const p=a.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ce(Jg,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function DN(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Fg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LN(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(a=>a?(i=a,J.resolve(i)):n.Hr.allocateTargetId(r).next(l=>(i=new Qs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Hm(t,e,n){const r=Ae(t),i=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Ua(l))throw l;ce(Jg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function S_(t,e,n){const r=Ae(t);let i=Ce.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const v=Ae(d),x=v.Is.get(m);return x!==void 0?J.resolve(v.Ts.get(x)):v.Hr.getTargetData(p,m)}(r,l,Rr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?i:Ce.min(),n?a:Ve())).next(c=>(VN(r,xk(e),c),{documents:c,gs:a})))}function VN(t,e,n){let r=t.Es.get(e)||Ce.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class b_{constructor(){this.activeTargetIds=Ck()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ON{constructor(){this.ho=new b_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new b_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="ConnectivityMonitor";class C_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(I_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(I_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function Wm(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Jh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,a){const l=Wm(),c=this.bo(e,n.toUriEncodedString());ce(tm,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,a),this.vo(e,c,d,r).then(p=>(ce(tm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw ba(tm,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,n,r,i,a,l){return this.So(e,n,r,i,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ja}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,n){const r=jN[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class BN extends FN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const a=Wm();return new Promise((l,c)=>{const d=new AT;d.setWithCredentials(!0),d.listenOnce(RT.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Rh.NO_ERROR:const m=d.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Rh.TIMEOUT:ce(Jt,`RPC '${e}' ${a} timed out`),c(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const v=d.getStatus();if(ce(Jt,`RPC '${e}' ${a} failed with status:`,v,"response text:",d.getResponseText()),v>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const C=function(b){const L=b.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(L)>=0?L:re.UNKNOWN}(S.status);c(new ye(C,S.message))}else c(new ye(re.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ye(re.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ce(Jt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);ce(Jt,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",p,r,15)})}Wo(e,n,r){const i=Wm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=NT(),c=kT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");ce(Jt,`Creating RPC '${e}' stream ${i}: ${m}`,d);const v=l.createWebChannel(m,d);let x=!1,S=!1;const C=new UN({Fo:b=>{S?ce(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(x||(ce(Jt,`Opening RPC '${e}' stream ${i} transport.`),v.open(),x=!0),ce(Jt,`RPC '${e}' stream ${i} sending:`,b),v.send(b))},Mo:()=>v.close()}),P=(b,L,B)=>{b.listen(L,O=>{try{B(O)}catch(K){setTimeout(()=>{throw K},0)}})};return P(v,Jl.EventType.OPEN,()=>{S||(ce(Jt,`RPC '${e}' stream ${i} transport opened.`),C.Qo())}),P(v,Jl.EventType.CLOSE,()=>{S||(S=!0,ce(Jt,`RPC '${e}' stream ${i} transport closed`),C.Uo())}),P(v,Jl.EventType.ERROR,b=>{S||(S=!0,ba(Jt,`RPC '${e}' stream ${i} transport errored:`,b),C.Uo(new ye(re.UNAVAILABLE,"The operation could not be completed")))}),P(v,Jl.EventType.MESSAGE,b=>{var L;if(!S){const B=b.data[0];qe(!!B);const O=B,K=(O==null?void 0:O.error)||((L=O[0])===null||L===void 0?void 0:L.error);if(K){ce(Jt,`RPC '${e}' stream ${i} received error:`,K);const Q=K.status;let Z=function(k){const M=wt[k];if(M!==void 0)return h1(M)}(Q),N=K.message;Z===void 0&&(Z=re.INTERNAL,N="Unknown error status: "+Q+" with message "+K.message),S=!0,C.Uo(new ye(Z,N)),v.close()}else ce(Jt,`RPC '${e}' stream ${i} received:`,B),C.Ko(B)}}),P(c,PT.STAT_EVENT,b=>{b.stat===Dm.PROXY?ce(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Dm.NOPROXY&&ce(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){return new Wk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="PersistentStream";class I1{constructor(e,n,r,i,a,l,c,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new b1(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new ye(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(A_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ce(A_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zN extends I1{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Gk(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ce.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?Pr(l.readTime):Ce.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=$m(this.serializer),n.addTarget=function(a,l){let c;const d=l.target;if(c=jm(d)?{documents:Xk(a,d)}:{query:Jk(a,d).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=p1(a,l.resumeToken);const p=Um(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ce.min())>0){c.readTime=sd(a,l.snapshotVersion.toTimestamp());const p=Um(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=eN(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.I_(n)}}class $N extends I1{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Yk(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=$m(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Qk(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{}class WN extends HN{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Bm(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(re.UNKNOWN,a.toString())})}Co(e,n,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,Bm(n,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(re.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class qN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(cs(n),this.N_=!1):ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class KN{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{ho(this)&&(ce(so,"Restarting streams for network reachability change."),await async function(d){const p=Ae(d);p.W_.add(4),await Mu(p),p.j_.set("Unknown"),p.W_.delete(4),await Fd(p)}(this))})}),this.j_=new qN(r,i)}}async function Fd(t){if(ho(t))for(const e of t.G_)await e(!0)}async function Mu(t){for(const e of t.G_)await e(!1)}function C1(t,e){const n=Ae(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),ny(n)?ty(n):Ba(n).c_()&&ey(n,e))}function Zg(t,e){const n=Ae(t),r=Ba(n);n.K_.delete(e),r.c_()&&A1(n,e),n.K_.size===0&&(r.c_()?r.P_():ho(n)&&n.j_.set("Unknown"))}function ey(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ba(t).y_(e)}function A1(t,e){t.H_.Ne(e),Ba(t).w_(e)}function ty(t){t.H_=new Bk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ba(t).start(),t.j_.B_()}function ny(t){return ho(t)&&!Ba(t).u_()&&t.K_.size>0}function ho(t){return Ae(t).W_.size===0}function R1(t){t.H_=void 0}async function GN(t){t.j_.set("Online")}async function QN(t){t.K_.forEach((e,n)=>{ey(t,e)})}async function YN(t,e){R1(t),ny(t)?(t.j_.q_(e),ty(t)):t.j_.set("Unknown")}async function XN(t,e,n){if(t.j_.set("Online"),e instanceof f1&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.K_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.K_.delete(c),i.H_.removeTarget(c))}(t,e)}catch(r){ce(so,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await od(t,r)}else if(e instanceof Dh?t.H_.We(e):e instanceof d1?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ce.min()))try{const r=await S1(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.K_.get(p);m&&a.K_.set(p,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const m=a.K_.get(d);if(!m)return;a.K_.set(d,m.withResumeToken(Kt.EMPTY_BYTE_STRING,m.snapshotVersion)),A1(a,d);const v=new Qs(m.target,d,p,m.sequenceNumber);ey(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ce(so,"Failed to raise snapshot:",r),await od(t,r)}}async function od(t,e,n){if(!Ua(e))throw e;t.W_.add(1),await Mu(t),t.j_.set("Offline"),n||(n=()=>S1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce(so,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Fd(t)})}function P1(t,e){return e().catch(n=>od(t,n,e))}async function Ud(t){const e=Ae(t),n=ui(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Fg;for(;JN(e);)try{const i=await DN(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,ZN(e,i)}catch(i){await od(e,i)}k1(e)&&N1(e)}function JN(t){return ho(t)&&t.U_.length<10}function ZN(t,e){t.U_.push(e);const n=ui(t);n.c_()&&n.S_&&n.b_(e.mutations)}function k1(t){return ho(t)&&!ui(t).u_()&&t.U_.length>0}function N1(t){ui(t).start()}async function e4(t){ui(t).C_()}async function t4(t){const e=ui(t);for(const n of t.U_)e.b_(n.mutations)}async function n4(t,e,n){const r=t.U_.shift(),i=qg.from(r,e,n);await P1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ud(t)}async function r4(t,e){e&&ui(t).S_&&await async function(r,i){if(function(l){return Fk(l)&&l!==re.ABORTED}(i.code)){const a=r.U_.shift();ui(r).h_(),await P1(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ud(r)}}(t,e),k1(t)&&N1(t)}async function R_(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ce(so,"RemoteStore received new credentials");const r=ho(n);n.W_.add(3),await Mu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Fd(n)}async function s4(t,e){const n=Ae(t);e?(n.W_.delete(2),await Fd(n)):e||(n.W_.add(2),await Mu(n),n.j_.set("Unknown"))}function Ba(t){return t.J_||(t.J_=function(n,r,i){const a=Ae(n);return a.M_(),new zN(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:GN.bind(null,t),No:QN.bind(null,t),Lo:YN.bind(null,t),p_:XN.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),ny(t)?ty(t):t.j_.set("Unknown")):(await t.J_.stop(),R1(t))})),t.J_}function ui(t){return t.Y_||(t.Y_=function(n,r,i){const a=Ae(n);return a.M_(),new $N(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:e4.bind(null,t),Lo:r4.bind(null,t),D_:t4.bind(null,t),v_:n4.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Ud(t)):(await t.Y_.stop(),t.U_.length>0&&(ce(so,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new ry(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sy(t,e){if(cs("AsyncQueue",`${e}: ${t}`),Ua(t))return new ye(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{static emptySet(e){return new wa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.Z_=new ut(xe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pa{constructor(e,n,r,i,a,l,c,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Pa(e,n,wa.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class o4{constructor(){this.queries=k_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Ae(n),a=i.queries;i.queries=k_(),a.forEach((l,c)=>{for(const d of c.ta)d.onError(r)})})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function k_(){return new co(t=>ZT(t),Dd)}async function a4(t,e){const n=Ae(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new i4,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=sy(l,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&iy(n)}async function l4(t,e){const n=Ae(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u4(t,e){const n=Ae(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&iy(n)}function c4(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(e)}function iy(t){t.ia.forEach(e=>{e.next()})}var qm,N_;(N_=qm||(qm={}))._a="default",N_.Cache="cache";class h4{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.key=e}}class L1{constructor(e){this.key=e}}class d4{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=e1(e),this.wa=new wa(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new P_,i=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const x=i.get(m),S=Ld(this.query,v)?v:null,C=!!x&&this.mutatedKeys.has(x.key),P=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let b=!1;x&&S?x.data.isEqual(S.data)?C!==P&&(r.track({type:3,doc:S}),b=!0):this.va(x,S)||(r.track({type:2,doc:S}),b=!0,(d&&this.ya(S,d)>0||p&&this.ya(S,p)<0)&&(c=!0)):!x&&S?(r.track({type:0,doc:S}),b=!0):x&&!S&&(r.track({type:1,doc:x}),b=!0,(d||p)&&(c=!0)),b&&(S?(l=l.add(S),a=P?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,v)=>function(S,C){const P=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return P(S)-P(C)}(m.type,v.type)||this.ya(m.doc,v.doc)),this.Ca(r),i=i!=null&&i;const c=n&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,p=d!==this.ga;return this.ga=d,l.length!==0||p?{snapshot:new Pa(this.query,e.wa,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new P_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new L1(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new D1(r))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Pa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const oy="SyncEngine";class f4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class p4{constructor(e){this.key=e,this.Ba=!1}}class m4{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new co(c=>ZT(c),Dd),this.qa=new Map,this.Qa=new Set,this.$a=new ut(xe.comparator),this.Ua=new Map,this.Ka=new Qg,this.Wa={},this.Ga=new Map,this.za=Ra.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function g4(t,e,n=!0){const r=U1(t);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await V1(r,e,n,!0),i}async function y4(t,e){const n=U1(t);await V1(n,e,!0,!1)}async function V1(t,e,n,r){const i=await LN(t.localStore,Rr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await v4(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&C1(t.remoteStore,i),c}async function v4(t,e,n,r,i){t.Ha=(v,x,S)=>async function(P,b,L,B){let O=b.view.ba(L);O.ls&&(O=await S_(P.localStore,b.query,!1).then(({documents:N})=>b.view.ba(N,O)));const K=B&&B.targetChanges.get(b.targetId),Q=B&&B.targetMismatches.get(b.targetId)!=null,Z=b.view.applyChanges(O,P.isPrimaryClient,K,Q);return L_(P,b.targetId,Z.Ma),Z.snapshot}(t,v,x,S);const a=await S_(t.localStore,e,!0),l=new d4(e,a.gs),c=l.ba(a.documents),d=Ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(c,t.isPrimaryClient,d);L_(t,n,p.Ma);const m=new f4(e,n,l);return t.ka.set(e,m),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function w4(t,e,n){const r=Ae(t),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!Dd(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zg(r.remoteStore,i.targetId),Km(r,i.targetId)}).catch(Fa)):(Km(r,i.targetId),await Hm(r.localStore,i.targetId,!0))}async function _4(t,e){const n=Ae(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zg(n.remoteStore,r.targetId))}async function x4(t,e,n){const r=A4(t);try{const i=await function(l,c){const d=Ae(l),p=At.now(),m=c.reduce((S,C)=>S.add(C.key),Ve());let v,x;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let C=hs(),P=Ve();return d.ds.getEntries(S,m).next(b=>{C=b,C.forEach((L,B)=>{B.isValidDocument()||(P=P.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,C)).next(b=>{v=b;const L=[];for(const B of c){const O=Lk(B,v.get(B.key).overlayedDocument);O!=null&&L.push(new fi(B.key,O,WT(O.value.mapValue),hr.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,L,c)}).next(b=>{x=b;const L=b.applyToLocalDocumentSet(v,P);return d.documentOverlayCache.saveOverlays(S,b.batchId,L)})}).then(()=>({batchId:x.batchId,changes:n1(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let p=l.Wa[l.currentUser.toKey()];p||(p=new ut(ke)),p=p.insert(c,d),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,n),await ju(r,i.changes),await Ud(r.remoteStore)}catch(i){const a=sy(i,"Failed to persist write");n.reject(a)}}async function O1(t,e){const n=Ae(t);try{const r=await kN(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.Ua.get(a);l&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?qe(l.Ba):i.removedDocuments.size>0&&(qe(l.Ba),l.Ba=!1))}),await ju(n,r,e)}catch(r){await Fa(r)}}function D_(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=Ae(l);d.onlineState=c;let p=!1;d.queries.forEach((m,v)=>{for(const x of v.ta)x.sa(c)&&(p=!0)}),p&&iy(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E4(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),a=i&&i.key;if(a){let l=new ut(xe.comparator);l=l.insert(a,en.newNoDocument(a,Ce.min()));const c=Ve().add(a),d=new Md(Ce.min(),new Map,new ut(ke),l,c);await O1(r,d),r.$a=r.$a.remove(a),r.Ua.delete(e),ay(r)}else await Hm(r.localStore,e,!1).then(()=>Km(r,e,n)).catch(Fa)}async function T4(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await PN(n.localStore,e);j1(n,r,null),M1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ju(n,i)}catch(i){await Fa(i)}}async function S4(t,e,n){const r=Ae(t);try{const i=await function(l,c){const d=Ae(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next(v=>(qe(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(r.localStore,e);j1(r,e,n),M1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ju(r,i)}catch(i){await Fa(i)}}function M1(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function j1(t,e,n){const r=Ae(t);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Km(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||F1(t,r)})}function F1(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Zg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),ay(t))}function L_(t,e,n){for(const r of n)r instanceof D1?(t.Ka.addReference(r.key,e),b4(t,r)):r instanceof L1?(ce(oy,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||F1(t,r.key)):Se()}function b4(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ce(oy,"New document in limbo: "+n),t.Qa.add(r),ay(t))}function ay(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new xe(st.fromString(e)),r=t.za.next();t.Ua.set(r,new p4(n)),t.$a=t.$a.insert(n,r),C1(t.remoteStore,new Qs(Rr(JT(n.path)),r,"TargetPurposeLimboResolution",Rd.ae))}}async function ju(t,e,n){const r=Ae(t),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,d)=>{l.push(r.Ha(d,e,n).then(p=>{var m;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=Xg.Yi(d.targetId,p);a.push(v)}}))}),await Promise.all(l),r.La.p_(i),await async function(d,p){const m=Ae(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>J.forEach(p,x=>J.forEach(x.Hi,S=>m.persistence.referenceDelegate.addReference(v,x.targetId,S)).next(()=>J.forEach(x.Ji,S=>m.persistence.referenceDelegate.removeReference(v,x.targetId,S)))))}catch(v){if(!Ua(v))throw v;ce(Jg,"Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const S=m.Ts.get(x),C=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(C);m.Ts=m.Ts.insert(x,P)}}}(r.localStore,a))}async function I4(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ce(oy,"User change. New user:",e.toKey());const r=await T1(n.localStore,e);n.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(d=>{d.reject(new ye(re.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(n,r.Rs)}}function C4(t,e){const n=Ae(t),r=n.Ua.get(e);if(r&&r.Ba)return Ve().add(r.key);{let i=Ve();const a=n.qa.get(e);if(!a)return i;for(const l of a){const c=n.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function U1(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=O1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E4.bind(null,e),e.La.p_=u4.bind(null,e.eventManager),e.La.Ja=c4.bind(null,e.eventManager),e}function A4(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S4.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return RN(this.persistence,new IN,e.initialUser,this.serializer)}Xa(e){return new E1(Yg.ri,this.serializer)}Za(e){return new ON}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class R4 extends ad{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){qe(this.persistence.referenceDelegate instanceof id);const r=this.persistence.referenceDelegate.garbageCollector;return new hN(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new E1(r=>id.ri(r,n),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I4.bind(null,this.syncEngine),await s4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o4}()}createDatastore(e){const n=jd(e.databaseInfo.databaseId),r=function(a){return new BN(a)}(e.databaseInfo);return function(a,l,c,d){return new WN(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,c){return new KN(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>D_(this.syncEngine,n,0),function(){return C_.D()?new C_:new MN}())}createSyncEngine(e,n){return function(i,a,l,c,d,p,m){const v=new m4(i,a,l,c,d,p);return m&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Ae(i);ce(so,"RemoteStore shutting down."),a.W_.add(5),await Mu(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="FirestoreClient";class k4{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=VT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ce(ci,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ce(ci,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rm(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ci,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await T1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function V_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N4(t);ce(ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>R_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>R_(e.remoteStore,i)),t._onlineComponents=e}async function N4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ci,"Using user provided OfflineComponentProvider");try{await rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ba("Error using user provided cache. Falling back to memory cache: "+n),await rm(t,new ad)}}else ce(ci,"Using default OfflineComponentProvider"),await rm(t,new R4(void 0));return t._offlineComponents}async function B1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ci,"Using user provided OnlineComponentProvider"),await V_(t,t._uninitializedComponentsProvider._online)):(ce(ci,"Using default OnlineComponentProvider"),await V_(t,new Gm))),t._onlineComponents}function D4(t){return B1(t).then(e=>e.syncEngine)}async function L4(t){const e=await B1(t),n=e.eventManager;return n.onListen=g4.bind(null,e.syncEngine),n.onUnlisten=w4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_4.bind(null,e.syncEngine),n}function V4(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,p){const m=new P4({next:x=>{m.su(),l.enqueueAndForget(()=>l4(a,v)),x.fromCache&&d.source==="server"?p.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new h4(c,m,{includeMetadataChanges:!0,Ta:!0});return a4(a,v)}(await L4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t,e,n){if(!n)throw new ye(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O4(t,e,n,r){if(e===!0&&r===!0)throw new ye(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M_(t){if(!xe.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j_(t){if(xe.isDocumentKey(t))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ly(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function io(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ly(t);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firestore.googleapis.com",F_=!0;class U_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H1,this.ssl=F_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:F_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uN)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FP;switch(r.type){case"firstParty":return new $P(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=O_.get(n);r&&(ce("ComponentProvider","Removing Datastore"),O_.delete(n),r.terminate())}(this),Promise.resolve()}}function M4(t,e,n,r={}){var i;const a=(t=io(t,Bd))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a.host!==H1&&a.host!==c&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!to(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Zt.MOCK_USER;else{p=dR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Zt(v)}t._authCredentials=new UP(new DT(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zd(this.firestore,e,this._query)}}class qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class ti extends zd{constructor(e,n,r){super(e,n,JT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new xe(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function Fr(t,e,...n){if(t=qt(t),$1("collection","path",e),t instanceof Bd){const r=st.fromString(e,...n);return j_(r),new ti(t,null,r)}{if(!(t instanceof qn||t instanceof ti))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return j_(r),new ti(t.firestore,null,r)}}function za(t,e,...n){if(t=qt(t),arguments.length===1&&(e=VT.newId()),$1("doc","path",e),t instanceof Bd){const r=st.fromString(e,...n);return M_(r),new qn(t,null,new xe(r))}{if(!(t instanceof qn||t instanceof ti))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return M_(r),new qn(t.firestore,t instanceof ti?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new b1(this,"async_queue_retry"),this.Su=()=>{const r=nm();r&&ce(B_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ei;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ua(e))throw e;ce(B_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw cs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=ry.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Fu extends Bd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new z_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function j4(t,e){const n=typeof t=="object"?t:ST(),r=typeof t=="string"?t:Jh,i=Mg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=cR("firestore");a&&M4(i,...a)}return i}function W1(t){if(t._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||F4(t),t._firestoreClient}function F4(t){var e,n,r;const i=t._freezeSettings(),a=function(c,d,p,m){return new sk(c,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,z1(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new k4(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ka(Kt.fromBase64String(e))}catch(n){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ka(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=/^__.*__$/;class B4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class q1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function K1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class dy{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ld(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(K1(this.Lu)&&U4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class z4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jd(e)}ju(e,n,r,i=!1){return new dy({Lu:e,methodName:n,zu:r,path:Wt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G1(t){const e=t._freezeSettings(),n=jd(t._databaseId);return new z4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $4(t,e,n,r,i,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,n,i);fy("Data must be an object, but it was:",l,r);const c=Q1(r,l);let d,p;if(a.merge)d=new kn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const v of a.mergeFields){const x=Qm(e,v,n);if(!l.contains(x))throw new ye(re.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);X1(m,x)||m.push(x)}d=new kn(m),p=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=l.fieldTransforms;return new B4(new _n(c),d,p)}class Hd extends uy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hd}}function H4(t,e,n,r){const i=t.ju(1,e,n);fy("Data must be an object, but it was:",i,r);const a=[],l=_n.empty();di(r,(d,p)=>{const m=py(e,d,n);p=qt(p);const v=i.Uu(m);if(p instanceof Hd)a.push(m);else{const x=Wd(p,v);x!=null&&(a.push(m),l.set(m,x))}});const c=new kn(a);return new q1(l,c,i.fieldTransforms)}function W4(t,e,n,r,i,a){const l=t.ju(1,e,n),c=[Qm(e,r,n)],d=[i];if(a.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)c.push(Qm(e,a[x])),d.push(a[x+1]);const p=[],m=_n.empty();for(let x=c.length-1;x>=0;--x)if(!X1(p,c[x])){const S=c[x];let C=d[x];C=qt(C);const P=l.Uu(S);if(C instanceof Hd)p.push(S);else{const b=Wd(C,P);b!=null&&(p.push(S),m.set(S,b))}}const v=new kn(p);return new q1(m,v,l.fieldTransforms)}function Wd(t,e){if(Y1(t=qt(t)))return fy("Unsupported field value:",e,t),Q1(t,e);if(t instanceof uy)return function(r,i){if(!K1(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let d=Wd(c,i.Ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ak(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=At.fromDate(r);return{timestampValue:sd(i.serializer,a)}}if(r instanceof At){const a=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sd(i.serializer,a)}}if(r instanceof cy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ka)return{bytesValue:p1(i.serializer,r._byteString)};if(r instanceof qn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hy)return function(l,c){return{mapValue:{fields:{[$T]:{stringValue:HT},[Zh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return Hg(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${ly(r)}`)}(t,e)}function Q1(t,e){const n={};return MT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,i)=>{const a=Wd(i,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function Y1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof cy||t instanceof ka||t instanceof qn||t instanceof uy||t instanceof hy)}function fy(t,e,n){if(!Y1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ly(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Qm(t,e,n){if((e=qt(e))instanceof $d)return e._internalPath;if(typeof e=="string")return py(t,e);throw ld("Field path arguments must be of type string or ",t,!1,void 0,n)}const q4=new RegExp("[~\\*/\\[\\]]");function py(t,e,n){if(e.search(q4)>=0)throw ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $d(...e.split("."))._internalPath}catch{throw ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ld(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ye(re.INVALID_ARGUMENT,c+t+d)}function X1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Z1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K4 extends J1{data(){return super.data()}}function Z1(t,e){return typeof e=="string"?py(t,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q4{convertValue(e,n="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return di(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Zh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>mt(l.doubleValue));return new hy(a)}convertGeoPoint(e){return new cy(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const n=oi(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);qe(_1(r));const i=new yu(r.get(1),r.get(3)),a=new xe(r.popFirst(5));return i.isEqual(n)||cs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class X4 extends J1{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Z1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lh extends X4{data(e={}){return super.data(e)}}class J4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lh(this._firestore,this._userDataWriter,r.key,r,new vh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Lh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Lh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new vh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:Z4(c.type),doc:d,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class eD extends Q4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function fo(t){t=io(t,zd);const e=io(t.firestore,Fu),n=W1(e),r=new eD(e);return G4(t._query),V4(n,t._query).then(i=>new J4(e,r,t,i))}function qd(t,e,n,...r){t=io(t,qn);const i=io(t.firestore,Fu),a=G1(i);let l;return l=typeof(e=qt(e))=="string"||e instanceof $d?W4(a,"updateDoc",t._key,e,n,r):H4(a,"updateDoc",t._key,e),gy(i,[l.toMutation(t._key,hr.exists(!0))])}function tD(t){return gy(io(t.firestore,Fu),[new Wg(t._key,hr.none())])}function my(t,e){const n=io(t.firestore,Fu),r=za(t),i=Y4(t.converter,e);return gy(n,[$4(G1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}function gy(t,e){return function(r,i){const a=new ei;return r.asyncQueue.enqueueAndForget(async()=>x4(await D4(r),i,a)),a.promise}(W1(t),e)}(function(e,n=!0){(function(i){ja=i})(Ma),Sa(new no("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Fu(new BP(r.getProvider("auth-internal")),new HP(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(p.options.projectId,m)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Js(Gw,Qw,e),Js(Gw,Qw,"esm2017")})();function yy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nD=eS,tS=new Du("auth","Firebase",eS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Vg("@firebase/auth");function rD(t,...e){ud.logLevel<=Le.WARN&&ud.warn(`Auth (${Ma}): ${t}`,...e)}function Vh(t,...e){ud.logLevel<=Le.ERROR&&ud.error(`Auth (${Ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw vy(t,...e)}function kr(t,...e){return vy(t,...e)}function nS(t,e,n){const r=Object.assign(Object.assign({},nD()),{[e]:n});return new Du("auth","Firebase",r).create(e,{appName:t.name})}function ni(t){return nS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tS.create(t,...e)}function Ee(t,e,...n){if(!t)throw vy(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vh(e),new Error(e)}function ds(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sD(){return $_()==="http:"||$_()==="https:"}function $_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sD()||gR()||"connection"in navigator)?navigator.onLine:!0}function oD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=fR()||yR()}get(){return iD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new Uu(3e4,6e4);function po(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pi(t,e,n,r,i={}){return sS(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Lu(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},a);return mR()||(p.referrerPolicy="no-referrer"),rS.fetch()(iS(t,t.config.apiHost,n,c),p)})}async function sS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aD),e);try{const i=new cD(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw wh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw wh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw wh(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw nS(t,m,p);fr(t,m)}}catch(i){if(i instanceof gs)throw i;fr(t,"network-request-failed",{message:String(i)})}}async function Kd(t,e,n,r,i={}){const a=await pi(t,e,n,r,i);return"mfaPendingCredential"in a&&fr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function iS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?wy(t.config,i):`${t.config.apiScheme}://${i}`}function uD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),lD.get())})}}function wh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kr(t,e,r);return i.customData._tokenResponse=n,i}function H_(t){return t!==void 0&&t.enterprise!==void 0}class hD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dD(t,e){return pi(t,"GET","/v2/recaptchaConfig",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e){return pi(t,"POST","/v1/accounts:delete",e)}async function oS(t,e){return pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pD(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=_y(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:ou(sm(i.auth_time)),issuedAtTime:ou(sm(i.iat)),expirationTime:ou(sm(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function sm(t){return Number(t)*1e3}function _y(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const i=yT(n);return i?JSON.parse(i):(Vh("Failed to decode base64 JWT payload"),null)}catch(i){return Vh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function W_(t){const e=_y(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gs&&mD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xu(t,oS(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?aS(a.providerUserInfo):[],c=vD(t.providerData,l),d=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Xm(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function yD(t){const e=qt(t);await cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aS(t){return t.map(e=>{var{providerId:n}=e,r=yy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e){const n=await sS(t,{},async()=>{const r=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=iS(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",rS.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _D(t,e){return pi(t,"POST","/v2/accounts:revokeToken",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=W_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await wD(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new _a;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ee(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _a,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class is{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await xu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pD(this,e)}reload(){return yD(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new is(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await xu(this,fD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,c,d,p,m;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(i=n.email)!==null&&i!==void 0?i:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,C=(l=n.photoURL)!==null&&l!==void 0?l:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,b=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,L=(p=n.createdAt)!==null&&p!==void 0?p:void 0,B=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:O,emailVerified:K,isAnonymous:Q,providerData:Z,stsTokenManager:N}=n;Ee(O&&N,e,"internal-error");const A=_a.fromJSON(this.name,N);Ee(typeof O=="string",e,"internal-error"),zs(v,e.name),zs(x,e.name),Ee(typeof K=="boolean",e,"internal-error"),Ee(typeof Q=="boolean",e,"internal-error"),zs(S,e.name),zs(C,e.name),zs(P,e.name),zs(b,e.name),zs(L,e.name),zs(B,e.name);const k=new is({uid:O,auth:e,email:x,emailVerified:K,displayName:v,isAnonymous:Q,photoURL:C,phoneNumber:S,tenantId:P,stsTokenManager:A,createdAt:L,lastLoginAt:B});return Z&&Array.isArray(Z)&&(k.providerData=Z.map(M=>Object.assign({},M))),b&&(k._redirectEventId=b),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new _a;i.updateFromServerResponse(n);const a=new is({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?aS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new _a;c.updateFromIdToken(r);const d=new is({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Xm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function os(t){ds(t instanceof Function,"Expected a class definition");let e=q_.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lS.type="NONE";const K_=lS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t,e,n){return`firebase:${t}:${e}:${n}`}class xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Oh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Oh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?is._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xa(os(K_),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||os(K_);const l=Oh(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=await p._get(l);if(m){const v=is._fromJSON(e,m);p!==a&&(c=v),a=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new xa(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new xa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pS(e))return"Blackberry";if(mS(e))return"Webos";if(cS(e))return"Safari";if((e.includes("chrome/")||hS(e))&&!e.includes("edge/"))return"Chrome";if(fS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uS(t=nn()){return/firefox\//i.test(t)}function cS(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hS(t=nn()){return/crios\//i.test(t)}function dS(t=nn()){return/iemobile/i.test(t)}function fS(t=nn()){return/android/i.test(t)}function pS(t=nn()){return/blackberry/i.test(t)}function mS(t=nn()){return/webos/i.test(t)}function xy(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xD(t=nn()){var e;return xy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ED(){return vR()&&document.documentMode===10}function gS(t=nn()){return xy(t)||fS(t)||mS(t)||pS(t)||/windows phone/i.test(t)||dS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e=[]){let n;switch(t){case"Browser":n=G_(nn());break;case"Worker":n=`${G_(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e={}){return pi(t,"GET","/v2/passwordPolicy",po(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=6;class ID{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:bD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new TD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oS(this,{idToken:e}),r=await is._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(ni(this));const n=e?qt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SD(this),n=new ID(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _D(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&os(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $a(t){return qt(t)}class Q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=IR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AD(t){Gd=t}function vS(t){return Gd.loadJS(t)}function RD(){return Gd.recaptchaEnterpriseScript}function PD(){return Gd.gapiScript}function kD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ND{constructor(){this.enterprise=new DD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class DD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const LD="recaptcha-enterprise",wS="NO_RECAPTCHA";class VD{constructor(e){this.type=LD,this.auth=$a(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{dD(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new hD(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function i(a,l,c){const d=window.grecaptcha;H_(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(wS)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ND().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&H_(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=RD();d.length!==0&&(d+=c),vS(d).then(()=>{i(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function Y_(t,e,n,r=!1,i=!1){const a=new VD(t);let l;if(i)l=wS;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function X_(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Y_(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Y_(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e){const n=Mg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(to(a,e??{}))return i;fr(i,"already-initialized")}return n.initialize({options:e})}function MD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(os);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jD(t,e,n){const r=$a(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=_S(e),{host:l,port:c}=FD(e),d=c===null?"":`:${c}`,p={url:`${a}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(to(p,r.config.emulator)&&to(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,UD()}function _S(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FD(t){const e=_S(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:J_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:J_(l)}}}function J_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function BD(t,e){return pi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(t,e){return Kd(t,"POST","/v1/accounts:signInWithPassword",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}async function HD(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Ey{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,n,"signInWithPassword",zD);case"emailLink":return $D(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X_(e,r,"signUpPassword",BD);case"emailLink":return HD(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t,e){return Kd(t,"POST","/v1/accounts:signInWithIdp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="http://localhost";class oo extends Ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=yy(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new oo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ea(e,n)}buildRequest(){const e={requestUri:WD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KD(t){const e=Yl(Xl(t)).link,n=e?Yl(Xl(e)).deep_link_id:null,r=Yl(Xl(t)).deep_link_id;return(r?Yl(Xl(r)).link:null)||r||n||e||t}class Ty{constructor(e){var n,r,i,a,l,c;const d=Yl(Xl(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,v=qD((i=d.mode)!==null&&i!==void 0?i:null);Ee(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=KD(e);try{return new Ty(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,n){return Eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ty.parseLink(n);return Ee(r,"argument-error"),Eu._fromEmailAndCode(e,r.code,r.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends xS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Bu{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Bu{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Bu{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gs.credential(n,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await is._fromIdTokenResponse(e,r,i),l=Z_(r);return new Na({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Z_(r);return new Na({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Z_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends gs{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hd(e,n,r,i)}}function ES(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(t,a,e,r):a})}async function GD(t,e,n=!1){const r=await xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Na._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(ni(r));const i="reauthenticate";try{const a=await xu(t,ES(r,i,e,t),n);Ee(a.idToken,r,"internal-error");const l=_y(a.idToken);Ee(l,r,"internal-error");const{sub:c}=l;return Ee(t.uid===c,r,"user-mismatch"),Na._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TS(t,e,n=!1){if(ur(t.app))return Promise.reject(ni(t));const r="signIn",i=await ES(t,r,e),a=await Na._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function YD(t,e){return TS($a(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(t){const e=$a(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function JD(t,e,n){return ur(t.app)?Promise.reject(ni(t)):YD(qt(t),Ha.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XD(t),r})}function ZD(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function eL(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function tL(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function nL(t){return qt(t).signOut()}const dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1e3,sL=10;class bS extends SS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);ED()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bS.type="LOCAL";const iL=bS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS extends SS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IS.type="SESSION";const CS=IS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(n.origin,a)),d=await oL(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const p=Sy("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(x.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function lL(t){Nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function uL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hL(){return AS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebaseLocalStorageDb",dL=1,fd="firebaseLocalStorage",PS="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yd(t,e){return t.transaction([fd],e?"readwrite":"readonly").objectStore(fd)}function fL(){const t=indexedDB.deleteDatabase(RS);return new zu(t).toPromise()}function Jm(){const t=indexedDB.open(RS,dL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fd,{keyPath:PS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fd)?e(r):(r.close(),await fL(),e(await Jm()))})})}async function ex(t,e,n){const r=Yd(t,!0).put({[PS]:e,value:n});return new zu(r).toPromise()}async function pL(t,e){const n=Yd(t,!1).get(e),r=await new zu(n).toPromise();return r===void 0?null:r.value}function tx(t,e){const n=Yd(t,!0).delete(e);return new zu(n).toPromise()}const mL=800,gL=3;class kS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(hL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uL(),!this.activeServiceWorker)return;this.sender=new aL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await ex(e,dd,"1"),await tx(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ex(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Yd(i,!1).getAll();return new zu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kS.type="LOCAL";const yL=kS;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t,e){return e?os(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by extends Ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wL(t){return TS(t.auth,new by(t),t.bypassAuthState)}function _L(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),QD(n,new by(t),t.bypassAuthState)}async function xL(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),GD(n,new by(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wL;case"linkViaPopup":case"linkViaRedirect":return xL;case"reauthViaPopup":case"reauthViaRedirect":return _L;default:fr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=new Uu(2e3,1e4);class da extends NS{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EL.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="pendingRedirect",Mh=new Map;class SL extends NS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const r=await bL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bL(t,e){const n=AL(e),r=CL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function IL(t,e){Mh.set(t._key(),e)}function CL(t){return os(t._redirectPersistence)}function AL(t){return Oh(TL,t.config.apiKey,t.name)}async function RL(t,e,n=!1){if(ur(t.app))return Promise.reject(ni(t));const r=$a(t),i=vL(r,e),l=await new SL(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=600*1e3;class kL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PL&&this.cachedEventUids.clear(),this.cachedEventUids.has(nx(e))}saveEventToCache(e){this.cachedEventUids.add(nx(e)),this.lastProcessedEventTime=Date.now()}}function nx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e={}){return pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VL=/^https?/;async function OL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DL(t);for(const n of e)try{if(ML(n))return}catch{}fr(t,"unauthorized-domain")}function ML(t){const e=Ym(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!VL.test(n))return!1;if(LL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new Uu(3e4,6e4);function rx(){const t=Nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FL(t){return new Promise((e,n)=>{var r,i,a;function l(){rx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rx(),n(kr(t,"network-request-failed"))},timeout:jL.get()})}if(!((i=(r=Nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Nr().gapi)===null||a===void 0)&&a.load)l();else{const c=kD("iframefcb");return Nr()[c]=()=>{gapi.load?l():n(kr(t,"network-request-failed"))},vS(`${PD()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw jh=null,e})}let jh=null;function UL(t){return jh=jh||FL(t),jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new Uu(5e3,15e3),zL="__/auth/iframe",$L="emulator/auth/iframe",HL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qL(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wy(e,$L):`https://${t.config.authDomain}/${zL}`,r={apiKey:e.apiKey,appName:t.name,v:Ma},i=WL.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Lu(r).slice(1)}`}async function KL(t){const e=await UL(t),n=Nr().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:qL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HL,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=kr(t,"network-request-failed"),c=Nr().setTimeout(()=>{a(l)},BL.get());function d(){Nr().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QL=500,YL=600,XL="_blank",JL="http://localhost";class sx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZL(t,e,n,r=QL,i=YL){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},GL),{width:r.toString(),height:i.toString(),top:a,left:l}),p=nn().toLowerCase();n&&(c=hS(p)?XL:n),uS(p)&&(e=e||JL,d.scrollbars="yes");const m=Object.entries(d).reduce((x,[S,C])=>`${x}${S}=${C},`,"");if(xD(p)&&c!=="_self")return eV(e||"",c),new sx(null);const v=window.open(e||"",c,m);Ee(v,t,"popup-blocked");try{v.focus()}catch{}return new sx(v)}function eV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="__/auth/handler",nV="emulator/auth/handler",rV=encodeURIComponent("fac");async function ix(t,e,n,r,i,a){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ma,eventId:i};if(e instanceof xS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",bR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof Bu){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),p=d?`#${rV}=${encodeURIComponent(d)}`:"";return`${sV(t)}?${Lu(c).slice(1)}${p}`}function sV({config:t}){return t.emulator?wy(t,nV):`https://${t.authDomain}/${tV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class iV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CS,this._completeRedirectFn=RL,this._overrideRedirectResult=IL}async _openPopup(e,n,r,i){var a;ds((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await ix(e,n,r,Ym(),i);return ZL(e,l,Sy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await ix(e,n,r,Ym(),i);return lL(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ds(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KL(e),r=new kL(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(im,{type:im},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[im];l!==void 0&&n(!!l),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gS()||cS()||xy()}}const oV=iV;var ox="@firebase/auth",ax="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uV(t){Sa(new no("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ee(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(t)},p=new CD(r,i,a,d);return MD(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sa(new no("auth-internal",e=>{const n=$a(e.getProvider("auth").getImmediate());return(r=>new aV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(ox,ax,lV(t)),Js(ox,ax,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=300,hV=_T("authIdTokenMaxAge")||cV;let lx=null;const dV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hV)return;const i=n==null?void 0:n.token;lx!==i&&(lx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fV(t=ST()){const e=Mg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OD(t,{popupRedirectResolver:oV,persistence:[yL,iL,CS]}),r=_T("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=dV(a.toString());eL(n,l,()=>l(n.currentUser)),ZD(n,c=>l(c))}}const i=vT("auth");return i&&jD(n,`http://${i}`),n}function pV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=kr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",pV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uV("Browser");const mV={apiKey:"AIzaSyAcNbE3xaJX-I_Pr8vhc5c4vZ55WCrXUDI",authDomain:"shiv-portfolio-47ce9.firebaseapp.com",projectId:"shiv-portfolio-47ce9",storageBucket:"shiv-portfolio-47ce9.firebasestorage.app",messagingSenderId:"255250938014",appId:"1:255250938014:web:9ffd8e25847e604d2c638f",measurementId:"G-641WB6JY66"},LS=TT(mV),Xd=fV(LS),cn=j4(LS),Iy=R.createContext({});function Wa(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Cy=typeof window<"u",Jd=Cy?R.useLayoutEffect:R.useEffect,Zd=R.createContext(null);function Ay(t,e){t.indexOf(e)===-1&&t.push(e)}function Ry(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Mr=(t,e,n)=>n>e?e:n<t?t:n;let Tu=()=>{};const fs={},VS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function OS(t){return typeof t=="object"&&t!==null}const MS=t=>/^0[^.\s]+$/u.test(t);function Py(t){let e;return()=>(e===void 0&&(e=t()),e)}const En=t=>t,gV=(t,e)=>n=>e(t(n)),$u=(...t)=>t.reduce(gV),Da=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ky{constructor(){this.subscriptions=[]}add(e){return Ay(this.subscriptions,e),()=>Ry(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dr=t=>t*1e3,Wn=t=>t/1e3;function Ny(t,e){return e?t*(1e3/e):0}const jS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yV=1e-7,vV=12;function wV(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=jS(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>yV&&++c<vV);return l}function Hu(t,e,n,r){if(t===e&&n===r)return En;const i=a=>wV(a,0,1,t,n);return a=>a===0||a===1?a:jS(i(a),e,r)}const FS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,US=t=>e=>1-t(1-e),BS=Hu(.33,1.53,.69,.99),Dy=US(BS),zS=FS(Dy),$S=t=>(t*=2)<1?.5*Dy(t):.5*(2-Math.pow(2,-10*(t-1))),Ly=t=>1-Math.sin(Math.acos(t)),HS=US(Ly),WS=FS(Ly),_V=Hu(.42,0,1,1),xV=Hu(0,0,.58,1),qS=Hu(.42,0,.58,1),EV=t=>Array.isArray(t)&&typeof t[0]!="number",KS=t=>Array.isArray(t)&&typeof t[0]=="number",TV={linear:En,easeIn:_V,easeInOut:qS,easeOut:xV,circIn:Ly,circInOut:WS,circOut:HS,backIn:Dy,backInOut:zS,backOut:BS,anticipate:$S},SV=t=>typeof t=="string",ux=t=>{if(KS(t)){Tu(t.length===4);const[e,n,r,i]=t;return Hu(e,n,r,i)}else if(SV(t))return TV[t];return t},_h=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bV(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(p.schedule(m),t()),m(c)}const p={schedule:(m,v=!1,x=!1)=>{const C=x&&i?n:r;return v&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,p.process(m))}};return p}const IV=40;function GS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=_h.reduce((O,K)=>(O[K]=bV(a),O),{}),{setup:c,read:d,resolveKeyframes:p,preUpdate:m,update:v,preRender:x,render:S,postRender:C}=l,P=()=>{const O=fs.useManualTiming?i.timestamp:performance.now();n=!1,fs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(O-i.timestamp,IV),1)),i.timestamp=O,i.isProcessing=!0,c.process(i),d.process(i),p.process(i),m.process(i),v.process(i),x.process(i),S.process(i),C.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(P))},b=()=>{n=!0,r=!0,i.isProcessing||t(P)};return{schedule:_h.reduce((O,K)=>{const Q=l[K];return O[K]=(Z,N=!1,A=!1)=>(n||b(),Q.schedule(Z,N,A)),O},{}),cancel:O=>{for(let K=0;K<_h.length;K++)l[_h[K]].cancel(O)},state:i,steps:l}}const{schedule:We,cancel:pr,state:Vt,steps:om}=GS(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0);let Fh;function CV(){Fh=void 0}const xn={now:()=>(Fh===void 0&&xn.set(Vt.isProcessing||fs.useManualTiming?Vt.timestamp:performance.now()),Fh),set:t=>{Fh=t,queueMicrotask(CV)}},QS=t=>e=>typeof e=="string"&&e.startsWith(t),Vy=QS("--"),AV=QS("var(--"),Oy=t=>AV(t)?RV.test(t.split("/*")[0].trim()):!1,RV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Su={...qa,transform:t=>Mr(0,1,t)},xh={...qa,default:1},au=t=>Math.round(t*1e5)/1e5,My=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PV(t){return t==null}const kV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jy=(t,e)=>n=>!!(typeof n=="string"&&kV.test(n)&&n.startsWith(t)||e&&!PV(n)&&Object.prototype.hasOwnProperty.call(n,e)),YS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(My);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},NV=t=>Mr(0,255,t),am={...qa,transform:t=>Math.round(NV(t))},Qi={test:jy("rgb","red"),parse:YS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+am.transform(t)+", "+am.transform(e)+", "+am.transform(n)+", "+au(Su.transform(r))+")"};function DV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Zm={test:jy("#"),parse:DV,transform:Qi.transform},Wu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$s=Wu("deg"),Lr=Wu("%"),Te=Wu("px"),LV=Wu("vh"),VV=Wu("vw"),cx={...Lr,parse:t=>Lr.parse(t)/100,transform:t=>Lr.transform(t*100)},fa={test:jy("hsl","hue"),parse:YS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Lr.transform(au(e))+", "+Lr.transform(au(n))+", "+au(Su.transform(r))+")"},_t={test:t=>Qi.test(t)||Zm.test(t)||fa.test(t),parse:t=>Qi.test(t)?Qi.parse(t):fa.test(t)?fa.parse(t):Zm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qi.transform(t):fa.transform(t),getAnimatableNone:t=>{const e=_t.parse(t);return e.alpha=0,_t.transform(e)}},OV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(My))==null?void 0:e.length)||0)+(((n=t.match(OV))==null?void 0:n.length)||0)>0}const XS="number",JS="color",jV="var",FV="var(",hx="${}",UV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(UV,d=>(_t.test(d)?(r.color.push(a),i.push(JS),n.push(_t.parse(d))):d.startsWith(FV)?(r.var.push(a),i.push(jV),n.push(d)):(r.number.push(a),i.push(XS),n.push(parseFloat(d))),++a,hx)).split(hx);return{values:n,split:c,indexes:r,types:i}}function ZS(t){return bu(t).values}function eb(t){const{split:e,types:n}=bu(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===XS?a+=au(i[l]):c===JS?a+=_t.transform(i[l]):a+=i[l]}return a}}const BV=t=>typeof t=="number"?0:_t.test(t)?_t.getAnimatableNone(t):t;function zV(t){const e=ZS(t);return eb(t)(e.map(BV))}const hi={test:MV,parse:ZS,createTransformer:eb,getAnimatableNone:zV};function lm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $V({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=lm(d,c,t+1/3),a=lm(d,c,t),l=lm(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function pd(t,e){return n=>n>0?e:t}const at=(t,e,n)=>t+(e-t)*n,um=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},HV=[Zm,Qi,fa],WV=t=>HV.find(e=>e.test(t));function dx(t){const e=WV(t);if(!e)return!1;let n=e.parse(t);return e===fa&&(n=$V(n)),n}const fx=(t,e)=>{const n=dx(t),r=dx(e);if(!n||!r)return pd(t,e);const i={...n};return a=>(i.red=um(n.red,r.red,a),i.green=um(n.green,r.green,a),i.blue=um(n.blue,r.blue,a),i.alpha=at(n.alpha,r.alpha,a),Qi.transform(i))},eg=new Set(["none","hidden"]);function qV(t,e){return eg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function KV(t,e){return n=>at(t,e,n)}function Fy(t){return typeof t=="number"?KV:typeof t=="string"?Oy(t)?pd:_t.test(t)?fx:YV:Array.isArray(t)?tb:typeof t=="object"?_t.test(t)?fx:GV:pd}function tb(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>Fy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function GV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Fy(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function QV(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],c=t.values[l]??0;n[i]=c,r[a]++}return n}const YV=(t,e)=>{const n=hi.createTransformer(e),r=bu(t),i=bu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?eg.has(t)&&!i.values.length||eg.has(e)&&!r.values.length?qV(t,e):$u(tb(QV(r,i),i.values),n):pd(t,e)};function nb(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?at(t,e,n):Fy(t)(t,e)}const XV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>We.update(e,n),stop:()=>pr(e),now:()=>Vt.isProcessing?Vt.timestamp:xn.now()}},rb=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},md=2e4;function Uy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<md;)e+=n,r=t.next(e);return e>=md?1/0:e}function JV(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Uy(r),md);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Wn(i)}}const ZV=5;function sb(t,e,n){const r=Math.max(e-ZV,0);return Ny(n-t(r),e-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cm=.001;function eO({duration:t=ht.duration,bounce:e=ht.bounce,velocity:n=ht.velocity,mass:r=ht.mass}){let i,a,l=1-e;l=Mr(ht.minDamping,ht.maxDamping,l),t=Mr(ht.minDuration,ht.maxDuration,Wn(t)),l<1?(i=p=>{const m=p*l,v=m*t,x=m-n,S=tg(p,l),C=Math.exp(-v);return cm-x/S*C},a=p=>{const v=p*l*t,x=v*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,C=Math.exp(-v),P=tg(Math.pow(p,2),l);return(-i(p)+cm>0?-1:1)*((x-S)*C)/P}):(i=p=>{const m=Math.exp(-p*t),v=(p-n)*t+1;return-cm+m*v},a=p=>{const m=Math.exp(-p*t),v=(n-p)*(t*t);return m*v});const c=5/t,d=nO(i,a,c);if(t=Dr(t),isNaN(d))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const tO=12;function nO(t,e,n){let r=n;for(let i=1;i<tO;i++)r=r-t(r)/e(r);return r}function tg(t,e){return t*Math.sqrt(1-e*e)}const rO=["duration","bounce"],sO=["stiffness","damping","mass"];function px(t,e){return e.some(n=>t[n]!==void 0)}function iO(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!px(t,sO)&&px(t,rO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Mr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ht.mass,stiffness:i,damping:a}}else{const n=eO(t);e={...e,...n,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function gd(t=ht.visualDuration,e=ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:p,mass:m,duration:v,velocity:x,isResolvedFromDuration:S}=iO({...n,velocity:-Wn(n.velocity||0)}),C=x||0,P=p/(2*Math.sqrt(d*m)),b=l-a,L=Wn(Math.sqrt(d/m)),B=Math.abs(b)<5;r||(r=B?ht.restSpeed.granular:ht.restSpeed.default),i||(i=B?ht.restDelta.granular:ht.restDelta.default);let O;if(P<1){const Q=tg(L,P);O=Z=>{const N=Math.exp(-P*L*Z);return l-N*((C+P*L*b)/Q*Math.sin(Q*Z)+b*Math.cos(Q*Z))}}else if(P===1)O=Q=>l-Math.exp(-L*Q)*(b+(C+L*b)*Q);else{const Q=L*Math.sqrt(P*P-1);O=Z=>{const N=Math.exp(-P*L*Z),A=Math.min(Q*Z,300);return l-N*((C+P*L*b)*Math.sinh(A)+Q*b*Math.cosh(A))/Q}}const K={calculatedDuration:S&&v||null,next:Q=>{const Z=O(Q);if(S)c.done=Q>=v;else{let N=Q===0?C:0;P<1&&(N=Q===0?Dr(C):sb(O,Q,Z));const A=Math.abs(N)<=r,k=Math.abs(l-Z)<=i;c.done=A&&k}return c.value=c.done?l:Z,c},toString:()=>{const Q=Math.min(Uy(K),md),Z=rb(N=>K.next(Q*N).value,Q,30);return Q+"ms "+Z},toTransition:()=>{}};return K}gd.applyToOptions=t=>{const e=JV(t,100,gd);return t.ease=e.ease,t.duration=Dr(e.duration),t.type="keyframes",t};function ng({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:m}){const v=t[0],x={done:!1,value:v},S=A=>c!==void 0&&A<c||d!==void 0&&A>d,C=A=>c===void 0?d:d===void 0||Math.abs(c-A)<Math.abs(d-A)?c:d;let P=n*e;const b=v+P,L=l===void 0?b:l(b);L!==b&&(P=L-v);const B=A=>-P*Math.exp(-A/r),O=A=>L+B(A),K=A=>{const k=B(A),M=O(A);x.done=Math.abs(k)<=p,x.value=x.done?L:M};let Q,Z;const N=A=>{S(x.value)&&(Q=A,Z=gd({keyframes:[x.value,C(x.value)],velocity:sb(O,A,x.value),damping:i,stiffness:a,restDelta:p,restSpeed:m}))};return N(0),{calculatedDuration:null,next:A=>{let k=!1;return!Z&&Q===void 0&&(k=!0,K(A),N(A)),Q!==void 0&&A>=Q?Z.next(A-Q):(!k&&K(A),x)}}}function oO(t,e,n){const r=[],i=n||fs.mix||nb,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||En:e;c=$u(d,c)}r.push(c)}return r}function By(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Tu(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=oO(e,r,i),d=c.length,p=m=>{if(l&&m<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const x=Da(t[v],t[v+1],m);return c[v](x)};return n?m=>p(Mr(t[0],t[a-1],m)):p}function aO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Da(0,e,r);t.push(at(n,1,i))}}function ib(t){const e=[0];return aO(e,t.length-1),e}function lO(t,e){return t.map(n=>n*e)}function uO(t,e){return t.map(()=>e||qS).splice(0,t.length-1)}function lu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=EV(r)?r.map(ux):ux(r),a={done:!1,value:e[0]},l=lO(n&&n.length===e.length?n:ib(e),t),c=By(l,e,{ease:Array.isArray(i)?i:uO(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const cO=t=>t!==null;function zy(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(cO),c=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const hO={decay:ng,inertia:ng,tween:lu,keyframes:lu,spring:gd};function ob(t){typeof t.type=="string"&&(t.type=hO[t.type])}class $y{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const dO=t=>t/100;class ef extends $y{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ob(e);const{type:n=lu,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const d=n||lu;d!==lu&&typeof c[0]!="number"&&(this.mixKeyframes=$u(dO,nb(c[0],c[1])),c=[0,100]);const p=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Uy(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:m,repeat:v,repeatType:x,repeatDelay:S,type:C,onUpdate:P,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?L<0:L>i;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let O=this.currentTime,K=r;if(v){const A=Math.min(this.currentTime,i)/c;let k=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&k--,k=Math.min(k,v+1),!!(k%2)&&(x==="reverse"?(M=1-M,S&&(M-=S/c)):x==="mirror"&&(K=l)),O=Mr(0,1,M)*c}const Q=B?{done:!1,value:m[0]}:K.next(O);a&&(Q.value=a(Q.value));let{done:Z}=Q;!B&&d!==null&&(Z=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return N&&C!==ng&&(Q.value=zy(m,this.options,b,this.speed)),P&&P(Q.value),N&&this.finish(),Q}then(e,n){return this.finished.then(e,n)}get duration(){return Wn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(this.currentTime)}set time(e){var n;e=Dr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wn(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=XV,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function fO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Yi=t=>t*180/Math.PI,rg=t=>{const e=Yi(Math.atan2(t[1],t[0]));return sg(e)},pO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rg,rotateZ:rg,skewX:t=>Yi(Math.atan(t[1])),skewY:t=>Yi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sg=t=>(t=t%360,t<0&&(t+=360),t),mx=rg,gx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),yx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gx,scaleY:yx,scale:t=>(gx(t)+yx(t))/2,rotateX:t=>sg(Yi(Math.atan2(t[6],t[5]))),rotateY:t=>sg(Yi(Math.atan2(-t[2],t[0]))),rotateZ:mx,rotate:mx,skewX:t=>Yi(Math.atan(t[4])),skewY:t=>Yi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ig(t){return t.includes("scale")?1:0}function og(t,e){if(!t||t==="none")return ig(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=mO,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=pO,i=c}if(!i)return ig(e);const a=r[e],l=i[1].split(",").map(yO);return typeof a=="function"?a(l):l[a]}const gO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return og(n,e)};function yO(t){return parseFloat(t.trim())}const Ka=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ga=new Set(Ka),vx=t=>t===qa||t===Te,vO=new Set(["x","y","z"]),wO=Ka.filter(t=>!vO.has(t));function _O(t){const e=[];return wO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ji={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>og(e,"x"),y:(t,{transform:e})=>og(e,"y")};Ji.translateX=Ji.x;Ji.translateY=Ji.y;const Zi=new Set;let ag=!1,lg=!1,ug=!1;function ab(){if(lg){const t=Array.from(Zi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=_O(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))==null||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lg=!1,ag=!1,Zi.forEach(t=>t.complete(ug)),Zi.clear()}function lb(){Zi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lg=!0)})}function xO(){ug=!0,lb(),ab(),ug=!1}class Hy{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Zi.add(this),ag||(ag=!0,We.read(lb),We.resolveKeyframes(ab))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}fO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Zi.delete(this)}cancel(){this.state==="scheduled"&&(Zi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EO=t=>t.startsWith("--");function TO(t,e,n){EO(e)?t.style.setProperty(e,n):t.style[e]=n}const ub=Py(()=>window.ScrollTimeline!==void 0),SO={};function bO(t,e){const n=Py(t);return()=>SO[e]??n()}const cb=bO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,wx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tu([0,.65,.55,1]),circOut:tu([.55,0,1,.45]),backIn:tu([.31,.01,.66,-.59]),backOut:tu([.33,1.53,.69,.99])};function hb(t,e){if(t)return typeof t=="function"?cb()?rb(t,e):"ease-out":KS(t)?tu(t):Array.isArray(t)?t.map(n=>hb(n,e)||wx.easeOut):wx[t]}function IO(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:d}={},p=void 0){const m={[e]:n};d&&(m.offset=d);const v=hb(c,i);Array.isArray(v)&&(m.easing=v);const x={delay:r,duration:i,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(m,x)}function db(t){return typeof t=="function"&&"applyToOptions"in t}function CO({type:t,...e}){return db(t)&&cb()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class AO extends $y{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Tu(typeof e.type!="string");const p=CO(e);this.animation=IO(n,r,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=zy(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):TO(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Wn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Dr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&ub()?(this.animation.timeline=e,En):n(this)}}const fb={anticipate:$S,backInOut:zS,circInOut:WS};function RO(t){return t in fb}function PO(t){typeof t.ease=="string"&&RO(t.ease)&&(t.ease=fb[t.ease])}const _x=10;class kO extends AO{constructor(e){PO(e),ob(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new ef({...l,autoplay:!1}),d=Dr(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-_x).value,c.sample(d).value,_x),c.stop()}}const xx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hi.test(t)||t==="0")&&!t.startsWith("url("));function NO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function DO(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=xx(i,e),c=xx(a,e);return!l||!c?!1:NO(t)||(n==="spring"||db(n))&&r}function cg(t){t.duration=0,t.type="keyframes"}const LO=new Set(["opacity","clipPath","filter","transform"]),VO=Py(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OO(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return VO()&&n&&LO.has(n)&&(n!=="transform"||!p)&&!d&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const MO=40;class jO extends $y{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:d,motionValue:p,element:m,...v}){var C;super(),this.stop=()=>{var P,b;this._animation&&(this._animation.stop(),(P=this.stopTimeline)==null||P.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=xn.now();const x={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:d,motionValue:p,element:m,...v},S=(m==null?void 0:m.KeyframeResolver)||Hy;this.keyframeResolver=new S(c,(P,b,L)=>this.onKeyframesResolved(P,b,x,!L),d,p,m),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:d,isHandoff:p,onUpdate:m}=r;this.resolvedAt=xn.now(),DO(e,a,l,c)||((fs.instantAnimations||!d)&&(m==null||m(zy(e,r,n))),e[0]=e[e.length-1],cg(r),r.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>MO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!p&&OO(x)?new kO({...x,element:x.motionValue.owner.current}):new ef(x);S.finished.then(()=>this.notifyFinished()).catch(En),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),xO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const FO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UO(t){const e=FO.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function pb(t,e,n=1){const[r,i]=UO(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return VS(l)?parseFloat(l):l}return Oy(i)?pb(i,e,n+1):i}function Wy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const mb=new Set(["width","height","top","left","right","bottom",...Ka]),BO={test:t=>t==="auto",parse:t=>t},gb=t=>e=>e.test(t),yb=[qa,Te,Lr,$s,VV,LV,BO],Ex=t=>yb.find(gb(t));function zO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||MS(t):!0}const $O=new Set(["brightness","contrast","saturate","opacity"]);function HO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(My)||[];if(!r)return t;const i=n.replace(r,"");let a=$O.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const WO=/\b([a-z-]*)\(.*?\)/gu,hg={...hi,getAnimatableNone:t=>{const e=t.match(WO);return e?e.map(HO).join(" "):t}},Tx={...qa,transform:Math.round},qO={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:xh,scaleX:xh,scaleY:xh,scaleZ:xh,skew:$s,skewX:$s,skewY:$s,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Su,originX:cx,originY:cx,originZ:Te},qy={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...qO,zIndex:Tx,fillOpacity:Su,strokeOpacity:Su,numOctaves:Tx},KO={...qy,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:hg,WebkitFilter:hg},vb=t=>KO[t];function wb(t,e){let n=vb(t);return n!==hg&&(n=hi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GO=new Set(["auto","none","0"]);function QO(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!GO.has(a)&&bu(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=wb(n,i)}class YO extends Hy{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Oy(p))){const m=pb(p,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!mb.has(r)||e.length!==2)return;const[i,a]=e,l=Ex(i),c=Ex(a);if(l!==c)if(vx(l)&&vx(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Ji[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||zO(e[i]))&&r.push(i);r.length&&QO(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ji[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Ji[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function _b(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const xb=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Ky(t){return OS(t)&&"offsetHeight"in t}const Sx=30,XO=t=>!isNaN(parseFloat(t)),uu={current:void 0};class JO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=xn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ky);const r=this.events[e].add(n);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return uu.current&&uu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Sx);return Ny(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cr(t,e){return new JO(t,e)}const{schedule:Gy}=GS(queueMicrotask,!1),lr={x:!1,y:!1};function Eb(){return lr.x||lr.y}function ZO(t){return t==="x"||t==="y"?lr[t]?null:(lr[t]=!0,()=>{lr[t]=!1}):lr.x||lr.y?null:(lr.x=lr.y=!0,()=>{lr.x=lr.y=!1})}function Tb(t,e){const n=_b(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function bx(t){return!(t.pointerType==="touch"||Eb())}function e3(t,e,n={}){const[r,i,a]=Tb(t,n),l=c=>{if(!bx(c))return;const{target:d}=c,p=e(d,c);if(typeof p!="function"||!d)return;const m=v=>{bx(v)&&(p(v),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const Sb=(t,e)=>e?t===e?!0:Sb(t,e.parentElement):!1,Qy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,t3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function n3(t){return t3.has(t.tagName)||t.tabIndex!==-1}const Uh=new WeakSet;function Ix(t){return e=>{e.key==="Enter"&&t(e)}}function hm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const r3=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Ix(()=>{if(Uh.has(n))return;hm(n,"down");const i=Ix(()=>{hm(n,"up")}),a=()=>hm(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Cx(t){return Qy(t)&&!Eb()}function s3(t,e,n={}){const[r,i,a]=Tb(t,n),l=c=>{const d=c.currentTarget;if(!Cx(c))return;Uh.add(d);const p=e(d,c),m=(S,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),Uh.has(d)&&Uh.delete(d),Cx(S)&&typeof p=="function"&&p(S,{success:C})},v=S=>{m(S,d===window||d===document||n.useGlobalTarget||Sb(d,S.target))},x=S=>{m(S,!1)};window.addEventListener("pointerup",v,i),window.addEventListener("pointercancel",x,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),Ky(c)&&(c.addEventListener("focus",p=>r3(p,i)),!n3(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function Yy(t){return OS(t)&&"ownerSVGElement"in t}const Bh=new WeakMap;let Hs;const bb=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:Yy(r)&&"getBBox"in r?r.getBBox()[e]:r[n],i3=bb("inline","width","offsetWidth"),o3=bb("block","height","offsetHeight");function a3({target:t,borderBoxSize:e}){var n;(n=Bh.get(t))==null||n.forEach(r=>{r(t,{get width(){return i3(t,e)},get height(){return o3(t,e)}})})}function l3(t){t.forEach(a3)}function u3(){typeof ResizeObserver>"u"||(Hs=new ResizeObserver(l3))}function c3(t,e){Hs||u3();const n=_b(t);return n.forEach(r=>{let i=Bh.get(r);i||(i=new Set,Bh.set(r,i)),i.add(e),Hs==null||Hs.observe(r)}),()=>{n.forEach(r=>{const i=Bh.get(r);i==null||i.delete(e),i!=null&&i.size||Hs==null||Hs.unobserve(r)})}}const zh=new Set;let pa;function h3(){pa=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};zh.forEach(e=>e(t))},window.addEventListener("resize",pa)}function d3(t){return zh.add(t),pa||h3(),()=>{zh.delete(t),!zh.size&&typeof pa=="function"&&(window.removeEventListener("resize",pa),pa=void 0)}}function f3(t,e){return typeof t=="function"?d3(t):c3(t,e)}function Ib(t,e){let n;const r=()=>{const{currentTime:i}=e,l=(i===null?0:i.value)/100;n!==l&&t(l),n=l};return We.preUpdate(r,!0),()=>pr(r)}function p3(t){return Yy(t)&&t.tagName==="svg"}function m3(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],l=t[3+n],c=By(i,a,l);return e?c(r):c}const Mt=t=>!!(t&&t.getVelocity);function g3(t,e,n){const r=t.get();let i=null,a=r,l;const c=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,d=()=>{i&&(i.stop(),i=null)},p=()=>{d(),i=new ef({keyframes:[Rx(t.get()),Rx(a)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:l})};if(t.attach((m,v)=>{a=m,l=x=>v(Ax(x,c)),We.postRender(p)},d),Mt(e)){const m=e.on("change",x=>t.set(Ax(x,c))),v=t.on("destroy",m);return()=>{m(),v()}}return d}function Ax(t,e){return e?t+e:t}function Rx(t){return typeof t=="number"?t:parseFloat(t)}const y3=[...yb,_t,hi],v3=t=>y3.find(gb(t)),qu=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Px(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function w3(...t){return e=>{let n=!1;const r=t.map(i=>{const a=Px(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Px(t[i],null)}}}}function _3(...t){return R.useCallback(w3(...t),t)}class x3 extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Ky(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function E3({children:t,isPresent:e,anchorX:n,root:r}){const i=R.useId(),a=R.useRef(null),l=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=R.useContext(qu),d=_3(a,t==null?void 0:t.ref);return R.useInsertionEffect(()=>{const{width:p,height:m,top:v,left:x,right:S}=l.current;if(e||!a.current||!p||!m)return;const C=n==="left"?`left: ${x}`:`right: ${S}`;a.current.dataset.motionPopId=i;const P=document.createElement("style");c&&(P.nonce=c);const b=r??document.head;return b.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{b.contains(P)&&b.removeChild(P)}},[e]),y.jsx(x3,{isPresent:e,childRef:a,sizeRef:l,children:R.cloneElement(t,{ref:d})})}const T3=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:c,root:d})=>{const p=Wa(S3),m=R.useId();let v=!0,x=R.useMemo(()=>(v=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:S=>{p.set(S,!0);for(const C of p.values())if(!C)return;r&&r()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,r]);return a&&v&&(x={...x}),R.useMemo(()=>{p.forEach((S,C)=>p.set(C,!1))},[n]),R.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=y.jsx(E3,{isPresent:n,anchorX:c,root:d,children:t})),y.jsx(Zd.Provider,{value:x,children:t})};function S3(){return new Map}function Cb(t=!0){const e=R.useContext(Zd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=R.useId();R.useEffect(()=>{if(t)return i(a)},[t]);const l=R.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Eh=t=>t.key||"";function kx(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const ao=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[p,m]=Cb(l),v=R.useMemo(()=>kx(t),[t]),x=l&&!p?[]:v.map(Eh),S=R.useRef(!0),C=R.useRef(v),P=Wa(()=>new Map),[b,L]=R.useState(v),[B,O]=R.useState(v);Jd(()=>{S.current=!1,C.current=v;for(let Z=0;Z<B.length;Z++){const N=Eh(B[Z]);x.includes(N)?P.delete(N):P.get(N)!==!0&&P.set(N,!1)}},[B,x.length,x.join("-")]);const K=[];if(v!==b){let Z=[...v];for(let N=0;N<B.length;N++){const A=B[N],k=Eh(A);x.includes(k)||(Z.splice(N,0,A),K.push(A))}return a==="wait"&&K.length&&(Z=K),O(kx(Z)),L(v),null}const{forceRender:Q}=R.useContext(Iy);return y.jsx(y.Fragment,{children:B.map(Z=>{const N=Eh(Z),A=l&&!p?!1:v===B||x.includes(N),k=()=>{if(P.has(N))P.set(N,!0);else return;let M=!0;P.forEach(F=>{F||(M=!1)}),M&&(Q==null||Q(),O(C.current),l&&(m==null||m()),r&&r())};return y.jsx(T3,{isPresent:A,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:A?void 0:k,anchorX:c,children:Z},N)})})},Ab=R.createContext({strict:!1}),Nx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},La={};for(const t in Nx)La[t]={isEnabled:e=>Nx[t].some(n=>!!e[n])};function b3(t){for(const e in t)La[e]={...La[e],...t[e]}}const I3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||I3.has(t)}let Rb=t=>!yd(t);function C3(t){typeof t=="function"&&(Rb=e=>e.startsWith("on")?!yd(e):t(e))}try{C3(require("@emotion/is-prop-valid").default)}catch{}function A3(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Rb(i)||n===!0&&yd(i)||!e&&!yd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const tf=R.createContext({});function nf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Iu(t){return typeof t=="string"||Array.isArray(t)}const Xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jy=["initial",...Xy];function rf(t){return nf(t.animate)||Jy.some(e=>Iu(t[e]))}function Pb(t){return!!(rf(t)||t.variants)}function R3(t,e){if(rf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Iu(n)?n:void 0,animate:Iu(r)?r:void 0}}return t.inherit!==!1?e:{}}function P3(t){const{initial:e,animate:n}=R3(t,R.useContext(tf));return R.useMemo(()=>({initial:e,animate:n}),[Dx(e),Dx(n)])}function Dx(t){return Array.isArray(t)?t.join(" "):t}const Cu={};function k3(t){for(const e in t)Cu[e]=t[e],Vy(e)&&(Cu[e].isCSSVariable=!0)}function kb(t,{layout:e,layoutId:n}){return Ga.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cu[t]||t==="opacity")}const N3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D3=Ka.length;function L3(t,e,n){let r="",i=!0;for(let a=0;a<D3;a++){const l=Ka[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const p=xb(c,qy[l]);if(!d){i=!1;const m=N3[l]||l;r+=`${m}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Zy(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const p=e[d];if(Ga.has(d)){l=!0;continue}else if(Vy(d)){i[d]=p;continue}else{const m=xb(p,qy[d]);d.startsWith("origin")?(c=!0,a[d]=m):r[d]=m}}if(e.transform||(l||n?r.transform=L3(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nb(t,e,n){for(const r in e)!Mt(e[r])&&!kb(r,n)&&(t[r]=e[r])}function V3({transformTemplate:t},e){return R.useMemo(()=>{const n=ev();return Zy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function O3(t,e){const n=t.style||{},r={};return Nb(r,n,t),Object.assign(r,V3(t,e)),r}function M3(t,e){const n={},r=O3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const j3={offset:"stroke-dashoffset",array:"stroke-dasharray"},F3={offset:"strokeDashoffset",array:"strokeDasharray"};function U3(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?j3:F3;t[a.offset]=Te.transform(-r);const l=Te.transform(e),c=Te.transform(n);t[a.array]=`${l} ${c}`}function Db(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,p,m){if(Zy(t,c,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x}=t;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),i!==void 0&&U3(v,i,a,l,!1)}const Lb=()=>({...ev(),attrs:{}}),Vb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function B3(t,e,n,r){const i=R.useMemo(()=>{const a=Lb();return Db(a,e,Vb(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Nb(a,t.style,t),i.style={...a,...i.style}}return i}const z3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(t){return typeof t!="string"||t.includes("-")?!1:!!(z3.indexOf(t)>-1||/[A-Z]/u.test(t))}function $3(t,e,n,{latestValues:r},i,a=!1){const c=(tv(t)?B3:M3)(e,r,i,t),d=A3(e,typeof t=="string",a),p=t!==R.Fragment?{...d,...c,ref:n}:{},{children:m}=e,v=R.useMemo(()=>Mt(m)?m.get():m,[m]);return R.createElement(t,{...p,children:v})}function Lx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function nv(t,e,n,r){if(typeof e=="function"){const[i,a]=Lx(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Lx(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function $h(t){return Mt(t)?t.get():t}function H3({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:W3(n,r,i,t),renderState:e()}}function W3(t,e,n,r){const i={},a=r(t,{});for(const x in a)i[x]=$h(a[x]);let{initial:l,animate:c}=t;const d=rf(t),p=Pb(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const v=m?c:l;if(v&&typeof v!="boolean"&&!nf(v)){const x=Array.isArray(v)?v:[v];for(let S=0;S<x.length;S++){const C=nv(t,x[S]);if(C){const{transitionEnd:P,transition:b,...L}=C;for(const B in L){let O=L[B];if(Array.isArray(O)){const K=m?O.length-1:0;O=O[K]}O!==null&&(i[B]=O)}for(const B in P)i[B]=P[B]}}}return i}const Ob=t=>(e,n)=>{const r=R.useContext(tf),i=R.useContext(Zd),a=()=>H3(t,e,r,i);return n?a():Wa(a)};function rv(t,e,n){var a;const{style:r}=t,i={};for(const l in r)(Mt(r[l])||e.style&&Mt(e.style[l])||kb(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const q3=Ob({scrapeMotionValuesFromProps:rv,createRenderState:ev});function Mb(t,e,n){const r=rv(t,e,n);for(const i in t)if(Mt(t[i])||Mt(e[i])){const a=Ka.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const K3=Ob({scrapeMotionValuesFromProps:Mb,createRenderState:Lb}),G3=Symbol.for("motionComponentSymbol");function ma(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Q3(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ma(n)&&(n.current=r))},[e])}const sv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Y3="framerAppearId",jb="data-"+sv(Y3),Fb=R.createContext({});function X3(t,e,n,r,i){var P,b;const{visualElement:a}=R.useContext(tf),l=R.useContext(Ab),c=R.useContext(Zd),d=R.useContext(qu).reducedMotion,p=R.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=p.current,v=R.useContext(Fb);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&J3(p.current,n,i,v);const x=R.useRef(!1);R.useInsertionEffect(()=>{m&&x.current&&m.update(n,c)});const S=n[jb],C=R.useRef(!!S&&!((P=window.MotionHandoffIsComplete)!=null&&P.call(window,S))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,S)));return Jd(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),C.current&&m.animationState&&m.animationState.animateChanges())}),R.useEffect(()=>{m&&(!C.current&&m.animationState&&m.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,S)}),C.current=!1),m.enteringChildren=void 0)}),m}function J3(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Ub(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&ma(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:p})}function Ub(t){if(t)return t.options.allowProjection!==!1?t.projection:Ub(t.parent)}function dm(t,{forwardMotionProps:e=!1}={},n,r){n&&b3(n);const i=tv(t)?K3:q3;function a(c,d){let p;const m={...R.useContext(qu),...c,layoutId:Z3(c)},{isStatic:v}=m,x=P3(c),S=i(c,v);if(!v&&Cy){eM();const C=tM(m);p=C.MeasureLayout,x.visualElement=X3(t,S,m,r,C.ProjectionNode)}return y.jsxs(tf.Provider,{value:x,children:[p&&x.visualElement?y.jsx(p,{visualElement:x.visualElement,...m}):null,$3(t,c,Q3(S,x.visualElement,d),S,v,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=R.forwardRef(a);return l[G3]=t,l}function Z3({layoutId:t}){const e=R.useContext(Iy).id;return e&&t!==void 0?e+"-"+t:t}function eM(t,e){R.useContext(Ab).strict}function tM(t){const{drag:e,layout:n}=La;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function nM(t,e){if(typeof Proxy>"u")return dm;const n=new Map,r=(a,l)=>dm(a,l,t,e),i=(a,l)=>r(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,dm(l,void 0,t,e)),n.get(l))})}function Bb({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function rM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fm(t){return t===void 0||t===1}function dg({scale:t,scaleX:e,scaleY:n}){return!fm(t)||!fm(e)||!fm(n)}function Ki(t){return dg(t)||zb(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zb(t){return Vx(t.x)||Vx(t.y)}function Vx(t){return t&&t!=="0%"}function vd(t,e,n){const r=t-n,i=e*r;return n+i}function Ox(t,e,n,r,i){return i!==void 0&&(t=vd(t,i,r)),vd(t,n,r)+e}function fg(t,e=0,n=1,r,i){t.min=Ox(t.min,e,n,r,i),t.max=Ox(t.max,e,n,r,i)}function $b(t,{x:e,y:n}){fg(t.x,e.translate,e.scale,e.originPoint),fg(t.y,n.translate,n.scale,n.originPoint)}const Mx=.999999999999,jx=1.0000000000001;function iM(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ya(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,$b(t,l)),r&&Ki(a.latestValues)&&ya(t,a.latestValues))}e.x<jx&&e.x>Mx&&(e.x=1),e.y<jx&&e.y>Mx&&(e.y=1)}function ga(t,e){t.min=t.min+e,t.max=t.max+e}function Fx(t,e,n,r,i=.5){const a=at(t.min,t.max,i);fg(t,e,n,a,r)}function ya(t,e){Fx(t.x,e.x,e.scaleX,e.scale,e.originX),Fx(t.y,e.y,e.scaleY,e.scale,e.originY)}function Hb(t,e){return Bb(sM(t.getBoundingClientRect(),e))}function oM(t,e,n){const r=Hb(t,n),{scroll:i}=e;return i&&(ga(r.x,i.offset.x),ga(r.y,i.offset.y)),r}const Ux=()=>({translate:0,scale:1,origin:0,originPoint:0}),va=()=>({x:Ux(),y:Ux()}),Bx=()=>({min:0,max:0}),pt=()=>({x:Bx(),y:Bx()}),pg={current:null},Wb={current:!1};function aM(){if(Wb.current=!0,!!Cy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pg.current=t.matches;t.addEventListener("change",e),e()}else pg.current=!1}const lM=new WeakMap;function uM(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Mt(i))t.addValue(r,i);else if(Mt(a))t.addValue(r,cr(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,cr(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=xn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,We.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=rf(n),this.isVariantNode=Pb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const S=v[x];d[x]!==void 0&&Mt(S)&&S.set(d[x])}}mount(e){var n;this.current=e,lM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Wb.current||aM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),pr(this.notifyUpdate),pr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ga.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in La){const n=La[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zx.length;r++){const i=zx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=uM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=cr(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(VS(r)||MS(r))?r=parseFloat(r):!v3(r)&&hi.test(n)&&(r=wb(e,n)),this.setBaseTarget(e,Mt(r)?r.get():r)),Mt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=nv(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Mt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ky),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Gy.render(this.render)}}class qb extends cM{constructor(){super(...arguments),this.KeyframeResolver=YO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Kb(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i==null||i.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function hM(t){return window.getComputedStyle(t)}class dM extends qb{constructor(){super(...arguments),this.type="html",this.renderInstance=Kb}readValueFromInstance(e,n){var r;if(Ga.has(n))return(r=this.projection)!=null&&r.isProjecting?ig(n):gO(e,n);{const i=hM(e),a=(Vy(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Hb(e,n)}build(e,n,r){Zy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return rv(e,n,r)}}const Gb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fM(t,e,n,r){Kb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Gb.has(i)?i:sv(i),e.attrs[i])}class pM extends qb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ga.has(n)){const r=vb(n);return r&&r.default||0}return n=Gb.has(n)?n:sv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Mb(e,n,r)}build(e,n,r){Db(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){fM(e,n,r,i)}mount(e){this.isSVGTag=Vb(e.tagName),super.mount(e)}}const mM=(t,e)=>tv(t)?new pM(e):new dM(e,{allowProjection:t!==R.Fragment});function Ta(t,e,n){const r=t.getProps();return nv(r,e,n!==void 0?n:r.custom,t)}const mg=t=>Array.isArray(t);function gM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cr(n))}function yM(t){return mg(t)?t[t.length-1]||0:t}function vM(t,e){const n=Ta(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=yM(a[l]);gM(t,l,c)}}function wM(t){return!!(Mt(t)&&t.add)}function gg(t,e){const n=t.getValue("willChange");if(wM(n))return n.add(e);if(!n&&fs.WillChange){const r=new fs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Qb(t){return t.props[jb]}const _M=t=>t!==null;function xM(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(_M),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const EM={type:"spring",stiffness:500,damping:25,restSpeed:10},TM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),SM={type:"keyframes",duration:.8},bM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IM=(t,{keyframes:e})=>e.length>2?SM:Ga.has(t)?t.startsWith("scale")?TM(e[1]):EM:bM;function CM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...m}){return!!Object.keys(m).length}const iv=(t,e,n,r={},i,a)=>l=>{const c=Wy(r,t)||{},d=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Dr(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};CM(c)||Object.assign(m,IM(t,m)),m.duration&&(m.duration=Dr(m.duration)),m.repeatDelay&&(m.repeatDelay=Dr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(cg(m),m.delay===0&&(v=!0)),(fs.instantAnimations||fs.skipAnimations)&&(v=!0,cg(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,v&&!a&&e.get()!==void 0){const x=xM(m.keyframes,c);if(x!==void 0){We.update(()=>{m.onUpdate(x),m.onComplete()});return}}return c.isSync?new ef(m):new jO(m)};function AM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Yb(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const d=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const v=t.getValue(m,t.latestValues[m]??null),x=c[m];if(x===void 0||p&&AM(p,m))continue;const S={delay:n,...Wy(a||{},m)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===C&&!S.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const L=Qb(t);if(L){const B=window.MotionHandoffAnimation(L,m,We);B!==null&&(S.startTime=B,P=!0)}}gg(t,m),v.start(iv(m,v,x,t.shouldReduceMotion&&mb.has(m)?{type:!1}:S,t,P));const b=v.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{We.update(()=>{l&&vM(t,l)})}),d}function Xb(t,e,n,r=0,i=1){const a=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(a,l):i===1?a*r:c-a*r}function yg(t,e,n={}){var d;const r=Ta(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Yb(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:x}=i;return RM(t,e,p,m,v,x,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[p,m]=c==="beforeChildren"?[a,l]:[l,a];return p().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function RM(t,e,n=0,r=0,i=0,a=1,l){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(yg(d,e,{...l,delay:n+(typeof r=="function"?0:r)+Xb(t.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function PM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>yg(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=yg(t,e,n);else{const i=typeof e=="function"?Ta(t,e,n.custom):e;r=Promise.all(Yb(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Jb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const kM=Jy.length;function Zb(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Zb(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<kM;n++){const r=Jy[n],i=t.props[r];(Iu(i)||i===!1)&&(e[r]=i)}return e}const NM=[...Xy].reverse(),DM=Xy.length;function LM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>PM(t,n,r)))}function VM(t){let e=LM(t),n=$x(),r=!0;const i=d=>(p,m)=>{var x;const v=Ta(t,m,d==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(v){const{transition:S,transitionEnd:C,...P}=v;p={...p,...P,...C}}return p};function a(d){e=d(t)}function l(d){const{props:p}=t,m=Zb(t.parent)||{},v=[],x=new Set;let S={},C=1/0;for(let b=0;b<DM;b++){const L=NM[b],B=n[L],O=p[L]!==void 0?p[L]:m[L],K=Iu(O),Q=L===d?B.isActive:null;Q===!1&&(C=b);let Z=O===m[L]&&O!==p[L]&&K;if(Z&&r&&t.manuallyAnimateOnMount&&(Z=!1),B.protectedKeys={...S},!B.isActive&&Q===null||!O&&!B.prevProp||nf(O)||typeof O=="boolean")continue;const N=OM(B.prevProp,O);let A=N||L===d&&B.isActive&&!Z&&K||b>C&&K,k=!1;const M=Array.isArray(O)?O:[O];let F=M.reduce(i(L),{});Q===!1&&(F={});const{prevResolvedValues:z={}}=B,V={...z,...F},tt=Ie=>{A=!0,x.has(Ie)&&(k=!0,x.delete(Ie)),B.needsAnimating[Ie]=!0;const ie=t.getValue(Ie);ie&&(ie.liveStyle=!1)};for(const Ie in V){const ie=F[Ie],pe=z[Ie];if(S.hasOwnProperty(Ie))continue;let le=!1;mg(ie)&&mg(pe)?le=!Jb(ie,pe):le=ie!==pe,le?ie!=null?tt(Ie):x.add(Ie):ie!==void 0&&x.has(Ie)?tt(Ie):B.protectedKeys[Ie]=!0}B.prevProp=O,B.prevResolvedValues=F,B.isActive&&(S={...S,...F}),r&&t.blockInitialAnimation&&(A=!1);const xt=Z&&N;A&&(!xt||k)&&v.push(...M.map(Ie=>{const ie={type:L};if(typeof Ie=="string"&&r&&!xt&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,le=Ta(pe,Ie);if(pe.enteringChildren&&le){const{delayChildren:$}=le.transition||{};ie.delay=Xb(pe.enteringChildren,t,$)}}return{animation:Ie,options:ie}}))}if(x.size){const b={};if(typeof p.initial!="boolean"){const L=Ta(t,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(b.transition=L.transition)}x.forEach(L=>{const B=t.getBaseTarget(L),O=t.getValue(L);O&&(O.liveStyle=!0),b[L]=B??null}),v.push({animation:b})}let P=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(v):Promise.resolve()}function c(d,p){var v;if(n[d].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(x=>{var S;return(S=x.animationState)==null?void 0:S.setActive(d,p)}),n[d].isActive=p;const m=l(d);for(const x in n)n[x].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=$x()}}}function OM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Jb(e,t):!1}function Wi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $x(){return{animate:Wi(!0),whileInView:Wi(),whileHover:Wi(),whileTap:Wi(),whileDrag:Wi(),whileFocus:Wi(),exit:Wi()}}class mi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class MM extends mi{constructor(e){super(e),e.animationState||(e.animationState=VM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let jM=0;class FM extends mi{constructor(){super(...arguments),this.id=jM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const UM={animation:{Feature:MM},exit:{Feature:FM}};function Au(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ku(t){return{point:{x:t.pageX,y:t.pageY}}}const BM=t=>e=>Qy(e)&&t(e,Ku(e));function cu(t,e,n,r){return Au(t,e,BM(n),r)}const eI=1e-4,zM=1-eI,$M=1+eI,tI=.01,HM=0-tI,WM=0+tI;function un(t){return t.max-t.min}function qM(t,e,n){return Math.abs(t-e)<=n}function Hx(t,e,n,r=.5){t.origin=r,t.originPoint=at(e.min,e.max,t.origin),t.scale=un(n)/un(e),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(t.scale>=zM&&t.scale<=$M||isNaN(t.scale))&&(t.scale=1),(t.translate>=HM&&t.translate<=WM||isNaN(t.translate))&&(t.translate=0)}function hu(t,e,n,r){Hx(t.x,e.x,n.x,r?r.originX:void 0),Hx(t.y,e.y,n.y,r?r.originY:void 0)}function Wx(t,e,n){t.min=n.min+e.min,t.max=t.min+un(e)}function KM(t,e,n){Wx(t.x,e.x,n.x),Wx(t.y,e.y,n.y)}function qx(t,e,n){t.min=e.min-n.min,t.max=t.min+un(e)}function du(t,e,n){qx(t.x,e.x,n.x),qx(t.y,e.y,n.y)}function Hn(t){return[t("x"),t("y")]}const nI=({current:t})=>t?t.ownerDocument.defaultView:null,Kx=(t,e)=>Math.abs(t-e);function GM(t,e){const n=Kx(t.x,e.x),r=Kx(t.y,e.y);return Math.sqrt(n**2+r**2)}class rI{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=mm(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=GM(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!C)return;const{point:P}=x,{timestamp:b}=Vt;this.history.push({...P,timestamp:b});const{onStart:L,onMove:B}=this.handlers;S||(L&&L(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,x)},this.handlePointerMove=(x,S)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=pm(S,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(x,S)=>{this.end();const{onEnd:C,onSessionEnd:P,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=mm(x.type==="pointercancel"?this.lastMoveEventInfo:pm(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(x,L),P&&P(x,L)},!Qy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const c=Ku(e),d=pm(c,this.transformPagePoint),{point:p}=d,{timestamp:m}=Vt;this.history=[{...p,timestamp:m}];const{onSessionStart:v}=n;v&&v(e,mm(d,this.history)),this.removeListeners=$u(cu(this.contextWindow,"pointermove",this.handlePointerMove),cu(this.contextWindow,"pointerup",this.handlePointerUp),cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pr(this.updatePoint)}}function pm(t,e){return e?{point:e(t.point)}:t}function Gx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mm({point:t},e){return{point:t,delta:Gx(t,sI(e)),offset:Gx(t,QM(e)),velocity:YM(e,.1)}}function QM(t){return t[0]}function sI(t){return t[t.length-1]}function YM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=sI(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Dr(e)));)n--;if(!r)return{x:0,y:0};const a=Wn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function XM(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?at(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?at(n,t,r.max):Math.min(t,n)),t}function Qx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function JM(t,{top:e,left:n,bottom:r,right:i}){return{x:Qx(t.x,n,i),y:Qx(t.y,e,r)}}function Yx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ZM(t,e){return{x:Yx(t.x,e.x),y:Yx(t.y,e.y)}}function ej(t,e){let n=.5;const r=un(t),i=un(e);return i>r?n=Da(e.min,e.max-r,t.min):r>i&&(n=Da(t.min,t.max-i,e.min)),Mr(0,1,n)}function tj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vg=.35;function nj(t=vg){return t===!1?t=0:t===!0&&(t=vg),{x:Xx(t,"left","right"),y:Xx(t,"top","bottom")}}function Xx(t,e,n){return{min:Jx(t,e),max:Jx(t,n)}}function Jx(t,e){return typeof t=="number"?t:t[e]||0}const rj=new WeakMap;class sj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ku(v).point)},l=(v,x)=>{const{drag:S,dragPropagation:C,onDragStart:P}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZO(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(L=>{let B=this.getAxisMotionValue(L).get()||0;if(Lr.test(B)){const{projection:O}=this.visualElement;if(O&&O.layout){const K=O.layout.layoutBox[L];K&&(B=un(K)*(parseFloat(B)/100))}}this.originPoint[L]=B}),P&&We.postRender(()=>P(v,x)),gg(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},c=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:P,onDrag:b}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:L}=x;if(C&&this.currentDirection===null){this.currentDirection=ij(L),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",x.point,L),this.updateAxis("y",x.point,L),this.visualElement.render(),b&&b(v,x)},d=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Hn(v=>{var x;return this.getAnimationState(v)==="paused"&&((x=this.getAxisMotionValue(v).animation)==null?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new rI(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:nI(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&We.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Th(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=XM(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&ma(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=JM(r.layoutBox,e):this.constraints=!1,this.elastic=nj(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=tj(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ma(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=oM(r,i.root,this.visualElement.getTransformPagePoint());let l=ZM(i.layout.layoutBox,a);if(n){const c=n(rM(l));this.hasMutatedConstraints=!!c,c&&(l=Bb(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=Hn(m=>{if(!Th(m,n,this.currentDirection))return;let v=d&&d[m]||{};l&&(v={min:0,max:0});const x=i?200:1e6,S=i?40:1e7,C={type:"inertia",velocity:r?e[m]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(m,C)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gg(this.visualElement,e),r.start(iv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(n=>{const{drag:r}=this.getProps();if(!Th(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-at(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ma(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Hn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=ej({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(l=>{if(!Th(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(at(d,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;rj.set(this.visualElement,this);const e=this.visualElement.current,n=cu(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();ma(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),We.read(r);const l=Au(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Hn(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=d[m].translate,v.set(v.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=vg,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Th(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ij(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oj extends mi{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new sj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zx=t=>(e,n)=>{t&&We.postRender(()=>t(e,n))};class aj extends mi{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new rI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Zx(e),onStart:Zx(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&We.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=cu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=eE(t,e.target.x),r=eE(t,e.target.y);return`${n}% ${r}%`}},lj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=hi.parse(t);if(i.length>5)return r;const a=hi.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const p=at(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}};let gm=!1;class uj extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;k3(cj),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),gm&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,gm=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||We.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;gm=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iI(t){const[e,n]=Cb(),r=R.useContext(Iy);return y.jsx(uj,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(Fb),isPresent:e,safeToRemove:n})}const cj={borderRadius:{...Kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kl,borderTopRightRadius:Kl,borderBottomLeftRadius:Kl,borderBottomRightRadius:Kl,boxShadow:lj};function hj(t,e,n){const r=Mt(t)?t:cr(t);return r.start(iv("",r,e,n)),r.animation}const dj=(t,e)=>t.depth-e.depth;class fj{constructor(){this.children=[],this.isDirty=!1}add(e){Ay(this.children,e),this.isDirty=!0}remove(e){Ry(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dj),this.isDirty=!1,this.children.forEach(e)}}function pj(t,e){const n=xn.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(pr(r),t(a-e))};return We.setup(r,!0),()=>pr(r)}const oI=["TopLeft","TopRight","BottomLeft","BottomRight"],mj=oI.length,tE=t=>typeof t=="string"?parseFloat(t):t,nE=t=>typeof t=="number"||Te.test(t);function gj(t,e,n,r,i,a){i?(t.opacity=at(0,n.opacity??1,yj(r)),t.opacityExit=at(e.opacity??1,0,vj(r))):a&&(t.opacity=at(e.opacity??1,n.opacity??1,r));for(let l=0;l<mj;l++){const c=`border${oI[l]}Radius`;let d=rE(e,c),p=rE(n,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||nE(d)===nE(p)?(t[c]=Math.max(at(tE(d),tE(p),r),0),(Lr.test(p)||Lr.test(d))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,r))}function rE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yj=aI(0,.5,HS),vj=aI(.5,.95,En);function aI(t,e,n){return r=>r<t?0:r>e?1:n(Da(t,e,r))}function sE(t,e){t.min=e.min,t.max=e.max}function $n(t,e){sE(t.x,e.x),sE(t.y,e.y)}function iE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function oE(t,e,n,r,i){return t-=e,t=vd(t,1/n,r),i!==void 0&&(t=vd(t,1/i,r)),t}function wj(t,e=0,n=1,r=.5,i,a=t,l=t){if(Lr.test(e)&&(e=parseFloat(e),e=at(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=at(a.min,a.max,r);t===a&&(c-=e),t.min=oE(t.min,e,n,c,i),t.max=oE(t.max,e,n,c,i)}function aE(t,e,[n,r,i],a,l){wj(t,e[n],e[r],e[i],e.scale,a,l)}const _j=["x","scaleX","originX"],xj=["y","scaleY","originY"];function lE(t,e,n,r){aE(t.x,e,_j,n?n.x:void 0,r?r.x:void 0),aE(t.y,e,xj,n?n.y:void 0,r?r.y:void 0)}function uE(t){return t.translate===0&&t.scale===1}function lI(t){return uE(t.x)&&uE(t.y)}function cE(t,e){return t.min===e.min&&t.max===e.max}function Ej(t,e){return cE(t.x,e.x)&&cE(t.y,e.y)}function hE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function uI(t,e){return hE(t.x,e.x)&&hE(t.y,e.y)}function dE(t){return un(t.x)/un(t.y)}function fE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Tj{constructor(){this.members=[]}add(e){Ay(this.members,e),e.scheduleRender()}remove(e){if(Ry(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sj(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:x,skewX:S,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),m&&(r+=`rotate(${m}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),S&&(r+=`skewX(${S}deg) `),C&&(r+=`skewY(${C}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const ym=["","X","Y","Z"],bj=1e3;let Ij=0;function vm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Qb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cI(r)}function hI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=Ij++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Rj),this.nodes.forEach(Dj),this.nodes.forEach(Lj),this.nodes.forEach(Pj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new fj)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ky),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Yy(l)&&!p3(l),this.instance=l;const{layoutId:c,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,v=0;const x=()=>this.root.updateBlockedByResize=!1;We.read(()=>{v=window.innerWidth}),t(l,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,m&&m(),m=pj(x,250),Hh.hasAnimatedSinceResize&&(Hh.hasAnimatedSinceResize=!1,this.nodes.forEach(gE)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||Fj,{onLayoutAnimationStart:P,onLayoutAnimationComplete:b}=p.getProps(),L=!this.targetLayout||!uI(this.targetLayout,S),B=!v&&x;if(this.options.layoutRoot||this.resumeFrom||B||v&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...Wy(C,"layout"),onPlay:P,onComplete:b};(p.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(m,B)}else v||gE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vj),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Nj),this.nodes.forEach(Cj),this.nodes.forEach(Aj)):this.nodes.forEach(mE),this.clearAllSnapshots();const c=xn.now();Vt.delta=Mr(0,1e3/60,c-Vt.timestamp),Vt.timestamp=c,Vt.isProcessing=!0,om.update.process(Vt),om.preRender.process(Vt),om.render.process(Vt),Vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kj),this.sharedNodes.forEach(Oj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!lI(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(c||Ki(this.latestValues)||m)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),Uj(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return pt();const c=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(Bj))){const{scroll:m}=this.root;m&&(ga(c.x,m.offset.x),ga(c.y,m.offset.y))}return c}removeElementScroll(l){var d;const c=pt();if($n(c,l),(d=this.scroll)!=null&&d.wasRoot)return c;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:x}=m;m!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&$n(c,l),ga(c.x,v.offset.x),ga(c.y,v.offset.y))}return c}applyTransform(l,c=!1){const d=pt();$n(d,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ya(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ki(m.latestValues)&&ya(d,m.latestValues)}return Ki(this.latestValues)&&ya(d,this.latestValues),d}removeTransform(l){const c=pt();$n(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ki(p.latestValues))continue;dg(p.latestValues)&&p.updateSnapshot();const m=pt(),v=p.measurePageBox();$n(m,v),lE(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Ki(this.latestValues)&&lE(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=Vt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),du(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),$b(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),du(this.relativeTargetOrigin,this.target,S.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dg(this.parent.latestValues)||zb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Vt.timestamp&&(d=!1),d)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;$n(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;iM(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=pt());const{target:S}=l;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iE(this.prevProjectionDelta.x,this.projectionDelta.x),iE(this.prevProjectionDelta.y,this.projectionDelta.y)),hu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!fE(this.projectionDelta.x,this.prevProjectionDelta.x)||!fE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=va(),this.projectionDelta=va(),this.projectionDeltaWithTransform=va()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},v=va();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=pt(),S=d?d.source:void 0,C=this.layout?this.layout.source:void 0,P=S!==C,b=this.getStack(),L=!b||b.members.length<=1,B=!!(P&&!L&&this.options.crossfade===!0&&!this.path.some(jj));this.animationProgress=0;let O;this.mixTargetDelta=K=>{const Q=K/1e3;yE(v.x,l.x,Q),yE(v.y,l.y,Q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(du(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Mj(this.relativeTarget,this.relativeTargetOrigin,x,Q),O&&Ej(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=pt()),$n(O,this.relativeTarget)),P&&(this.animationValues=m,gj(m,p,this.latestValues,Q,B,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,d,p;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Hh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cr(0)),this.currentAnimation=hj(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:m}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&dI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||pt();const v=un(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const x=un(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}$n(c,d),ya(c,m),hu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Tj),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&vm("z",l,p,this.animationValues);for(let m=0;m<ym.length;m++)vm(`rotate${ym[m]}`,l,p,this.animationValues),vm(`skew${ym[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=$h(c==null?void 0:c.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=$h(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ki(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=Sj(this.projectionDeltaWithTransform,this.treeScale,m);d&&(v=d(m,v)),l.transform=v;const{x,y:S}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in Cu){if(m[C]===void 0)continue;const{correct:P,applyTo:b,isCSSVariable:L}=Cu[C],B=v==="none"?m[C]:P(m[C],p);if(b){const O=b.length;for(let K=0;K<O;K++)l[b[K]]=B}else L?this.options.visualElement.renderState.vars[C]=B:l[C]=B}this.options.layoutId&&(l.pointerEvents=p===this?$h(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(pE),this.root.sharedNodes.clear()}}}function Cj(t){t.updateLayout()}function Aj(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Hn(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],S=un(x);x.min=r[v].min,x.max=x.min+S}):dI(a,e.layoutBox,r)&&Hn(v=>{const x=l?e.measuredBox[v]:e.layoutBox[v],S=un(r[v]);x.max=x.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+S)});const c=va();hu(c,r,e.layoutBox);const d=va();l?hu(d,t.applyTransform(i,!0),e.measuredBox):hu(d,r,e.layoutBox);const p=!lI(c);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:S}=v;if(x&&S){const C=pt();du(C,e.layoutBox,x.layoutBox);const P=pt();du(P,r,S.layoutBox),uI(C,P)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=C,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Rj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Pj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kj(t){t.clearSnapshot()}function pE(t){t.clearMeasurements()}function mE(t){t.isLayoutDirty=!1}function Nj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Dj(t){t.resolveTargetDelta()}function Lj(t){t.calcProjection()}function Vj(t){t.resetSkewAndRotation()}function Oj(t){t.removeLeadSnapshot()}function yE(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function vE(t,e,n,r){t.min=at(e.min,n.min,r),t.max=at(e.max,n.max,r)}function Mj(t,e,n,r){vE(t.x,e.x,n.x,r),vE(t.y,e.y,n.y,r)}function jj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Fj={duration:.45,ease:[.4,0,.1,1]},wE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_E=wE("applewebkit/")&&!wE("chrome/")?Math.round:En;function xE(t){t.min=_E(t.min),t.max=_E(t.max)}function Uj(t){xE(t.x),xE(t.y)}function dI(t,e,n){return t==="position"||t==="preserve-aspect"&&!qM(dE(e),dE(n),.2)}function Bj(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const zj=hI({attachResizeListener:(t,e)=>Au(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wm={current:void 0},fI=hI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wm.current){const t=new zj({});t.mount(window),t.setOptions({layoutScroll:!0}),wm.current=t}return wm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$j={pan:{Feature:aj},drag:{Feature:oj,ProjectionNode:fI,MeasureLayout:iI}};function EE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&We.postRender(()=>a(e,Ku(e)))}class Hj extends mi{mount(){const{current:e}=this.node;e&&(this.unmount=e3(e,(n,r)=>(EE(this.node,r,"Start"),i=>EE(this.node,i,"End"))))}unmount(){}}class Wj extends mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(Au(this.node.current,"focus",()=>this.onFocus()),Au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&We.postRender(()=>a(e,Ku(e)))}class qj extends mi{mount(){const{current:e}=this.node;e&&(this.unmount=s3(e,(n,r)=>(TE(this.node,r,"Start"),(i,{success:a})=>TE(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wg=new WeakMap,_m=new WeakMap,Kj=t=>{const e=wg.get(t.target);e&&e(t)},Gj=t=>{t.forEach(Kj)};function Qj({root:t,...e}){const n=t||document;_m.has(n)||_m.set(n,{});const r=_m.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Gj,{root:t,...e})),r[i]}function Yj(t,e,n){const r=Qj(e);return wg.set(t,n),r.observe(t),()=>{wg.delete(t),r.unobserve(t)}}const Xj={some:0,all:1};class Jj extends mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Xj[i]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),x=p?m:v;x&&x(d)};return Yj(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Zj(e,n))&&this.startObserver()}unmount(){}}function Zj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const e5={inView:{Feature:Jj},tap:{Feature:qj},focus:{Feature:Wj},hover:{Feature:Hj}},t5={layout:{ProjectionNode:fI,MeasureLayout:iI}},n5={...UM,...e5,...$j,...t5},_e=nM(n5,mM),r5=50,SE=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),s5=()=>({time:0,x:SE(),y:SE()}),i5={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function bE(t,e,n,r){const i=n[e],{length:a,position:l}=i5[e],c=i.current,d=n.time;i.current=t[`scroll${l}`],i.scrollLength=t[`scroll${a}`]-t[`client${a}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Da(0,i.scrollLength,i.current);const p=r-d;i.velocity=p>r5?0:Ny(i.current-c,p)}function o5(t,e,n){bE(t,"x",e,n),bE(t,"y",e,n),e.time=n}function a5(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(Ky(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const a=r.getBoundingClientRect();n.x+=i.left-a.left,n.y+=i.top-a.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:a}=r.getBBox();n.x+=i,n.y+=a;let l=null,c=r.parentNode;for(;!l;)c.tagName==="svg"&&(l=c),c=r.parentNode;r=l}else break;return n}const _g={start:0,center:.5,end:1};function IE(t,e,n=0){let r=0;if(t in _g&&(t=_g[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const l5=[0,0];function u5(t,e,n,r){let i=Array.isArray(t)?t:l5,a=0,l=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,_g[t]?t:"0"]),a=IE(i[0],n,r),l=IE(i[1],e),a-l}const c5={All:[[0,0],[1,1]]},h5={x:0,y:0};function d5(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function f5(t,e,n){const{offset:r=c5.All}=n,{target:i=t,axis:a="y"}=n,l=a==="y"?"height":"width",c=i!==t?a5(i,t):h5,d=i===t?{width:t.scrollWidth,height:t.scrollHeight}:d5(i),p={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let m=!e[a].interpolate;const v=r.length;for(let x=0;x<v;x++){const S=u5(r[x],p[l],d[l],c[a]);!m&&S!==e[a].interpolatorOffsets[x]&&(m=!0),e[a].offset[x]=S}m&&(e[a].interpolate=By(e[a].offset,ib(r),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=Mr(0,1,e[a].interpolate(e[a].current))}function p5(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function m5(t,e,n,r={}){return{measure:i=>{p5(t,r.target,n),o5(t,n,i),(r.offset||r.target)&&f5(t,n,r)},notify:()=>e(n)}}const Gl=new WeakMap,CE=new WeakMap,xm=new WeakMap,AE=t=>t===document.scrollingElement?window:t;function pI(t,{container:e=document.scrollingElement,...n}={}){if(!e)return En;let r=xm.get(e);r||(r=new Set,xm.set(e,r));const i=s5(),a=m5(e,t,i,n);if(r.add(a),!Gl.has(e)){const c=()=>{for(const v of r)v.measure(Vt.timestamp);We.preUpdate(d)},d=()=>{for(const v of r)v.notify()},p=()=>We.read(c);Gl.set(e,p);const m=AE(e);window.addEventListener("resize",p,{passive:!0}),e!==document.documentElement&&CE.set(e,f3(e,p)),m.addEventListener("scroll",p,{passive:!0}),p()}const l=Gl.get(e);return We.read(l,!1,!0),()=>{var p;pr(l);const c=xm.get(e);if(!c||(c.delete(a),c.size))return;const d=Gl.get(e);Gl.delete(e),d&&(AE(e).removeEventListener("scroll",d),(p=CE.get(e))==null||p(),window.removeEventListener("resize",d))}}const RE=new Map;function g5(t){const e={value:0},n=pI(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function mI({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=RE.get(e)??new Map;RE.set(e,i);const a=n.target??"self",l=i.get(a)??{},c=r+(n.offset??[]).join(",");return l[c]||(l[c]=!n.target&&ub()?new ScrollTimeline({source:e,axis:r}):g5({container:e,...n})),l[c]}function y5(t,e){const n=mI(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),Ib(i=>{r.time=r.iterationDuration*i},n))})}function v5(t){return t.length===2}function w5(t,e){return v5(t)?pI(n=>{t(n[e.axis].progress,n)},e):Ib(t,mI(e))}function _5(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return En;const i={axis:e,container:n,...r};return typeof t=="function"?w5(t,i):y5(t,i)}const x5=()=>({scrollX:cr(0),scrollY:cr(0),scrollXProgress:cr(0),scrollYProgress:cr(0)}),Sh=t=>t?!t.current:!1;function gI({container:t,target:e,...n}={}){const r=Wa(x5),i=R.useRef(null),a=R.useRef(!1),l=R.useCallback(()=>(i.current=_5((c,{x:d,y:p})=>{r.scrollX.set(d.current),r.scrollXProgress.set(d.progress),r.scrollY.set(p.current),r.scrollYProgress.set(p.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var c;(c=i.current)==null||c.call(i)}),[t,e,JSON.stringify(n.offset)]);return Jd(()=>{if(a.current=!1,Sh(t)||Sh(e)){a.current=!0;return}else return l()},[l]),R.useEffect(()=>{if(a.current)return Tu(!Sh(t)),Tu(!Sh(e)),l()},[l]),r}function ov(t){const e=Wa(()=>cr(t)),{isStatic:n}=R.useContext(qu);if(n){const[,r]=R.useState(t);R.useEffect(()=>e.on("change",r),[])}return e}function yI(t,e){const n=ov(e()),r=()=>n.set(e());return r(),Jd(()=>{const i=()=>We.preRender(r,!1,!0),a=t.map(l=>l.on("change",i));return()=>{a.forEach(l=>l()),pr(r)}}),n}function E5(t){uu.current=[],t();const e=yI(uu.current,t);return uu.current=void 0,e}function ri(t,e,n,r){if(typeof t=="function")return E5(t);const i=typeof e=="function"?e:m3(e,n,r);return Array.isArray(t)?PE(t,i):PE([t],([a])=>i(a))}function PE(t,e){const n=Wa(()=>[]);return yI(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function T5(t,e={}){const{isStatic:n}=R.useContext(qu),r=()=>Mt(t)?t.get():t;if(n)return ri(r);const i=ov(r());return R.useInsertionEffect(()=>g3(i,t,e),[i,JSON.stringify(e)]),i}const S5=()=>{const[t,e]=R.useState("");return R.useEffect(()=>{(async()=>{try{const r=await fo(Fr(cn,"about"));if(!r.empty){const i=r.docs[0].data();i.resume&&i.resume.url&&e(i.resume.url)}}catch(r){console.error("Error fetching resume:",r)}})()},[]),y.jsx("nav",{className:"fixed top-0 w-full z-50 pointer-events-none",children:y.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 md:px-12 lg:px-24 flex justify-between items-center py-6",children:[y.jsx(_e.a,{href:"/",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"pointer-events-auto",children:y.jsx("img",{src:"/logo.svg",alt:"Logo",className:"w-12 h-12 hover:scale-110 transition-transform duration-300"})}),y.jsx(_e.a,{href:t||"#",target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},className:`btn-primary pointer-events-auto ${t?"":"opacity-50 cursor-not-allowed"}`,onClick:n=>!t&&n.preventDefault(),children:"Resume"})]})})};var vI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kE=Ht.createContext&&Ht.createContext(vI),b5=["attr","size","title"];function I5(t,e){if(t==null)return{};var n=C5(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(this,arguments)}function NE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(n),!0).forEach(function(r){A5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A5(t,e,n){return e=R5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R5(t){var e=P5(t,"string");return typeof e=="symbol"?e:e+""}function P5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wI(t){return t&&t.map((e,n)=>Ht.createElement(e.tag,_d({key:n},e.attr),wI(e.child)))}function Qe(t){return e=>Ht.createElement(k5,wd({attr:_d({},t.attr)},e),wI(t.child))}function k5(t){var e=n=>{var{attr:r,size:i,title:a}=t,l=I5(t,b5),c=i||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Ht.createElement("svg",wd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:_d(_d({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Ht.createElement("title",null,a),t.children)};return kE!==void 0?Ht.createElement(kE.Consumer,null,n=>e(n)):e(vI)}function N5(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"80",height:"80",x:"64",y:"64",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"216",y:"64",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"368",y:"64",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"64",y:"216",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"216",y:"216",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"368",y:"216",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"64",y:"368",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"216",y:"368",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"rect",attr:{width:"80",height:"80",x:"368",y:"368",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"40",ry:"40"},child:[]}]})(t)}function D5(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"448",height:"320",x:"32",y:"128",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48",ry:"48"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M144 128V96a32 32 0 0 1 32-32h160a32 32 0 0 1 32 32v32m112 112H32m288 0v24a8 8 0 0 1-8 8H200a8 8 0 0 1-8-8v-24"},child:[]}]})(t)}function L5(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 368 32 256l128-112m192 224 128-112-128-112m-48-48-96 320"},child:[]}]})(t)}function V5(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M480 256 266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256m368-77V64h-48v69"},child:[]}]})(t)}function O5(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"320",x:"48",y:"96",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m112 160 144 112 144-112"},child:[]}]})(t)}function M5(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"},child:[]}]})(t)}const j5=()=>{const t=ov(1/0),e=R.useContext(ms),n=[{id:"home",icon:y.jsx(V5,{}),label:"Home"},{id:"about",icon:y.jsx(M5,{}),label:"About"},{id:"skills",icon:y.jsx(L5,{}),label:"Skills"},{id:"projects",icon:y.jsx(N5,{}),label:"Projects"},{id:"experience",icon:y.jsx(D5,{}),label:"Experience"},{id:"contact",icon:y.jsx(O5,{}),label:"Contact"}];return y.jsx("div",{className:`fixed bottom-6 left-1/2 -translate-x-1/2 z-50 flex items-end ${e?"gap-2 px-4 py-2 bottom-4":"gap-4 px-6 py-3 bottom-8"} bg-light-navy/40 backdrop-blur-xl border border-lightest-navy/30 rounded-full shadow-2xl`,children:n.map(r=>y.jsx(F5,{mouseX:t,link:r,isMobile:e},r.id))})},F5=({mouseX:t,link:e,isMobile:n})=>{const r=Ht.useRef(null),i=ri(t,v=>{var S;const x=((S=r.current)==null?void 0:S.getBoundingClientRect())??{x:0,width:0};return v-x.x-x.width/2}),a=n?35:40,l=n?50:80,d=ri(i,n?[-100,0,100]:[-150,0,150],[a,l,a]),p=T5(d,{mass:.1,stiffness:150,damping:12}),m=v=>{const x=document.getElementById(v);x&&x.scrollIntoView({behavior:"smooth"})};return y.jsxs(_e.div,{ref:r,style:{width:p,height:p},className:"aspect-square rounded-full bg-lightest-navy/20 border border-lightest-navy/30 flex items-center justify-center relative group cursor-pointer hover:bg-primary/20 transition-colors",onClick:()=>m(e.id),onMouseMove:v=>!n&&t.set(v.pageX),onMouseLeave:()=>!n&&t.set(1/0),children:[y.jsx(_e.div,{className:"text-slate-300 group-hover:text-primary transition-colors",style:{fontSize:ri(p,[a,l],n?[18,24]:[20,40])},children:e.icon}),!n&&y.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-navy/90 text-primary text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap border border-primary/20",children:e.label})]})},_I=R.createContext(),mo=()=>R.useContext(_I),U5=({children:t})=>{const[e,n]=R.useState([]),r=R.useCallback((i,a="info",l=5e3)=>{const c=Date.now()+Math.random();n(d=>[...d,{id:c,message:i,type:a}]),setTimeout(()=>{n(d=>d.filter(p=>p.id!==c))},l)},[]);return y.jsxs(_I.Provider,{value:{showAlert:r},children:[t,y.jsx("div",{style:{position:"fixed",top:20,right:20,zIndex:9999,display:"flex",flexDirection:"column",gap:"10px"},children:y.jsx(ao,{children:e.map(i=>y.jsx(_e.div,{initial:{opacity:0,x:50,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:50,scale:.8},transition:{type:"spring",stiffness:500,damping:30,duration:.4},style:{minWidth:200,padding:"12px 20px",borderRadius:6,background:i.type==="error"?"#ff4d4f":"#1890ff",color:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",fontWeight:500,opacity:.95},children:i.message},i.id))})})]})},av=R.createContext(null),xI=({onClose:t})=>{const[e,n]=R.useState(""),[r,i]=R.useState(""),[a,l]=R.useState(!1),{showAlert:c}=mo(),d=R.useContext(av);R.useEffect(()=>{const x=S=>{S.key==="Escape"&&t()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[t]);const p=["Welcome back, superstar! ","You again? Awesome! ","Ready to conquer the day? ","Back for more? Let's go! ","The legend returns! ","You make this place better! ","Look who's here! ","High five, you're in! ","Welcome back, code ninja! ","Glad to see you again! "],m=()=>p[Math.floor(Math.random()*p.length)],v=async x=>{x.preventDefault();try{d.update(!0);const S=await JD(Xd,e,r);console.log("Signed in:",S.user),d.update(!1),c(m(),"success"),t()}catch(S){d.update(!1),c(S.message,"error")}};return y.jsx(ao,{children:y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-navy/80 backdrop-blur-sm flex justify-center items-center z-[1000]",children:y.jsxs(_e.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-light-navy/90 border border-lightest-navy p-8 rounded-xl shadow-2xl w-full max-w-md relative",children:[y.jsx("button",{type:"button",className:"absolute top-4 right-4 text-slate-400 hover:text-primary transition-colors text-xl",onClick:t,children:""}),y.jsx("h2",{className:"text-3xl font-bold text-slate-100 mb-6 text-center",children:"Sign In"}),y.jsxs("form",{onSubmit:v,className:"flex flex-col gap-4",children:[y.jsx("div",{className:"group",children:y.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:x=>n(x.target.value),className:"w-full bg-navy/50 border border-lightest-navy rounded-lg px-4 py-3 text-slate-300 focus:outline-none focus:border-primary transition-colors placeholder-slate-500",required:!0})}),y.jsxs("div",{className:"relative group",children:[y.jsx("input",{type:a?"text":"password",placeholder:"Password",value:r,onChange:x=>i(x.target.value),className:"w-full bg-navy/50 border border-lightest-navy rounded-lg px-4 py-3 text-slate-300 focus:outline-none focus:border-primary transition-colors placeholder-slate-500 pr-12",required:!0}),y.jsx("button",{type:"button",onClick:()=>l(x=>!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-primary transition-colors",title:a?"Hide password":"Show password",children:a?"":""})]}),y.jsx("button",{type:"submit",className:"mt-4 bg-primary text-navy font-bold py-3 rounded-lg hover:bg-primary/90 transition-colors shadow-lg shadow-primary/20",children:"Sign In"})]})]})})})};function B5(t){return Qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function z5(t){return Qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function $5(t){return Qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function H5(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(t)}function xd(t){return Qe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function W5(t){return Qe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function q5(t){return Qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function K5(t){return Qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function EI(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function G5(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(t)}function Q5(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function Y5(t){return Qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function X5(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function gi(t){return Qe({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function J5(t){return Qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Ed(t){return Qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Z5(t){return Qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const e6=()=>{const t=R.useContext(ms),[e,n]=R.useState(!1),[r,i]=R.useState(null),[a,l]=R.useState(!1),[c,d]=R.useState([]),[p,m]=R.useState(""),[v,x]=R.useState(!1),[S,C]=R.useState("connecting"),P=R.useRef(null),b=R.useRef(null),L=mo(),B=L?L.showAlert:()=>{},O="wss://personal-chatbot-hp83.onrender.com/ws/chat";R.useEffect(()=>{let k,M;const F=()=>{C(z=>z==="connected"?z:"connecting"),k=new WebSocket(O),i(k),k.onopen=()=>{l(!0),C("connected"),x(!1)},k.onmessage=z=>{x(!1),d(V=>[...V,{role:"assistant",content:z.data}])},k.onerror=z=>{console.error("WebSocket error:",z),k.close()},k.onclose=()=>{l(!1),C("reconnecting"),M=setTimeout(F,5e3)}};return e&&F(),()=>{clearTimeout(M),k&&k.close()}},[e]),R.useEffect(()=>{var k;(k=P.current)==null||k.scrollIntoView({behavior:"smooth"})},[c,v,e]);const K=k=>{m(k.target.value);const M=b.current;M&&(M.style.height="44px",M.style.height=Math.min(M.scrollHeight,140)+"px")},Q=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),Z())},Z=()=>{if(!(!p.trim()||!r||r.readyState!==WebSocket.OPEN))try{r.send(p),d(k=>[...k,{role:"user",content:p}]),m(""),x(!0),b.current&&(b.current.style.height="44px")}catch{B("Failed to send. Please try again.","error")}},N={hidden:{opacity:0,scale:.9,y:20,transition:{duration:.2}},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,type:"spring",stiffness:300,damping:25}},exit:{opacity:0,scale:.9,y:20,transition:{duration:.2}}},A={hidden:{y:"100%",opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",damping:25,stiffness:300}},exit:{y:"100%",opacity:0,transition:{duration:.2}}};return y.jsxs(y.Fragment,{children:[y.jsx(ao,{children:!e&&y.jsx(_e.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(!0),className:`fixed z-[9990] flex items-center justify-center shadow-lg bg-primary text-navy rounded-full
              ${t?"bottom-24 right-6 w-14 h-14":"bottom-10 right-10 w-16 h-16"}
            `,children:y.jsx(q5,{size:t?24:28})})}),y.jsx(ao,{children:e&&y.jsxs(_e.div,{variants:t?A:N,initial:"hidden",animate:"visible",exit:"exit",className:`fixed z-[9999] flex flex-col bg-navy border border-lightest-navy shadow-2xl overflow-hidden
              ${t?"inset-0 rounded-none":"bottom-24 right-10 w-[400px] h-[600px] rounded-2xl"}
            `,style:t?{position:"fixed",top:0,left:0,right:0,bottom:0}:{},children:[y.jsxs("div",{className:"bg-light-navy/90 backdrop-blur-md px-4 py-3 flex items-center justify-between border-b border-lightest-navy shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[t&&y.jsx("button",{onClick:()=>n(!1),className:"text-slate-400 hover:text-white",children:y.jsx(z5,{size:20})}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"font-bold text-slate-200 text-lg",children:"Shiv's Assistant"}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("span",{className:`w-2 h-2 rounded-full ${S==="connected"?"bg-green-500":S==="connecting"?"bg-yellow-500":"bg-red-500"}`}),y.jsx("span",{className:"text-xs text-slate-400 capitalize",children:S})]})]})]}),!t&&y.jsx("button",{onClick:()=>n(!1),className:"text-slate-400 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10",children:y.jsx(gi,{size:20})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-navy scrollbar-thin scrollbar-thumb-lightest-navy scrollbar-track-transparent",children:[c.length===0&&!v&&y.jsxs("div",{className:"bg-light-navy p-4 rounded-xl rounded-bl-none max-w-[85%] text-slate-300 self-start shadow-md border border-lightest-navy/50",children:[y.jsx("p",{children:" Hi there! I'm Shiv's AI assistant."}),y.jsx("p",{className:"mt-2",children:"I can tell you about his projects, skills, and experience. How can I help?"})]}),c.map((k,M)=>y.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:y.jsx("div",{className:`max-w-[85%] p-3 rounded-xl text-sm shadow-md ${k.role==="user"?"bg-primary text-navy rounded-br-none font-medium":"bg-light-navy text-slate-300 rounded-bl-none border border-lightest-navy/50"}`,children:k.content})},M)),v&&y.jsx("div",{className:"flex justify-start",children:y.jsxs("div",{className:"bg-light-navy p-3 rounded-xl rounded-bl-none flex gap-1 shadow-md border border-lightest-navy/50",children:[y.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),y.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-100"}),y.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-200"})]})}),y.jsx("div",{ref:P})]}),y.jsxs("div",{className:"p-3 bg-light-navy/50 border-t border-lightest-navy flex gap-2 items-end shrink-0 backdrop-blur-sm",children:[y.jsx("textarea",{ref:b,className:"flex-1 bg-navy/50 border border-lightest-navy rounded-xl p-3 text-sm text-slate-300 focus:outline-none focus:border-primary resize-none max-h-32 placeholder:text-slate-500",placeholder:"Type a message...",rows:1,value:p,onChange:K,onKeyDown:Q}),y.jsx("button",{className:"p-3 bg-primary text-navy rounded-xl hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg active:scale-95 transform duration-100",onClick:Z,disabled:!a||!p.trim(),children:y.jsx(Q5,{size:18})})]})]})})]})},t6=()=>{const t=R.useContext(ms),e=R.useRef(null),[n,r]=R.useState(!1),{scrollYProgress:i}=gI({target:e,offset:["start start","end start"]}),a=ri(i,[0,1],["0%","50%"]),l=ri(i,[0,.5],[1,0]);return R.useEffect(()=>{const d=document.getElementById("matrix-canvas");if(!d)return;const p=d.getContext("2d");d.width=window.innerWidth,d.height=window.innerHeight;const m="",v=14,x=d.width/v,S=Array(Math.floor(x)).fill(1);function C(){p.fillStyle="rgba(2, 12, 9, 0.05)",p.fillRect(0,0,d.width,d.height),p.fillStyle="#34d399",p.font=v+"px monospace";for(let b=0;b<S.length;b++){const L=m[Math.floor(Math.random()*m.length)];p.fillText(L,b*v,S[b]*v),S[b]*v>d.height&&Math.random()>.975&&(S[b]=0),S[b]++}}const P=setInterval(C,33);return()=>clearInterval(P)},[]),R.useEffect(()=>{const d=setInterval(()=>{r(!0),setTimeout(()=>r(!1),100)},5e3);return()=>clearInterval(d)},[]),y.jsxs("div",{ref:e,className:"min-h-screen flex items-center justify-center relative overflow-hidden",children:[y.jsx("canvas",{id:"matrix-canvas",className:"absolute inset-0 opacity-20 pointer-events-none"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-navy via-transparent to-navy pointer-events-none"}),y.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),y.jsxs(_e.div,{className:"w-full max-w-7xl px-4 grid md:grid-cols-2 gap-12 items-center z-10",style:{y:a,opacity:l},children:[y.jsxs("div",{className:"space-y-6",children:[y.jsxs(_e.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:n?"glitch":"",children:[y.jsx("p",{className:"text-primary font-mono text-xs md:text-base mb-2 tracking-wider",children:"$ whoami"}),y.jsxs("h1",{className:"text-4xl md:text-7xl font-bold text-slate-100 mb-4 font-mono tracking-tighter",children:["SHIV",y.jsx("span",{className:"text-primary",children:"."})]}),y.jsx("h2",{className:"text-xl md:text-4xl font-bold text-slate-400 mb-6 font-mono",children:"<JAVA_DEVELOPER />"})]}),y.jsxs(_e.p,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.8},className:"text-slate-300 text-lg leading-relaxed max-w-xl",children:["I craft ",y.jsx("span",{className:"text-primary font-semibold",children:"high-performance"})," backend systems and ",y.jsx("span",{className:"text-tertiary font-semibold",children:"elegant"})," web experiences. Specializing in Java, Spring Boot, and modern web technologies."]}),y.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex gap-4 flex-wrap",children:[y.jsxs("a",{href:"#projects",className:"group px-6 py-3 border-2 border-primary text-primary font-mono text-sm hover:bg-primary hover:text-navy transition-all duration-300 relative overflow-hidden",children:[y.jsx("span",{className:"relative z-10",children:"VIEW PROJECTS"}),y.jsx("div",{className:"absolute inset-0 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"})]}),y.jsx("a",{href:"#contact",className:"px-6 py-3 bg-transparent border-2 border-slate-600 text-slate-300 font-mono text-sm hover:border-tertiary hover:text-tertiary transition-all duration-300",children:"GET IN TOUCH"})]}),y.jsxs(_e.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"font-mono text-xs text-slate-500 space-y-1 mt-8",children:[y.jsxs("p",{children:[y.jsx("span",{className:"text-primary",children:""})," System: ONLINE"]}),y.jsxs("p",{children:[y.jsx("span",{className:"text-tertiary",children:""})," Skills: LOADED"]}),y.jsxs("p",{children:[y.jsx("span",{className:"text-green-400",children:""})," Status: READY_TO_BUILD"]})]})]}),!t&&y.jsxs(_e.div,{initial:{opacity:0,x:50,rotateY:-15},animate:{opacity:1,x:0,rotateY:0},transition:{delay:.4,duration:.8},className:"relative group",style:{perspective:"1000px"},children:[y.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 to-tertiary/20 rounded-lg blur-xl opacity-50 group-hover:opacity-75 transition duration-500"}),y.jsxs("div",{className:"relative bg-light-navy/80 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"bg-lightest-navy/50 px-4 py-3 flex items-center gap-2 border-b border-primary/20",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),y.jsx("span",{className:"ml-4 text-xs text-slate-400 font-mono",children:"Developer.java"})]}),y.jsx("div",{className:"p-6 font-mono text-sm",children:y.jsx("pre",{className:"text-slate-300 leading-relaxed",children:y.jsx("code",{children:`public class Developer {
  private String name;
  private String role;
  private String[] skills;

  public Developer() {
    this.name = "Shiv Wakchaure";
    this.role = "Java Developer";
    this.skills = new String[]{"Java", "Spring", "React"};
  }
  
  public String build() {
    return "Innovative Solutions";
  }
}`.split(`
`).map((d,p)=>y.jsxs(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+p*.1},className:"hover:bg-primary/10 px-2 -mx-2 transition-colors",children:[y.jsx("span",{className:"text-slate-600 mr-4 select-none",children:String(p+1).padStart(2,"0")}),y.jsx("span",{dangerouslySetInnerHTML:{__html:d.replace(/("[^"]*")|\b(public|private|class|void|return|new|this|extends|implements|static|final)\b|\b([A-Z][a-zA-Z0-9_]*)\b|\b([a-z][a-zA-Z0-9_]*)(?=\()|(\.[a-zA-Z0-9_]+)|\b(\d+)\b/g,(m,v,x,S,C,P,b)=>v?`<span class="text-[#6a8759]">${v}</span>`:x?`<span class="text-[#cc7832] font-semibold">${x}</span>`:S?`<span class="text-[#a9b7c6]">${S}</span>`:C?`<span class="text-[#ffc66d]">${C}</span>`:P?`<span class="text-[#9876aa]">${P}</span>`:b?`<span class="text-[#6897bb]">${b}</span>`:m)}})]},p))})})})]}),y.jsx(_e.div,{animate:{y:[0,-20,0],rotate:[0,5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute -top-8 -right-8 w-16 h-16 border border-primary/30 rounded-lg"}),y.jsx(_e.div,{animate:{y:[0,15,0],rotate:[0,-5,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute -bottom-6 -left-6 w-20 h-20 border border-tertiary/30 rounded-lg"})]})]}),y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:1},className:"absolute bottom-10 left-1/2 -translate-x-1/2 hidden md:block",children:y.jsx(_e.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0},className:"text-primary/50 text-sm font-mono",children:y.jsx("div",{className:"w-6 h-10 border-2 border-primary/30 rounded-full flex justify-center pt-2",children:y.jsx(_e.div,{animate:{y:[0,12,0],opacity:[1,0,1]},transition:{duration:1.5,repeat:1/0},className:"w-1 h-2 bg-primary/50 rounded-full"})})})}),y.jsx("style",{children:`
        .glitch {
          animation: glitch 0.3s;
        }
        
        @keyframes glitch {
          0%, 100% { transform: translate(0); }
          20% { transform: translate(-2px, 2px); }
          40% { transform: translate(-2px, -2px); }
          60% { transform: translate(2px, 2px); }
          80% { transform: translate(2px, -2px); }
        }
      `})]})},TI=Ht.createContext({}),SI=!0;function n6({baseColor:t,highlightColor:e,width:n,height:r,borderRadius:i,circle:a,direction:l,duration:c,enableAnimation:d=SI,customHighlightBackground:p}){const m={};return l==="rtl"&&(m["--animation-direction"]="reverse"),typeof c=="number"&&(m["--animation-duration"]=`${c}s`),d||(m["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(m.width=n),(typeof r=="string"||typeof r=="number")&&(m.height=r),(typeof i=="string"||typeof i=="number")&&(m.borderRadius=i),a&&(m.borderRadius="50%"),typeof t<"u"&&(m["--base-color"]=t),typeof e<"u"&&(m["--highlight-color"]=e),typeof p=="string"&&(m["--custom-highlight-background"]=p),m}function si({count:t=1,wrapper:e,className:n,containerClassName:r,containerTestId:i,circle:a=!1,style:l,...c}){var d,p,m;const v=Ht.useContext(TI),x={...c};for(const[O,K]of Object.entries(c))typeof K>"u"&&delete x[O];const S={...v,...x,circle:a},C={...l,...n6(S)};let P="react-loading-skeleton";n&&(P+=` ${n}`);const b=(d=S.inline)!==null&&d!==void 0?d:!1,L=[],B=Math.ceil(t);for(let O=0;O<B;O++){let K=C;if(B>t&&O===B-1){const Z=(p=K.width)!==null&&p!==void 0?p:"100%",N=t%1,A=typeof Z=="number"?Z*N:`calc(${Z} * ${N})`;K={...K,width:A}}const Q=Ht.createElement("span",{className:P,style:K,key:O},"");b?L.push(Q):L.push(Ht.createElement(Ht.Fragment,{key:O},Q,Ht.createElement("br",null)))}return Ht.createElement("span",{className:r,"data-testid":i,"aria-live":"polite","aria-busy":(m=S.enableAnimation)!==null&&m!==void 0?m:SI},e?L.map((O,K)=>Ht.createElement(e,{key:K},O)):L)}function Td({children:t,...e}){return Ht.createElement(TI.Provider,{value:e},t)}const r6=()=>{const t=R.useContext(ms),e=Fr(cn,"about"),[n,r]=R.useState({profile:{url:"",public_id:""},description:""}),[i,a]=R.useState(!0),[l,c]=R.useState("");R.useEffect(()=>{(async()=>{try{const v=await fo(e),x=v.docs[0].data();c(v.docs[0].id),r(x),a(!1)}catch(v){console.error(v)}})()},[]);const[d,p]=R.useState("profile");return y.jsxs("div",{className:"min-h-screen py-20 px-4 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-navy/50 to-transparent pointer-events-none"}),y.jsxs("div",{className:"w-full max-w-6xl mx-auto relative z-10",children:[y.jsxs(_e.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-8 md:mb-16",children:[y.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-200 mb-2 font-mono tracking-tighter",children:[y.jsx("span",{className:"text-primary",children:"$"})," cat about.txt"]}),y.jsx("div",{className:"h-1 w-20 bg-primary"})]}),t&&y.jsxs("div",{className:"flex gap-4 mb-8 border-b border-primary/20 pb-2",children:[y.jsx("button",{onClick:()=>p("profile"),className:`font-mono text-sm px-4 py-2 rounded transition-all ${d==="profile"?"bg-primary/20 text-primary border border-primary/50":"text-slate-400 hover:text-slate-200"}`,children:"profile.jpg"}),y.jsx("button",{onClick:()=>p("details"),className:`font-mono text-sm px-4 py-2 rounded transition-all ${d==="details"?"bg-primary/20 text-primary border border-primary/50":"text-slate-400 hover:text-slate-200"}`,children:"README.md"})]}),y.jsxs("div",{className:`${t?"block":"grid md:grid-cols-2 gap-12"} items-start`,children:[(!t||d==="profile")&&y.jsxs(_e.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"relative group",children:[y.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 to-tertiary/20 rounded-lg blur-xl opacity-50 group-hover:opacity-75 transition duration-500"}),y.jsxs("div",{className:"relative bg-light-navy/80 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"bg-lightest-navy/50 px-4 py-3 flex items-center gap-2 border-b border-primary/20",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),y.jsx("span",{className:"ml-4 text-xs text-slate-400 font-mono",children:"profile.jpg"})]}),y.jsx("div",{className:"p-6",children:i?y.jsx(Td,{baseColor:"#112240",highlightColor:"#233554",children:y.jsx(si,{height:400,borderRadius:8})}):y.jsxs(_e.div,{whileHover:{scale:1.02},className:"relative overflow-hidden rounded-lg border border-primary/20",children:[y.jsx("img",{src:n.profile.url,alt:"Profile",className:"w-full h-auto object-cover grayscale hover:grayscale-0 transition-all duration-500"}),y.jsx(_e.div,{animate:{y:[-400,400]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-b from-transparent via-primary/10 to-transparent h-20"})]})}),y.jsx("div",{className:"bg-lightest-navy/30 px-4 py-2 border-t border-primary/20 font-mono text-xs text-slate-400",children:y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("span",{children:[y.jsx("span",{className:"text-primary",children:""})," STATUS: ACTIVE"]}),y.jsxs("span",{children:[y.jsx("span",{className:"text-tertiary",children:""})," ROLE: DEV"]})]})})]})]}),(!t||d==="details")&&y.jsx(_e.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"space-y-6",children:i?y.jsx(Td,{baseColor:"#112240",highlightColor:"#233554",children:y.jsx(si,{count:8})}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"bg-light-navy/40 backdrop-blur-sm border border-primary/20 rounded-lg p-6",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4 text-primary font-mono text-sm",children:[y.jsx("span",{className:"animate-pulse",children:">"}),y.jsx("span",{children:"README.md"})]}),y.jsx("div",{className:"text-slate-300 leading-relaxed space-y-4",children:n.description.split(`
`).map((m,v)=>y.jsx(_e.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:v*.1},className:"text-base",children:m},v))})]}),y.jsx("div",{className:"bg-light-navy/40 backdrop-blur-sm border border-tertiary/20 rounded-lg p-4",children:y.jsxs("div",{className:"font-mono text-xs text-slate-400 space-y-2",children:[y.jsx("p",{className:"text-tertiary mb-2",children:"// TECH_STACK"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:["Java","Spring Boot","React","Node.js","MySQL"].map((m,v)=>y.jsx(_e.span,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:.5+v*.1},className:"px-3 py-1 bg-navy/50 border border-primary/30 rounded text-primary text-xs",children:m},v))})]})})]})})]})]})]})},s6=()=>{const t=R.useContext(ms),[e,n]=R.useState(!0),r=Fr(cn,"projects"),[i,a]=R.useState([]),[l,c]=R.useState(null);return R.useEffect(()=>{(async()=>{try{const v=(await fo(r)).docs.map(x=>({id:x.id,data:x.data()})).sort((x,S)=>x.data.order-S.data.order);a(v),n(!1)}catch(p){console.error(p)}})()},[]),y.jsxs("div",{className:"relative w-full py-20 px-4 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),y.jsxs("div",{className:"w-full max-w-6xl mx-auto relative z-10",children:[y.jsxs(_e.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-8 md:mb-16 flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-200 mb-2 font-mono tracking-tighter",children:[y.jsx("span",{className:"text-primary",children:"$"})," cat projects.log"]}),y.jsx("div",{className:"h-1 w-20 bg-primary"})]}),t&&!e&&y.jsxs(_e.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{repeat:1/0,duration:1.5,repeatType:"reverse"},className:"flex items-center gap-1 text-primary font-mono text-xs mb-2",children:[y.jsx("span",{children:"Swipe"}),y.jsx(xd,{}),y.jsx(xd,{className:"-ml-1"})]})]}),y.jsx("div",{className:`${t?"flex overflow-x-auto snap-x snap-mandatory gap-4 pb-8 -mx-4 px-4 scrollbar-hide":"relative"}`,children:e?[1,2].map((d,p)=>y.jsx("div",{className:`bg-light-navy/40 border border-primary/30 rounded-lg p-6 ${t?"min-w-[85vw] snap-center":""}`,children:y.jsxs(Td,{baseColor:"#112240",highlightColor:"#233554",children:[y.jsx(si,{height:40,width:300,className:"mb-4"}),y.jsx(si,{count:3,className:"mb-2"}),y.jsx(si,{height:200,borderRadius:8,className:"mt-4"})]})},p)):t?i.map((d,p)=>y.jsx("div",{className:"min-w-[85vw] snap-center",children:y.jsxs(_e.div,{whileTap:{scale:.98},onClick:()=>c(d),className:"relative bg-light-navy/60 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-lg h-[400px] flex flex-col",children:[y.jsxs("div",{className:"h-3/5 relative overflow-hidden",children:[y.jsx("img",{src:d.data.image.url,alt:d.data.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-navy/90 to-transparent"}),y.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[y.jsxs("div",{className:"font-mono text-xs text-primary mb-1",children:["// PROJECT_",String(p+1).padStart(2,"0")]}),y.jsx("h3",{className:"text-2xl font-bold text-slate-100 font-mono leading-tight",children:d.data.title})]})]}),y.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-between bg-navy/40",children:[y.jsx("p",{className:"text-slate-400 text-sm line-clamp-3 font-sans",children:d.data.description}),y.jsxs("div",{className:"flex items-center gap-2 text-primary text-xs font-mono mt-4",children:[y.jsx("span",{children:"[TAP TO VIEW DETAILS]"}),y.jsx(EI,{className:"w-3 h-3"})]})]})]})},d.id)):y.jsx(a6,{items:i,renderItem:(d,p)=>y.jsx(o6,{project:d,index:p,isMobile:t})})})]}),y.jsx(ao,{children:l&&y.jsx(i6,{project:l,onClose:()=>c(null)})})]})},i6=({project:t,onClose:e})=>typeof document>"u"?null:GE.createPortal(y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[99999] flex items-center justify-center p-4 bg-navy/80 backdrop-blur-sm",onClick:e,children:y.jsxs(_e.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-light-navy border border-primary/30 rounded-xl overflow-hidden w-full max-w-lg max-h-[90vh] flex flex-col shadow-2xl relative",onClick:n=>n.stopPropagation(),children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 p-2 bg-navy/50 rounded-full text-slate-300 hover:text-white hover:bg-red-500/20 transition-colors",children:y.jsx(gi,{})}),y.jsxs("div",{className:"h-48 sm:h-64 relative shrink-0",children:[y.jsx("img",{src:t.data.image.url,alt:t.data.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-light-navy to-transparent"}),y.jsx("div",{className:"absolute bottom-4 left-6",children:y.jsx("h3",{className:"text-3xl font-bold text-slate-100 font-mono tracking-tight shadow-black drop-shadow-lg",children:t.data.title})})]}),y.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[y.jsx("div",{className:"font-mono text-xs text-primary/70 mb-4",children:"// PROJECT DETAILS"}),y.jsx("div",{className:"bg-navy/30 border border-primary/10 rounded-lg p-4 mb-6",children:y.jsx("p",{className:"text-slate-300 text-sm leading-relaxed whitespace-pre-wrap",children:t.data.description})}),y.jsx("a",{href:t.data.link,target:"_blank",rel:"noreferrer",className:"block w-full text-center py-3 bg-primary/10 border border-primary text-primary font-mono font-bold rounded hover:bg-primary hover:text-navy transition-all active:scale-95",children:"[ LAUNCH PROJECT ]"})]})]})}),document.body),o6=({project:t,index:e,isMobile:n})=>{const r=R.useRef(null),{scrollYProgress:i}=gI({target:r,offset:["start end","end start"]}),a=ri(i,[0,1],[50,-50]),l=ri(i,[0,.2,.8,1],[0,1,1,0]);return y.jsx(_e.div,{ref:r,style:{opacity:l},initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"relative bg-light-navy/40 backdrop-blur-md border border-primary/30 rounded-xl overflow-hidden mb-20 shadow-2xl group min-h-[500px]",children:y.jsxs("div",{className:"grid md:grid-cols-2 h-full",children:[y.jsxs(_e.div,{style:{y:a},className:"relative h-64 md:h-full overflow-hidden",children:[y.jsx("img",{src:t.data.image.url,alt:t.data.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-navy/60 to-transparent"})]}),y.jsxs("div",{className:"p-8 flex flex-col justify-center",children:[y.jsxs("div",{className:"font-mono text-xs text-primary mb-2",children:["// PROJECT_",String(e+1).padStart(2,"0")]}),y.jsx("h3",{className:"text-3xl font-bold text-slate-100 mb-4 font-mono",children:t.data.title}),y.jsx("p",{className:"text-slate-400 mb-6 leading-relaxed",children:t.data.description}),y.jsxs("a",{href:t.data.link,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-primary hover:text-white transition-colors font-mono font-bold",children:["[ VIEW PROJECT ]",y.jsx(EI,{className:"w-4 h-4"})]})]})]})})},a6=({items:t,renderItem:e})=>{const[n,r]=R.useState(0),[i,a]=R.useState(!1);return R.useEffect(()=>{if(i||t.length===0)return;const l=setInterval(()=>{r(c=>(c+1)%t.length)},5e3);return()=>clearInterval(l)},[i,t.length]),y.jsxs("div",{className:"relative",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[y.jsx(_e.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:(l,{offset:c,velocity:d})=>{c.x>100&&n>0?r(n-1):c.x<-100&&n<t.length-1&&r(n+1)},children:e(t[n],n)},n),y.jsx("div",{className:"flex justify-center gap-2 mt-6",children:t.map((l,c)=>y.jsx("button",{onClick:()=>r(c),className:`h-2 rounded-full transition-all ${c===n?"w-8 bg-primary":"w-2 bg-slate-600 hover:bg-slate-500"}`},c))})]})},l6=()=>{const t=R.useContext(ms),[e,n]=R.useState([]),[r,i]=R.useState(!0),a=["core","frontend","backend","database","devops","tools"];return R.useEffect(()=>{(async()=>{try{const d=(await fo(Fr(cn,"skills"))).docs.map(p=>({id:p.id,...p.data()}));n(d)}catch(c){console.error("Error fetching skills:",c)}finally{i(!1)}})()},[]),r?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-navy",children:y.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})}):y.jsxs("div",{className:"min-h-screen py-20 px-4 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),[...Array(30)].map((l,c)=>y.jsx(_e.div,{className:"absolute w-1 h-1 bg-primary/20 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-50,0],opacity:[.2,.5,.2]},transition:{duration:4+Math.random()*3,repeat:1/0,delay:Math.random()*2}},c)),y.jsxs("div",{className:"w-full max-w-7xl mx-auto relative z-10",children:[y.jsxs(_e.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-8 md:mb-16 text-center",children:[y.jsxs("h2",{className:"text-3xl md:text-5xl font-bold text-slate-200 mb-2 font-mono tracking-tighter",children:[y.jsx("span",{className:"text-primary",children:"$"})," ls -R ./skills"]}),y.jsx("div",{className:"h-1 w-20 bg-primary mx-auto mb-4"}),y.jsx("p",{className:"text-slate-400 font-mono text-xs md:text-sm",children:"// Categorized technical proficiency breakdown"}),t&&y.jsxs(_e.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{repeat:1/0,duration:1.5,repeatType:"reverse"},className:"flex items-center justify-center gap-1 text-primary font-mono text-xs mt-4",children:[y.jsx("span",{children:"Swipe Categories"}),y.jsxs("div",{className:"flex",children:[y.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),y.jsx("svg",{className:"w-3 h-3 -ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),y.jsx("div",{className:t?"flex overflow-x-auto snap-x snap-mandatory gap-6 pb-8 -mx-4 px-4 scrollbar-hide":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((l,c)=>{const d=e.filter(p=>p.category===l);return d.length===0?null:y.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:c*.1},className:`${t?"min-w-[85vw] snap-center":"w-full"} bg-light-navy/60 backdrop-blur-md border border-primary/30 rounded-xl overflow-hidden shadow-lg flex flex-col hover:border-primary/60 transition-colors duration-300`,children:[y.jsxs("div",{className:"bg-lightest-navy/50 px-4 py-3 border-b border-primary/20 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),y.jsx("h3",{className:"text-primary font-mono text-lg font-bold uppercase tracking-wider",children:l})]}),y.jsx("div",{className:"p-6 grid grid-cols-2 gap-4",children:d.map((p,m)=>{var v;return y.jsxs(_e.div,{whileHover:{scale:1.05},className:"bg-navy/40 border border-primary/20 rounded-lg p-3 flex flex-col items-center justify-center text-center relative overflow-hidden group",children:[y.jsx("div",{className:"absolute inset-0 bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),y.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mb-2 relative z-10 overflow-hidden",style:{backgroundColor:`${p.color}20`,color:p.color},children:(v=p.image)!=null&&v.url?y.jsx("img",{src:p.image.url,alt:p.name,className:"w-full h-full object-cover"}):y.jsx("span",{className:"font-bold text-base",children:p.name.charAt(0)})}),y.jsx("h3",{className:"text-slate-200 font-bold text-xs mb-1 relative z-10",children:p.name}),y.jsx("div",{className:"w-full bg-navy/80 h-1 rounded-full overflow-hidden relative z-10",children:y.jsx("div",{className:"h-full rounded-full",style:{width:`${p.level}%`,backgroundColor:p.color}})})]},p.id)})}),y.jsx("div",{className:"mt-auto bg-navy/30 px-4 py-2 border-t border-primary/10 text-right",children:y.jsxs("span",{className:"text-[10px] text-primary/50 font-mono",children:[d.length," modules loaded"]})})]},l)})}),y.jsx(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.8},className:"mt-12 grid grid-cols-2 md:grid-cols-5 gap-4",children:["core","backend","frontend","database","devops"].map(l=>{const c=e.filter(p=>p.category===l);if(c.length===0)return null;const d=Math.floor(c.reduce((p,m)=>p+m.level,0)/c.length);return y.jsxs("div",{className:"bg-light-navy/40 backdrop-blur-sm border border-primary/20 rounded-lg p-4 text-center hover:bg-light-navy/60 transition-colors",children:[y.jsxs("div",{className:"text-primary font-mono text-xl md:text-2xl font-bold mb-1",children:[d,"%"]}),y.jsx("div",{className:"text-slate-400 font-mono text-xs capitalize",children:l}),y.jsxs("div",{className:"text-slate-600 font-mono text-xs mt-1",children:[c.length," skills"]})]},l)})})]})]})},u6=()=>{const[t,e]=R.useState(!0),[n,r]=R.useState(null),i=Fr(cn,"experiences"),[a,l]=R.useState([{id:"",data:{companyName:"",duration:"",role:"",desc:"",order:0}}]);R.useEffect(()=>{(async()=>{try{const p=await fo(i);if(p.docs.length==0)return;const v=p.docs.map(x=>({id:x.id,data:x.data()})).sort((x,S)=>x.data.order-S.data.order);l(v),e(!1)}catch(p){console.error(p)}})()},[]);const c=R.useContext(ms);return y.jsxs("div",{className:"min-h-screen py-20 px-4 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),y.jsxs("div",{className:"w-full max-w-5xl mx-auto relative z-10",children:[y.jsxs(_e.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-8 md:mb-16 flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-200 mb-2 font-mono tracking-tighter",children:[y.jsx("span",{className:"text-primary",children:"$"})," git log --experience"]}),y.jsx("div",{className:"h-1 w-20 bg-primary"})]}),c&&!t&&y.jsxs(_e.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{repeat:1/0,duration:1.5,repeatType:"reverse"},className:"flex items-center gap-1 text-primary font-mono text-xs mb-2",children:[y.jsx("span",{children:"Swipe"}),y.jsx(xd,{}),y.jsx(xd,{className:"-ml-1"})]})]}),y.jsx("div",{className:`${c?"flex overflow-x-auto snap-x snap-mandatory gap-4 pb-8 -mx-4 px-4 scrollbar-hide":"relative"}`,children:t?[1,2].map((d,p)=>y.jsx("div",{className:`bg-light-navy/40 border border-primary/30 rounded-lg p-6 ${c?"min-w-[85vw] snap-center":""}`,children:y.jsxs(Td,{baseColor:"#112240",highlightColor:"#233554",children:[y.jsx(si,{width:200,height:30,className:"mb-2"}),y.jsx(si,{width:150,height:20,className:"mb-4"}),y.jsx(si,{count:3})]})},p)):c?a.map((d,p)=>y.jsx(_e.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:p*.1},className:"min-w-[85vw] snap-center",children:y.jsxs(_e.div,{whileTap:{scale:.98},onClick:()=>r(d),className:"relative bg-light-navy/60 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-lg h-[250px] p-6 flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),y.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:["commit_",String(p+1).padStart(2,"0")]})]}),y.jsx("h3",{className:"text-xl font-bold text-slate-100 mb-1 line-clamp-1",children:d.data.companyName}),y.jsx("div",{className:"text-primary text-xs mb-2",children:d.data.duration}),y.jsx("div",{className:"text-green-400 text-sm font-mono line-clamp-1",children:d.data.role})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-slate-400 text-xs line-clamp-3 mb-4 font-sans",children:d.data.desc}),y.jsx("div",{className:"text-primary text-xs font-mono text-right",children:"[TAP FOR DETAILS]"})]})]})},d.id)):y.jsx(h6,{items:a,renderItem:(d,p)=>y.jsxs("div",{className:"relative group h-full p-4",children:[y.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary/10 to-transparent rounded-lg blur opacity-0 group-hover:opacity-75 transition duration-500"}),y.jsxs("div",{className:"relative bg-light-navy/60 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-lg h-full min-h-[400px]",children:[y.jsxs("div",{className:"bg-lightest-navy/50 px-4 py-3 flex items-center gap-2 border-b border-primary/20",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),y.jsxs("span",{className:"ml-4 text-xs text-slate-400 font-mono",children:["commit_",String(p+1).padStart(2,"0"),".log"]})]}),y.jsx("div",{className:"p-8 font-mono",children:y.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[y.jsx("span",{className:"text-tertiary",children:"commit"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"text-3xl font-bold text-slate-100 mb-2",children:d.data.companyName}),y.jsx("div",{className:"text-primary text-sm mb-4",children:d.data.duration}),y.jsxs("div",{className:"text-green-400 text-lg mb-6",children:[y.jsx("span",{className:"text-slate-500 text-sm",children:"Author:"})," ",d.data.role]}),y.jsx("div",{className:"bg-navy/50 border border-primary/20 rounded p-6 mt-4",children:y.jsx("p",{className:"text-slate-300 text-base leading-relaxed font-sans",children:d.data.desc})})]})]})}),y.jsx("div",{className:"bg-lightest-navy/30 px-4 py-2 border-t border-primary/20 font-mono text-xs text-slate-400 absolute bottom-0 w-full",children:y.jsxs("span",{children:[y.jsx("span",{className:"text-primary",children:""})," branch: main"]})})]})]})})})]}),y.jsx(ao,{children:n&&y.jsx(c6,{exp:n,onClose:()=>r(null)})})]})},c6=({exp:t,onClose:e})=>typeof document>"u"?null:GE.createPortal(y.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[99999] flex items-center justify-center p-4 bg-navy/80 backdrop-blur-sm",onClick:e,children:y.jsxs(_e.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-light-navy border border-primary/30 rounded-xl overflow-hidden w-full max-w-lg max-h-[80vh] flex flex-col shadow-2xl relative",onClick:n=>n.stopPropagation(),children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 p-2 bg-navy/50 rounded-full text-slate-300 hover:text-white hover:bg-red-500/20 transition-colors",children:y.jsx(gi,{})}),y.jsxs("div",{className:"bg-lightest-navy/50 px-6 py-6 border-b border-primary/20",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),y.jsx("h3",{className:"text-2xl font-bold text-slate-100 font-mono mb-1",children:t.data.companyName}),y.jsx("div",{className:"text-primary text-sm font-mono",children:t.data.duration})]}),y.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("span",{className:"text-slate-500 font-mono text-xs block mb-1",children:"ROLE"}),y.jsx("div",{className:"text-green-400 font-bold text-lg",children:t.data.role})]}),y.jsx("div",{className:"bg-navy/30 border border-primary/10 rounded-lg p-4",children:y.jsx("p",{className:"text-slate-300 text-sm leading-relaxed whitespace-pre-wrap font-sans",children:t.data.desc})})]})]})}),document.body),h6=({items:t,renderItem:e})=>{const[n,r]=R.useState(0),[i,a]=R.useState(!1);R.useEffect(()=>{if(i)return;const c=setInterval(()=>{r(d=>(d+1)%t.length)},5e3);return()=>clearInterval(c)},[t.length,i]);const l=(c,d)=>{d.offset.x<-100?r(p=>(p+1)%t.length):d.offset.x>100&&r(p=>(p-1+t.length)%t.length)};return y.jsxs("div",{className:"relative overflow-hidden min-h-[500px]",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[y.jsx("div",{className:"absolute top-0 right-0 z-20 flex gap-2 mb-4",children:t.map((c,d)=>y.jsx("button",{onClick:()=>r(d),className:`w-3 h-1 rounded-full transition-all duration-300 ${d===n?"bg-primary w-8":"bg-primary/20 hover:bg-primary/50"}`},d))}),y.jsx(ao,{mode:"wait",children:y.jsx(_e.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5,ease:"easeInOut"},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:l,className:"w-full cursor-grab active:cursor-grabbing",children:e(t[n],n)},n)})]})};function bI(t,e){return function(){return t.apply(e,arguments)}}const{toString:d6}=Object.prototype,{getPrototypeOf:lv}=Object,sf=(t=>e=>{const n=d6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mr=t=>(t=t.toLowerCase(),e=>sf(e)===t),of=t=>e=>typeof e===t,{isArray:Qa}=Array,Ru=of("undefined");function f6(t){return t!==null&&!Ru(t)&&t.constructor!==null&&!Ru(t.constructor)&&Nn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const II=mr("ArrayBuffer");function p6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&II(t.buffer),e}const m6=of("string"),Nn=of("function"),CI=of("number"),af=t=>t!==null&&typeof t=="object",g6=t=>t===!0||t===!1,Wh=t=>{if(sf(t)!=="object")return!1;const e=lv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},y6=mr("Date"),v6=mr("File"),w6=mr("Blob"),_6=mr("FileList"),x6=t=>af(t)&&Nn(t.pipe),E6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Nn(t.append)&&((e=sf(t))==="formdata"||e==="object"&&Nn(t.toString)&&t.toString()==="[object FormData]"))},T6=mr("URLSearchParams"),[S6,b6,I6,C6]=["ReadableStream","Request","Response","Headers"].map(mr),A6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Qa(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let c;for(r=0;r<l;r++)c=a[r],e.call(null,t[c],c,t)}}function AI(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Xi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RI=t=>!Ru(t)&&t!==Xi;function xg(){const{caseless:t}=RI(this)&&this||{},e={},n=(r,i)=>{const a=t&&AI(e,i)||i;Wh(e[a])&&Wh(r)?e[a]=xg(e[a],r):Wh(r)?e[a]=xg({},r):Qa(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Gu(arguments[r],n);return e}const R6=(t,e,n,{allOwnKeys:r}={})=>(Gu(e,(i,a)=>{n&&Nn(i)?t[a]=bI(i,n):t[a]=i},{allOwnKeys:r}),t),P6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),k6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},N6=(t,e,n,r)=>{let i,a,l;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)l=i[a],(!r||r(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&lv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},D6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},L6=t=>{if(!t)return null;if(Qa(t))return t;let e=t.length;if(!CI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},V6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&lv(Uint8Array)),O6=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},M6=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},j6=mr("HTMLFormElement"),F6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),DE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),U6=mr("RegExp"),PI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Gu(n,(i,a)=>{let l;(l=e(i,a,t))!==!1&&(r[a]=l||i)}),Object.defineProperties(t,r)},B6=t=>{PI(t,(e,n)=>{if(Nn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Nn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},z6=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Qa(t)?r(t):r(String(t).split(e)),n},$6=()=>{},H6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function W6(t){return!!(t&&Nn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const q6=t=>{const e=new Array(10),n=(r,i)=>{if(af(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=Qa(r)?[]:{};return Gu(r,(l,c)=>{const d=n(l,i+1);!Ru(d)&&(a[c]=d)}),e[i]=void 0,a}}return r};return n(t,0)},K6=mr("AsyncFunction"),G6=t=>t&&(af(t)||Nn(t))&&Nn(t.then)&&Nn(t.catch),kI=((t,e)=>t?setImmediate:e?((n,r)=>(Xi.addEventListener("message",({source:i,data:a})=>{i===Xi&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Xi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Nn(Xi.postMessage)),Q6=typeof queueMicrotask<"u"?queueMicrotask.bind(Xi):typeof process<"u"&&process.nextTick||kI,X={isArray:Qa,isArrayBuffer:II,isBuffer:f6,isFormData:E6,isArrayBufferView:p6,isString:m6,isNumber:CI,isBoolean:g6,isObject:af,isPlainObject:Wh,isReadableStream:S6,isRequest:b6,isResponse:I6,isHeaders:C6,isUndefined:Ru,isDate:y6,isFile:v6,isBlob:w6,isRegExp:U6,isFunction:Nn,isStream:x6,isURLSearchParams:T6,isTypedArray:V6,isFileList:_6,forEach:Gu,merge:xg,extend:R6,trim:A6,stripBOM:P6,inherits:k6,toFlatObject:N6,kindOf:sf,kindOfTest:mr,endsWith:D6,toArray:L6,forEachEntry:O6,matchAll:M6,isHTMLForm:j6,hasOwnProperty:DE,hasOwnProp:DE,reduceDescriptors:PI,freezeMethods:B6,toObjectSet:z6,toCamelCase:F6,noop:$6,toFiniteNumber:H6,findKey:AI,global:Xi,isContextDefined:RI,isSpecCompliantForm:W6,toJSONObject:q6,isAsyncFn:K6,isThenable:G6,setImmediate:kI,asap:Q6};function Re(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}X.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const NI=Re.prototype,DI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{DI[t]={value:t}});Object.defineProperties(Re,DI);Object.defineProperty(NI,"isAxiosError",{value:!0});Re.from=(t,e,n,r,i,a)=>{const l=Object.create(NI);return X.toFlatObject(t,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Re.call(l,t.message,e,n,r,i),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const Y6=null;function Eg(t){return X.isPlainObject(t)||X.isArray(t)}function LI(t){return X.endsWith(t,"[]")?t.slice(0,-2):t}function LE(t,e,n){return t?t.concat(e).map(function(i,a){return i=LI(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function X6(t){return X.isArray(t)&&!t.some(Eg)}const J6=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function lf(t,e,n){if(!X.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,b){return!X.isUndefined(b[P])});const r=n.metaTokens,i=n.visitor||m,a=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(i))throw new TypeError("visitor must be a function");function p(C){if(C===null)return"";if(X.isDate(C))return C.toISOString();if(!d&&X.isBlob(C))throw new Re("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(C)||X.isTypedArray(C)?d&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function m(C,P,b){let L=C;if(C&&!b&&typeof C=="object"){if(X.endsWith(P,"{}"))P=r?P:P.slice(0,-2),C=JSON.stringify(C);else if(X.isArray(C)&&X6(C)||(X.isFileList(C)||X.endsWith(P,"[]"))&&(L=X.toArray(C)))return P=LI(P),L.forEach(function(O,K){!(X.isUndefined(O)||O===null)&&e.append(l===!0?LE([P],K,a):l===null?P:P+"[]",p(O))}),!1}return Eg(C)?!0:(e.append(LE(b,P,a),p(C)),!1)}const v=[],x=Object.assign(J6,{defaultVisitor:m,convertValue:p,isVisitable:Eg});function S(C,P){if(!X.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+P.join("."));v.push(C),X.forEach(C,function(L,B){(!(X.isUndefined(L)||L===null)&&i.call(e,L,X.isString(B)?B.trim():B,P,x))===!0&&S(L,P?P.concat(B):[B])}),v.pop()}}if(!X.isObject(t))throw new TypeError("data must be an object");return S(t),e}function VE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function uv(t,e){this._pairs=[],t&&lf(t,this,e)}const VI=uv.prototype;VI.append=function(e,n){this._pairs.push([e,n])};VI.toString=function(e){const n=e?function(r){return e.call(this,r,VE)}:VE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Z6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function OI(t,e,n){if(!e)return t;const r=n&&n.encode||Z6;X.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=X.isURLSearchParams(e)?e.toString():new uv(e,n).toString(r),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class OE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(r){r!==null&&e(r)})}}const MI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eF=typeof URLSearchParams<"u"?URLSearchParams:uv,tF=typeof FormData<"u"?FormData:null,nF=typeof Blob<"u"?Blob:null,rF={isBrowser:!0,classes:{URLSearchParams:eF,FormData:tF,Blob:nF},protocols:["http","https","file","blob","url","data"]},cv=typeof window<"u"&&typeof document<"u",Tg=typeof navigator=="object"&&navigator||void 0,sF=cv&&(!Tg||["ReactNative","NativeScript","NS"].indexOf(Tg.product)<0),iF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oF=cv&&window.location.href||"http://localhost",aF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cv,hasStandardBrowserEnv:sF,hasStandardBrowserWebWorkerEnv:iF,navigator:Tg,origin:oF},Symbol.toStringTag,{value:"Module"})),tn={...aF,...rF};function lF(t,e){return lf(t,new tn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return tn.isNode&&X.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function uF(t){return X.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function cF(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function jI(t){function e(n,r,i,a){let l=n[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=a>=n.length;return l=!l&&X.isArray(i)?i.length:l,d?(X.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!c):((!i[l]||!X.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],a)&&X.isArray(i[l])&&(i[l]=cF(i[l])),!c)}if(X.isFormData(t)&&X.isFunction(t.entries)){const n={};return X.forEachEntry(t,(r,i)=>{e(uF(r),i,n,0)}),n}return null}function hF(t,e,n){if(X.isString(t))try{return(e||JSON.parse)(t),X.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Qu={transitional:MI,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=X.isObject(e);if(a&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return i?JSON.stringify(jI(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return lF(e,this.formSerializer).toString();if((c=X.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return lf(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),hF(e)):e}],transformResponse:[function(e){const n=this.transitional||Qu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Re.from(c,Re.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tn.classes.FormData,Blob:tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],t=>{Qu.headers[t]={}});const dF=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fF=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&dF[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},ME=Symbol("internals");function Ql(t){return t&&String(t).trim().toLowerCase()}function qh(t){return t===!1||t==null?t:X.isArray(t)?t.map(qh):String(t)}function pF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const mF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Em(t,e,n,r,i){if(X.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!X.isString(e)){if(X.isString(r))return e.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(e)}}function gF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function yF(t,e){const n=X.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,l){return this[r].call(this,e,i,a,l)},configurable:!0})})}let Tn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(c,d,p){const m=Ql(d);if(!m)throw new Error("header name must be a non-empty string");const v=X.findKey(i,m);(!v||i[v]===void 0||p===!0||p===void 0&&i[v]!==!1)&&(i[v||d]=qh(c))}const l=(c,d)=>X.forEach(c,(p,m)=>a(p,m,d));if(X.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(X.isString(e)&&(e=e.trim())&&!mF(e))l(fF(e),n);else if(X.isHeaders(e))for(const[c,d]of e.entries())a(d,c,r);else e!=null&&a(n,e,r);return this}get(e,n){if(e=Ql(e),e){const r=X.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return pF(i);if(X.isFunction(n))return n.call(this,i,r);if(X.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ql(e),e){const r=X.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Em(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(l){if(l=Ql(l),l){const c=X.findKey(r,l);c&&(!n||Em(r,r[c],c,n))&&(delete r[c],i=!0)}}return X.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||Em(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return X.forEach(this,(i,a)=>{const l=X.findKey(r,a);if(l){n[l]=qh(i),delete n[a];return}const c=e?gF(a):String(a).trim();c!==a&&delete n[a],n[c]=qh(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return X.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&X.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[ME]=this[ME]={accessors:{}}).accessors,i=this.prototype;function a(l){const c=Ql(l);r[c]||(yF(i,l),r[c]=!0)}return X.isArray(e)?e.forEach(a):a(e),this}};Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Tn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});X.freezeMethods(Tn);function Tm(t,e){const n=this||Qu,r=e||n,i=Tn.from(r.headers);let a=r.data;return X.forEach(t,function(c){a=c.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function FI(t){return!!(t&&t.__CANCEL__)}function Ya(t,e,n){Re.call(this,t??"canceled",Re.ERR_CANCELED,e,n),this.name="CanceledError"}X.inherits(Ya,Re,{__CANCEL__:!0});function UI(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Re("Request failed with status code "+n.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function vF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wF(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,l;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),m=r[a];l||(l=p),n[i]=d,r[i]=p;let v=a,x=0;for(;v!==i;)x+=n[v++],v=v%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),p-l<e)return;const S=m&&p-m;return S?Math.round(x*1e3/S):void 0}}function _F(t,e){let n=0,r=1e3/e,i,a;const l=(p,m=Date.now())=>{n=m,i=null,a&&(clearTimeout(a),a=null),t.apply(null,p)};return[(...p)=>{const m=Date.now(),v=m-n;v>=r?l(p,m):(i=p,a||(a=setTimeout(()=>{a=null,l(i)},r-v)))},()=>i&&l(i)]}const Sd=(t,e,n=3)=>{let r=0;const i=wF(50,250);return _F(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,d=l-r,p=i(d),m=l<=c;r=l;const v={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:p||void 0,estimated:p&&c&&m?(c-l)/p:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(v)},n)},jE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},FE=t=>(...e)=>X.asap(()=>t(...e)),xF=tn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,tn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(tn.origin),tn.navigator&&/(msie|trident)/i.test(tn.navigator.userAgent)):()=>!0,EF=tn.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const l=[t+"="+encodeURIComponent(e)];X.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),X.isString(r)&&l.push("path="+r),X.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function TF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function SF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function BI(t,e,n){let r=!TF(e);return t&&(r||n==!1)?SF(t,e):e}const UE=t=>t instanceof Tn?{...t}:t;function lo(t,e){e=e||{};const n={};function r(p,m,v,x){return X.isPlainObject(p)&&X.isPlainObject(m)?X.merge.call({caseless:x},p,m):X.isPlainObject(m)?X.merge({},m):X.isArray(m)?m.slice():m}function i(p,m,v,x){if(X.isUndefined(m)){if(!X.isUndefined(p))return r(void 0,p,v,x)}else return r(p,m,v,x)}function a(p,m){if(!X.isUndefined(m))return r(void 0,m)}function l(p,m){if(X.isUndefined(m)){if(!X.isUndefined(p))return r(void 0,p)}else return r(void 0,m)}function c(p,m,v){if(v in e)return r(p,m);if(v in t)return r(void 0,p)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(p,m,v)=>i(UE(p),UE(m),v,!0)};return X.forEach(Object.keys(Object.assign({},t,e)),function(m){const v=d[m]||i,x=v(t[m],e[m],m);X.isUndefined(x)&&v!==c||(n[m]=x)}),n}const zI=t=>{const e=lo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:c}=e;e.headers=l=Tn.from(l),e.url=OI(BI(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(X.isFormData(n)){if(tn.hasStandardBrowserEnv||tn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[p,...m]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...m].join("; "))}}if(tn.hasStandardBrowserEnv&&(r&&X.isFunction(r)&&(r=r(e)),r||r!==!1&&xF(e.url))){const p=i&&a&&EF.read(a);p&&l.set(i,p)}return e},bF=typeof XMLHttpRequest<"u",IF=bF&&function(t){return new Promise(function(n,r){const i=zI(t);let a=i.data;const l=Tn.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:p}=i,m,v,x,S,C;function P(){S&&S(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function L(){if(!b)return;const O=Tn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),Q={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:O,config:t,request:b};UI(function(N){n(N),P()},function(N){r(N),P()},Q),b=null}"onloadend"in b?b.onloadend=L:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(L)},b.onabort=function(){b&&(r(new Re("Request aborted",Re.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new Re("Network Error",Re.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let K=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Q=i.transitional||MI;i.timeoutErrorMessage&&(K=i.timeoutErrorMessage),r(new Re(K,Q.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,t,b)),b=null},a===void 0&&l.setContentType(null),"setRequestHeader"in b&&X.forEach(l.toJSON(),function(K,Q){b.setRequestHeader(Q,K)}),X.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),c&&c!=="json"&&(b.responseType=i.responseType),p&&([x,C]=Sd(p,!0),b.addEventListener("progress",x)),d&&b.upload&&([v,S]=Sd(d),b.upload.addEventListener("progress",v),b.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(m=O=>{b&&(r(!O||O.type?new Ya(null,t,b):O),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const B=vF(i.url);if(B&&tn.protocols.indexOf(B)===-1){r(new Re("Unsupported protocol "+B+":",Re.ERR_BAD_REQUEST,t));return}b.send(a||null)})},CF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(p){if(!i){i=!0,c();const m=p instanceof Error?p:this.reason;r.abort(m instanceof Re?m:new Ya(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,a(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),t=null)};t.forEach(p=>p.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>X.asap(c),d}},AF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},RF=async function*(t,e){for await(const n of PF(t))yield*AF(n,e)},PF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},BE=(t,e,n,r)=>{const i=RF(t,e);let a=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:p,value:m}=await i.next();if(p){c(),d.close();return}let v=m.byteLength;if(n){let x=a+=v;n(x)}d.enqueue(new Uint8Array(m))}catch(p){throw c(p),p}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},uf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$I=uf&&typeof ReadableStream=="function",kF=uf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),HI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},NF=$I&&HI(()=>{let t=!1;const e=new Request(tn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),zE=64*1024,Sg=$I&&HI(()=>X.isReadableStream(new Response("").body)),bd={stream:Sg&&(t=>t.body)};uf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!bd[e]&&(bd[e]=X.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,r)})})})(new Response);const DF=async t=>{if(t==null)return 0;if(X.isBlob(t))return t.size;if(X.isSpecCompliantForm(t))return(await new Request(tn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(X.isArrayBufferView(t)||X.isArrayBuffer(t))return t.byteLength;if(X.isURLSearchParams(t)&&(t=t+""),X.isString(t))return(await kF(t)).byteLength},LF=async(t,e)=>{const n=X.toFiniteNumber(t.getContentLength());return n??DF(e)},VF=uf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:a,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:p,headers:m,withCredentials:v="same-origin",fetchOptions:x}=zI(t);p=p?(p+"").toLowerCase():"text";let S=CF([i,a&&a.toAbortSignal()],l),C;const P=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let b;try{if(d&&NF&&n!=="get"&&n!=="head"&&(b=await LF(m,r))!==0){let Q=new Request(e,{method:"POST",body:r,duplex:"half"}),Z;if(X.isFormData(r)&&(Z=Q.headers.get("content-type"))&&m.setContentType(Z),Q.body){const[N,A]=jE(b,Sd(FE(d)));r=BE(Q.body,zE,N,A)}}X.isString(v)||(v=v?"include":"omit");const L="credentials"in Request.prototype;C=new Request(e,{...x,signal:S,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:L?v:void 0});let B=await fetch(C);const O=Sg&&(p==="stream"||p==="response");if(Sg&&(c||O&&P)){const Q={};["status","statusText","headers"].forEach(k=>{Q[k]=B[k]});const Z=X.toFiniteNumber(B.headers.get("content-length")),[N,A]=c&&jE(Z,Sd(FE(c),!0))||[];B=new Response(BE(B.body,zE,N,()=>{A&&A(),P&&P()}),Q)}p=p||"text";let K=await bd[X.findKey(bd,p)||"text"](B,t);return!O&&P&&P(),await new Promise((Q,Z)=>{UI(Q,Z,{data:K,headers:Tn.from(B.headers),status:B.status,statusText:B.statusText,config:t,request:C})})}catch(L){throw P&&P(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,t,C),{cause:L.cause||L}):Re.from(L,L&&L.code,t,C)}}),bg={http:Y6,xhr:IF,fetch:VF};X.forEach(bg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $E=t=>`- ${t}`,OF=t=>X.isFunction(t)||t===null||t===!1,WI={getAdapter:t=>{t=X.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let a=0;a<e;a++){n=t[a];let l;if(r=n,!OF(n)&&(r=bg[(l=String(n)).toLowerCase()],r===void 0))throw new Re(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+a]=r}if(!r){const a=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map($E).join(`
`):" "+$E(a[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:bg};function Sm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ya(null,t)}function HE(t){return Sm(t),t.headers=Tn.from(t.headers),t.data=Tm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),WI.getAdapter(t.adapter||Qu.adapter)(t).then(function(r){return Sm(t),r.data=Tm.call(t,t.transformResponse,r),r.headers=Tn.from(r.headers),r},function(r){return FI(r)||(Sm(t),r&&r.response&&(r.response.data=Tm.call(t,t.transformResponse,r.response),r.response.headers=Tn.from(r.response.headers))),Promise.reject(r)})}const qI="1.8.4",cf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{cf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const WE={};cf.transitional=function(e,n,r){function i(a,l){return"[Axios v"+qI+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,c)=>{if(e===!1)throw new Re(i(l," has been removed"+(n?" in "+n:"")),Re.ERR_DEPRECATED);return n&&!WE[l]&&(WE[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,c):!0}};cf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function MF(t,e,n){if(typeof t!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],l=e[a];if(l){const c=t[a],d=c===void 0||l(c,a,t);if(d!==!0)throw new Re("option "+a+" must be "+d,Re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Re("Unknown option "+a,Re.ERR_BAD_OPTION)}}const Kh={assertOptions:MF,validators:cf},Cr=Kh.validators;let eo=class{constructor(e){this.defaults=e,this.interceptors={request:new OE,response:new OE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=lo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Kh.assertOptions(r,{silentJSONParsing:Cr.transitional(Cr.boolean),forcedJSONParsing:Cr.transitional(Cr.boolean),clarifyTimeoutError:Cr.transitional(Cr.boolean)},!1),i!=null&&(X.isFunction(i)?n.paramsSerializer={serialize:i}:Kh.assertOptions(i,{encode:Cr.function,serialize:Cr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Kh.assertOptions(n,{baseUrl:Cr.spelling("baseURL"),withXsrfToken:Cr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&X.merge(a.common,a[n.method]);a&&X.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),n.headers=Tn.concat(l,a);const c=[];let d=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(n)===!1||(d=d&&P.synchronous,c.unshift(P.fulfilled,P.rejected))});const p=[];this.interceptors.response.forEach(function(P){p.push(P.fulfilled,P.rejected)});let m,v=0,x;if(!d){const C=[HE.bind(this),void 0];for(C.unshift.apply(C,c),C.push.apply(C,p),x=C.length,m=Promise.resolve(n);v<x;)m=m.then(C[v++],C[v++]);return m}x=c.length;let S=n;for(v=0;v<x;){const C=c[v++],P=c[v++];try{S=C(S)}catch(b){P.call(this,b);break}}try{m=HE.call(this,S)}catch(C){return Promise.reject(C)}for(v=0,x=p.length;v<x;)m=m.then(p[v++],p[v++]);return m}getUri(e){e=lo(this.defaults,e);const n=BI(e.baseURL,e.url,e.allowAbsoluteUrls);return OI(n,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){eo.prototype[e]=function(n,r){return this.request(lo(r||{},{method:e,url:n,data:(r||{}).data}))}});X.forEach(["post","put","patch"],function(e){function n(r){return function(a,l,c){return this.request(lo(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}eo.prototype[e]=n(),eo.prototype[e+"Form"]=n(!0)});let jF=class KI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(c=>{r.subscribe(c),a=c}).then(i);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,c){r.reason||(r.reason=new Ya(a,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new KI(function(i){e=i}),cancel:e}}};function FF(t){return function(n){return t.apply(null,n)}}function UF(t){return X.isObject(t)&&t.isAxiosError===!0}const Ig={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ig).forEach(([t,e])=>{Ig[e]=t});function GI(t){const e=new eo(t),n=bI(eo.prototype.request,e);return X.extend(n,eo.prototype,e,{allOwnKeys:!0}),X.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return GI(lo(t,i))},n}const gt=GI(Qu);gt.Axios=eo;gt.CanceledError=Ya;gt.CancelToken=jF;gt.isCancel=FI;gt.VERSION=qI;gt.toFormData=lf;gt.AxiosError=Re;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=FF;gt.isAxiosError=UF;gt.mergeConfig=lo;gt.AxiosHeaders=Tn;gt.formToJSON=t=>jI(X.isHTMLForm(t)?new FormData(t):t);gt.getAdapter=WI.getAdapter;gt.HttpStatusCode=Ig;gt.default=gt;const{Axios:d9,AxiosError:f9,CanceledError:p9,isCancel:m9,CancelToken:g9,VERSION:y9,all:v9,Cancel:w9,isAxiosError:_9,spread:x9,toFormData:E9,AxiosHeaders:T9,HttpStatusCode:S9,formToJSON:b9,getAdapter:I9,mergeConfig:C9}=gt;function BF(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(t)}function zF(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(t)}function $F(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"},child:[]},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"},child:[]},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"},child:[]}]})(t)}function HF(t){return Qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function WF(){const[t,e]=R.useState({});return{errors:t,validate:r=>{const i={};return r.email?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(r.email)||(i.email="Invalid email address"):i.email="Email is required",r.contact?/^\d{10}$/.test(r.contact)||(i.contact="Invalid contact number"):i.contact="Contact number is required",e(i),{isValid:Object.keys(i).length===0,newErrors:i}}}}const qF=()=>{const t="https://portfolio-shiv-server.vercel.app/send-email",e=R.useContext(av),[n,r]=R.useState({name:"",email:"",contact:"",message:""}),[i,a]=R.useState(""),{validate:l}=WF(),{showAlert:c}=mo(),d=x=>{r({...n,[x.target.name]:x.target.value})},p=[x=>`Your message is flying through the internet tubes, ${x||"friend"}! `,x=>`Mail sent! Carrier pigeon engaged for ${x||"you"}. `,x=>`Your words are on their way, ${x||"pal"}hopefully with good WiFi! `,x=>`Message delivered! The electrons salute you, ${x||"hero"}. `,x=>`Your message is now in the Matrix, ${x||"Neo"}! `,x=>`Mail sent! May the force be with your inbox, ${x||"Jedi"}! `,x=>`Your message is off to see the wizard, ${x||"traveler"}! `,x=>`Sent! Now let's hope it doesn't end up in a black hole, ${x||"space explorer"}. `,x=>`Your message is doing the cha-cha to its destination, ${x||"dancer"}! `,x=>`Mail sent! The internet hamsters are running fast for you, ${x||"champ"}! `];function m(x){const S=p[Math.floor(Math.random()*p.length)];return S(x)}const v=async x=>{var P,b;x.preventDefault();const{isValid:S,newErrors:C}=l(n);if(!S){c(Object.values(C).join(`
`),"error");return}try{e.update(!0);const L=await gt.post(t,n,{withCredentials:!0});e.update(!1),c(L.data.message,"info"),c(m(n.name)),a(L.data.message),r({name:"",email:"",contact:"",message:""})}catch(L){e.update(!1),c(((b=(P=L.response)==null?void 0:P.data)==null?void 0:b.message)||"Failed to send message. Try again later.","error"),a("Failed to send message. Try again later.")}};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-20 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(#34d399 1px, transparent 1px), linear-gradient(90deg, #34d399 1px, transparent 1px)",backgroundSize:"50px 50px"}}),y.jsxs("div",{className:"w-full max-w-4xl relative z-10",children:[y.jsxs(_e.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mb-12",children:[y.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-slate-200 mb-2 font-mono tracking-tighter",children:[y.jsx("span",{className:"text-primary",children:"$"})," send --message"]}),y.jsx("div",{className:"h-1 w-20 bg-primary mb-4"}),y.jsx("p",{className:"text-slate-400 font-mono text-sm",children:"// Let's connect and build something amazing"})]}),y.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"relative group",children:[y.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary/20 to-tertiary/20 rounded-lg blur-xl opacity-50 group-hover:opacity-75 transition duration-500"}),y.jsxs("div",{className:"relative bg-light-navy/80 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"bg-lightest-navy/50 px-4 py-3 flex items-center gap-2 border-b border-primary/20",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),y.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),y.jsx("span",{className:"ml-4 text-xs text-slate-400 font-mono",children:"contact.sh"})]}),y.jsx("div",{className:"p-8",children:y.jsxs("form",{className:"space-y-6 font-mono",onSubmit:v,children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"text-primary text-sm flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-500",children:"$"})," --name"]}),y.jsx("input",{type:"text",name:"name",value:n.name,onChange:d,className:"w-full bg-navy/50 border border-primary/30 rounded px-4 py-3 text-slate-300 font-mono text-sm focus:outline-none focus:border-primary transition-colors placeholder-slate-600",placeholder:"Enter your name...",required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"text-primary text-sm flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-500",children:"$"})," --email"]}),y.jsx("input",{type:"email",name:"email",value:n.email,onChange:d,className:"w-full bg-navy/50 border border-primary/30 rounded px-4 py-3 text-slate-300 font-mono text-sm focus:outline-none focus:border-primary transition-colors placeholder-slate-600",placeholder:"your.email@domain.com",required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"text-primary text-sm flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-500",children:"$"})," --contact"]}),y.jsx("input",{type:"tel",name:"contact",value:n.contact,onChange:d,className:"w-full bg-navy/50 border border-primary/30 rounded px-4 py-3 text-slate-300 font-mono text-sm focus:outline-none focus:border-primary transition-colors placeholder-slate-600",placeholder:"+1 234 567 8900"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"text-primary text-sm flex items-center gap-2",children:[y.jsx("span",{className:"text-slate-500",children:"$"})," --message"]}),y.jsx("textarea",{name:"message",value:n.message,onChange:d,rows:"5",className:"w-full bg-navy/50 border border-primary/30 rounded px-4 py-3 text-slate-300 font-mono text-sm focus:outline-none focus:border-primary transition-colors placeholder-slate-600 resize-none",placeholder:"// Your message here...",required:!0})]}),y.jsx("div",{className:"flex justify-end pt-4",children:y.jsxs("button",{type:"submit",className:"group/btn px-8 py-3 border-2 border-primary text-primary font-mono text-sm hover:bg-primary hover:text-navy transition-all duration-300 relative overflow-hidden",children:[y.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["> EXECUTE",y.jsx("span",{className:"group-hover/btn:translate-x-1 transition-transform",children:""})]}),y.jsx("div",{className:"absolute inset-0 bg-primary transform scale-x-0 group-hover/btn:scale-x-100 transition-transform origin-left duration-300"})]})})]})}),y.jsxs("div",{className:"bg-lightest-navy/30 px-4 py-2 border-t border-primary/20 font-mono text-xs text-slate-400 flex justify-between",children:[y.jsxs("span",{children:[y.jsx("span",{className:"text-green-400",children:""})," READY"]}),y.jsx("span",{className:"text-primary/70",children:"// awaiting input"})]})]})]}),y.jsxs(_e.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"mt-8 relative group",children:[y.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-tertiary/20 to-primary/20 rounded-lg blur-xl opacity-50 group-hover:opacity-75 transition duration-500"}),y.jsx("div",{className:"relative bg-light-navy/80 backdrop-blur-md border border-primary/30 rounded-lg overflow-hidden shadow-2xl p-6",children:y.jsx("div",{className:"flex flex-wrap justify-center gap-6 md:gap-8",children:[{name:"GitHub",url:"https://github.com/en-rypted",icon:"FiGithub"},{name:"LinkedIn",url:"https://www.linkedin.com/in/shivwakchaure",icon:"FiLinkedin"},{name:"Instagram",url:"https://www.instagram.com/19hi22",icon:"FiInstagram"},{name:"WhatsApp",url:"https://wa.me/qr/3IPR4EEH4C2SH1",icon:"FaWhatsapp"},{name:"Email",url:"mailto:shivwakchaure19@gmail.com",icon:"FiMail"}].map((x,S)=>y.jsxs("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 group/icon",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-navy/50 border border-primary/30 flex items-center justify-center text-slate-400 group-hover/icon:text-primary group-hover/icon:border-primary group-hover/icon:scale-110 transition-all duration-300",children:y.jsx(KF,{name:x.name})}),y.jsx("span",{className:"text-xs font-mono text-slate-500 group-hover/icon:text-primary transition-colors",children:x.name})]},S))})})]})]})]})},KF=({name:t})=>{switch(t){case"GitHub":return y.jsx(BF,{size:20});case"LinkedIn":return y.jsx($F,{size:20});case"Instagram":return y.jsx(zF,{size:20});case"WhatsApp":return y.jsx(B5,{size:20});case"Email":return y.jsx(HF,{size:20});default:return null}},GF=()=>{const[t,e]=R.useState(!1);return y.jsxs("div",{className:"min-h-screen bg-navy text-secondary selection:bg-primary selection:text-navy",children:[t&&y.jsx(xI,{onClose:()=>{e(!1)}}),y.jsx(S5,{}),y.jsxs("main",{className:"relative z-10",children:[y.jsx("section",{id:"home",children:y.jsx(t6,{})}),y.jsx("section",{id:"about",className:"py-20 px-6 md:px-12 lg:px-24 max-w-[1600px] mx-auto",children:y.jsx(r6,{})}),y.jsx("section",{id:"skills",className:"py-20 px-6 md:px-12 lg:px-24 max-w-[1600px] mx-auto",children:y.jsx(l6,{})}),y.jsx("section",{id:"projects",className:"py-20 px-6 md:px-12 lg:px-24 max-w-[1600px] mx-auto",children:y.jsx(s6,{})}),y.jsx("section",{id:"experience",className:"py-20 px-6 md:px-12 lg:px-24 max-w-[1600px] mx-auto",children:y.jsx(u6,{})}),y.jsx("section",{id:"contact",className:"py-20 px-6 md:px-12 lg:px-24 max-w-[1600px] mx-auto",children:y.jsx(qF,{})})]}),y.jsx(j5,{}),y.jsx(e6,{}),y.jsx("div",{className:"fixed top-0 left-0 w-4 h-4 z-[9999]",onDoubleClick:()=>{e(!0)}})]})},QF=({project:t,onClose:e,onSuccess:n})=>{const{showAlert:r}=mo(),[i,a]=R.useState(!1),[l,c]=R.useState(null),[d,p]=R.useState({title:"",description:"",image:{url:"",public_id:""},link:"",order:0});R.useEffect(()=>{t&&p(t.data)},[t]);const m=C=>{const{name:P,value:b}=C.target;p(L=>({...L,[P]:P==="order"?parseInt(b)||0:b}))},v=C=>{const P=C.target.files[0];if(P){c(P);const b=new FileReader;b.onloadend=()=>{p(L=>({...L,image:{url:b.result,public_id:""}}))},b.readAsDataURL(P)}},x=async(C,P)=>{const b="drugj5n1l",L="shiv-portfolio",O=(Q=>Q.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,50))(P),K=new FormData;K.append("file",C),K.append("upload_preset",L),K.append("cloud_name",b),K.append("folder","shiv-portfolio/projects"),K.append("public_id",O);try{const Z=await(await fetch(`https://api.cloudinary.com/v1_1/${b}/image/upload`,{method:"POST",body:K})).json();return{url:Z.secure_url,public_id:Z.public_id}}catch(Q){return console.error(Q),r("Image upload failed","error"),null}},S=async C=>{C.preventDefault(),a(!0);try{let P=d.image;if(l){r("Uploading image...","info");const{url:L,public_id:B}=await x(l,d.title||"untitled");if(L)P={url:L,public_id:B};else{a(!1);return}}const b={...d,image:P};if(t){const L=za(cn,"projects",t.id);await qd(L,b),r("Project updated successfully!","success")}else await my(Fr(cn,"projects"),b),r("Project added successfully!","success");a(!1),n(),e()}catch(P){console.error(P),a(!1),r("Error: "+P.message,"error")}};return y.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/40 p-4",children:y.jsxs("div",{className:"bg-light-navy border border-primary/30 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"sticky top-0 bg-lightest-navy border-b border-primary/20 p-4 flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-bold text-primary font-mono",children:t?"Edit Project":"Add New Project"}),y.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white",children:y.jsx(gi,{})})]}),y.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Title *"}),y.jsx("input",{type:"text",name:"title",value:d.title,onChange:m,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Description *"}),y.jsx("textarea",{name:"description",value:d.description,onChange:m,required:!0,rows:4,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none resize-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Project Link *"}),y.jsx("input",{type:"url",name:"link",value:d.link,onChange:m,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Display Order"}),y.jsx("input",{type:"number",name:"order",value:d.order,onChange:m,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Project Image"}),d.image.url&&y.jsx("div",{className:"mb-2",children:y.jsx("img",{src:d.image.url,alt:"Preview",className:"h-32 w-auto rounded border border-primary/20"})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",name:"image",value:l?l.name:d.image.url,readOnly:!!l,onChange:m,placeholder:"Image URL or select file below",className:"flex-1 bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none text-sm"}),y.jsxs("label",{className:"px-4 py-2 bg-primary/20 border border-primary text-primary rounded cursor-pointer hover:bg-primary/30 flex items-center gap-2",children:[y.jsx(Ed,{}),l?"Change":"Select",y.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden"})]})]}),l&&y.jsxs("p",{className:"text-xs text-green-400 mt-1",children:[" Will upload to: shiv-portfolio/projects/",d.title?d.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"):"untitled"]})]}),y.jsxs("div",{className:"flex gap-2 pt-4",children:[y.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-primary text-navy font-bold py-3 rounded hover:bg-primary/80 disabled:opacity-50",children:i?"Saving...":t?"Update Project":"Add Project"}),y.jsx("button",{type:"button",onClick:e,className:"px-6 bg-slate-700 text-slate-300 font-bold py-3 rounded hover:bg-slate-600",children:"Cancel"})]})]})]})})},YF=({experience:t,onClose:e,onSuccess:n})=>{const{showAlert:r}=mo(),[i,a]=R.useState(!1),[l,c]=R.useState({companyName:"",role:"",duration:"",desc:"",order:0});R.useEffect(()=>{t&&c(t.data)},[t]);const d=m=>{const{name:v,value:x}=m.target;c(S=>({...S,[v]:v==="order"?parseInt(x)||0:x}))},p=async m=>{m.preventDefault(),a(!0);try{if(t){const v=za(cn,"experiences",t.id);await qd(v,l),r("Experience updated successfully!","success")}else await my(Fr(cn,"experiences"),l),r("Experience added successfully!","success");a(!1),n(),e()}catch(v){console.error(v),a(!1),r("Error: "+v.message,"error")}};return y.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/40 p-4",children:y.jsxs("div",{className:"bg-light-navy border border-primary/30 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"sticky top-0 bg-lightest-navy border-b border-primary/20 p-4 flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-bold text-primary font-mono",children:t?"Edit Experience":"Add New Experience"}),y.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white",children:y.jsx(gi,{})})]}),y.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Company Name *"}),y.jsx("input",{type:"text",name:"companyName",value:l.companyName,onChange:d,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Role *"}),y.jsx("input",{type:"text",name:"role",value:l.role,onChange:d,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Duration *"}),y.jsx("input",{type:"text",name:"duration",value:l.duration,onChange:d,required:!0,placeholder:"e.g., 2022 - Present",className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Description *"}),y.jsx("textarea",{name:"desc",value:l.desc,onChange:d,required:!0,rows:6,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none resize-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Display Order"}),y.jsx("input",{type:"number",name:"order",value:l.order,onChange:d,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),y.jsxs("div",{className:"flex gap-2 pt-4",children:[y.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-primary text-navy font-bold py-3 rounded hover:bg-primary/80 disabled:opacity-50",children:i?"Saving...":t?"Update Experience":"Add Experience"}),y.jsx("button",{type:"button",onClick:e,className:"px-6 bg-slate-700 text-slate-300 font-bold py-3 rounded hover:bg-slate-600",children:"Cancel"})]})]})]})})},XF=({skill:t,onClose:e,onSuccess:n})=>{const{showAlert:r}=mo(),[i,a]=R.useState(!1),[l,c]=R.useState(null),[d,p]=R.useState({name:"",level:0,category:"core",x:50,y:50,size:"medium",color:"#34d399",image:{url:"",public_id:""}});R.useEffect(()=>{t&&p(t.data)},[t]);const m=C=>{const{name:P,value:b}=C.target;p(L=>({...L,[P]:["level","x","y"].includes(P)?parseInt(b)||0:b}))},v=C=>{const P=C.target.files[0];if(P){c(P);const b=new FileReader;b.onloadend=()=>{p(L=>({...L,image:{url:b.result,public_id:""}}))},b.readAsDataURL(P)}},x=async(C,P)=>{const b="drugj5n1l",L="shiv-portfolio",O=(Q=>Q.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,50))(P),K=new FormData;K.append("file",C),K.append("upload_preset",L),K.append("cloud_name",b),K.append("folder","shiv-portfolio/skills"),K.append("public_id",O);try{const Z=await(await fetch(`https://api.cloudinary.com/v1_1/${b}/image/upload`,{method:"POST",body:K})).json();return{url:Z.secure_url,public_id:Z.public_id}}catch(Q){return console.error(Q),r("Image upload failed","error"),null}},S=async C=>{C.preventDefault(),a(!0);try{let P=d.image;if(l){r("Uploading image...","info");const{url:L,public_id:B}=await x(l,d.name);if(L)P={url:L,public_id:B};else{a(!1);return}}const b={...d,image:P};if(t){const L=za(cn,"skills",t.id);await qd(L,b),r("Skill updated successfully!","success")}else await my(Fr(cn,"skills"),b),r("Skill added successfully!","success");a(!1),n(),e()}catch(P){console.error(P),a(!1),r("Error: "+P.message,"error")}};return y.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/40 p-4",children:y.jsxs("div",{className:"bg-light-navy border border-primary/30 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"sticky top-0 bg-lightest-navy border-b border-primary/20 p-4 flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-bold text-primary font-mono",children:t?"Edit Skill":"Add New Skill"}),y.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white",children:y.jsx(gi,{})})]}),y.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Skill Name *"}),y.jsx("input",{type:"text",name:"name",value:d.name,onChange:m,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Level (0-100) *"}),y.jsx("input",{type:"number",name:"level",min:"0",max:"100",value:d.level,onChange:m,required:!0,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Category *"}),y.jsxs("select",{name:"category",value:d.category,onChange:m,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none",children:[y.jsx("option",{value:"core",children:"Core"}),y.jsx("option",{value:"frontend",children:"Frontend"}),y.jsx("option",{value:"backend",children:"Backend"}),y.jsx("option",{value:"database",children:"Database"}),y.jsx("option",{value:"devops",children:"DevOps"}),y.jsx("option",{value:"tools",children:"Tools"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Color"}),y.jsx("input",{type:"color",name:"color",value:d.color,onChange:m,className:"w-full h-10 bg-navy border border-primary/30 rounded px-1 py-1 cursor-pointer"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Icon/Image (Optional)"}),d.image.url&&y.jsx("div",{className:"mb-2",children:y.jsx("img",{src:d.image.url,alt:"Preview",className:"h-16 w-16 rounded border border-primary/20"})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",name:"image",value:l?l.name:d.image.url,readOnly:!!l,onChange:m,placeholder:"Image URL or select file below",className:"flex-1 bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none text-sm"}),y.jsxs("label",{className:"px-4 py-2 bg-primary/20 border border-primary text-primary rounded cursor-pointer hover:bg-primary/30 flex items-center gap-2",children:[y.jsx(Ed,{}),l?"Change":"Select",y.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden"})]})]}),l&&y.jsxs("p",{className:"text-xs text-green-400 mt-1",children:[" Will upload to: shiv-portfolio/skills/",d.name?d.name.toLowerCase().replace(/[^a-z0-9]+/g,"-"):"skill"]})]}),y.jsxs("div",{className:"flex gap-2 pt-4",children:[y.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-primary text-navy font-bold py-3 rounded hover:bg-primary/80 disabled:opacity-50",children:i?"Saving...":t?"Update Skill":"Add Skill"}),y.jsx("button",{type:"button",onClick:e,className:"px-6 bg-slate-700 text-slate-300 font-bold py-3 rounded hover:bg-slate-600",children:"Cancel"})]})]})]})})},JF=({onClose:t,onSuccess:e})=>{var b;const{showAlert:n}=mo(),[r,i]=R.useState(!1),[a,l]=R.useState(!1),[c,d]=R.useState(""),[p,m]=R.useState({profile:{url:"",public_id:""},resume:{url:"",public_id:""},description:""});R.useEffect(()=>{(async()=>{try{const B=await fo(Fr(cn,"about"));B.docs.length>0&&(d(B.docs[0].id),m(B.docs[0].data()))}catch(B){console.error(B)}})()},[]);const v=L=>{const{name:B,value:O}=L.target;m(K=>({...K,[B]:O}))},x=async(L,B=null)=>{const O="drugj5n1l",K="shiv-portfolio";l(!0);const Q=new FormData;Q.append("file",L),Q.append("upload_preset",K),Q.append("folder","shiv-portfolio/about"),Q.append("cloud_name",O),B&&Q.append("public_id",B);try{const N=await(await fetch(`https://api.cloudinary.com/v1_1/${O}/image/upload`,{method:"POST",body:Q})).json();if(l(!1),N.error)throw console.error(N.error),new Error(N.error.message);return{url:N.secure_url,public_id:N.public_id}}catch(Z){return console.error(Z),l(!1),n("Upload failed: "+Z.message,"error"),null}},S=async L=>{const B=L.target.files[0];if(!B)return;const{url:O,public_id:K}=await x(B);O&&(m(Q=>({...Q,profile:{url:O,public_id:K}})),n("Profile image uploaded successfully!","success"))},C=async L=>{const B=L.target.files[0];if(!B)return;const{url:O,public_id:K}=await x(B);O&&(m(Q=>({...Q,resume:{url:O,public_id:K}})),n("Resume uploaded successfully!","success"))},P=async L=>{L.preventDefault(),i(!0);try{if(c){const B=za(cn,"about",c);await qd(B,p),n("About section updated successfully!","success")}else n("No about document found","error");i(!1),e(),t()}catch(B){console.error(B),i(!1),n("Error: "+B.message,"error")}};return y.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/40 p-4",children:y.jsxs("div",{className:"bg-light-navy border border-primary/30 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"sticky top-0 bg-lightest-navy border-b border-primary/20 p-4 flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-bold text-primary font-mono",children:"Edit About Section"}),y.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white",children:y.jsx(gi,{})})]}),y.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Profile Image"}),p.profile.url&&y.jsx("div",{className:"mb-2",children:y.jsx("img",{src:p.profile.url,alt:"Profile",className:"h-32 w-32 rounded-full border border-primary/20"})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",name:"profile",value:p.profile.url,onChange:v,placeholder:"Image URL or upload below",className:"flex-1 bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none text-sm"}),y.jsxs("label",{className:"px-4 py-2 bg-primary/20 border border-primary text-primary rounded cursor-pointer hover:bg-primary/30 flex items-center gap-2",children:[y.jsx(Ed,{}),"Upload",y.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden",disabled:a})]})]}),a&&y.jsx("p",{className:"text-xs text-primary mt-1",children:"Uploading..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Resume (PDF)"}),y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsx("div",{className:"flex-1 bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 text-sm truncate",children:(b=p.resume)!=null&&b.url?y.jsx("a",{href:p.resume.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:p.resume.url}):y.jsx("span",{className:"text-slate-500",children:"No resume uploaded"})}),y.jsxs("label",{className:"px-4 py-2 bg-primary/20 border border-primary text-primary rounded cursor-pointer hover:bg-primary/30 flex items-center gap-2",children:[y.jsx(Ed,{}),"Upload PDF",y.jsx("input",{type:"file",accept:"application/pdf",onChange:C,className:"hidden",disabled:a})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-mono text-slate-300 mb-2",children:"Description *"}),y.jsx("textarea",{name:"description",value:p.description,onChange:v,required:!0,rows:10,className:"w-full bg-navy border border-primary/30 rounded px-3 py-2 text-slate-300 focus:border-primary outline-none resize-none"})]}),y.jsxs("div",{className:"flex gap-2 pt-4",children:[y.jsx("button",{type:"submit",disabled:r||a,className:"flex-1 bg-primary text-navy font-bold py-3 rounded hover:bg-primary/80 disabled:opacity-50",children:r?"Saving...":"Update About"}),y.jsx("button",{type:"button",onClick:t,className:"px-6 bg-slate-700 text-slate-300 font-bold py-3 rounded hover:bg-slate-600",children:"Cancel"})]})]})]})})},ZF=()=>{const{user:t}=R.useContext(Lg),[e,n]=R.useState("projects"),[r,i]=R.useState([]),[a,l]=R.useState(!1),[c,d]=R.useState(!1),[p,m]=R.useState(null),[v,x]=R.useState(!1),[S,C]=R.useState(!1);R.useEffect(()=>{x(!t)},[t]),R.useEffect(()=>{if(!t||e==="about")return;const Q=e==="skills"?"skills":e==="projects"?"projects":"experiences";(async()=>{l(!0);try{const A=(await fo(Fr(cn,Q))).docs.map(k=>({id:k.id,data:k.data()}));A.sort((k,M)=>(k.data.order||0)-(M.data.order||0)),i(A)}catch(N){console.error("Error fetching data: ",N)}l(!1)})()},[e,t,c]);const P=async Q=>{if(window.confirm("Are you sure you want to delete this item?"))try{await tD(za(cn,e==="skills"?"skills":e==="projects"?"projects":"experiences",Q)),i(r.filter(N=>N.id!==Q))}catch(Z){console.error("Error deleting document: ",Z),alert("Delete failed!")}},b=async()=>{await nL(Xd),window.location.href="/"},L=()=>{m(null),d(!0)},B=Q=>{m(Q),d(!0)},O=()=>{d(!1),m(null)},K=()=>{};return t?y.jsxs("div",{className:"min-h-screen bg-navy flex flex-col md:flex-row text-slate-300 font-sans relative",children:[y.jsxs("div",{className:"md:hidden p-4 bg-light-navy border-b border-primary/20 flex justify-between items-center sticky top-0 z-40 w-full",children:[y.jsx("h1",{className:"text-lg font-bold text-primary font-mono",children:"ADMIN_PANEL"}),y.jsx("button",{onClick:()=>C(!0),className:"text-primary text-xl p-2 hover:bg-white/5 rounded transition-colors",children:y.jsx($5,{})})]}),S&&y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>C(!1)}),y.jsxs("aside",{className:`
                fixed inset-y-0 left-0 z-50 w-64 bg-light-navy border-r border-primary/20 flex flex-col 
                transform transition-transform duration-300 ease-in-out
                ${S?"translate-x-0":"-translate-x-full"} 
                md:relative md:translate-x-0 md:static md:inset-auto md:h-screen
            `,children:[y.jsxs("div",{className:"p-6 border-b border-primary/20 flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-primary font-mono",children:"ADMIN_PANEL"}),y.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Welcome, ",t.email]})]}),y.jsx("button",{onClick:()=>C(!1),className:"md:hidden text-slate-400 hover:text-white transition-colors",children:y.jsx(gi,{})})]}),y.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[y.jsx(bh,{icon:y.jsx(Z5,{}),label:"About",active:e==="about",onClick:()=>{n("about"),C(!1)}}),y.jsx(bh,{icon:y.jsx(G5,{}),label:"Skills",active:e==="skills",onClick:()=>{n("skills"),C(!1)}}),y.jsx(bh,{icon:y.jsx(W5,{}),label:"Projects",active:e==="projects",onClick:()=>{n("projects"),C(!1)}}),y.jsx(bh,{icon:y.jsx(H5,{}),label:"Experience",active:e==="experience",onClick:()=>{n("experience"),C(!1)}})]}),y.jsx("div",{className:"p-4 border-t border-primary/20",children:y.jsxs("button",{onClick:b,className:"flex items-center gap-2 text-red-400 hover:text-red-300 transition-colors w-full px-4 py-2 rounded hover:bg-red-500/10",children:[y.jsx(X5,{})," Logout"]})})]}),y.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto h-[calc(100vh-64px)] md:h-screen",children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsxs("h2",{className:"text-3xl font-bold text-slate-100 font-mono capitalize",children:["$ manage --",e]}),y.jsxs("button",{onClick:L,className:"flex items-center gap-2 bg-primary text-navy px-4 py-2 rounded font-bold hover:bg-primary/80 transition-colors",children:[y.jsx(Y5,{})," ",e==="about"?"Edit About":"Add New"]})]}),e==="about"?y.jsx("div",{className:"bg-light-navy/30 border border-primary/10 rounded-lg p-6",children:y.jsx("p",{className:"text-slate-400 mb-4",children:'Click "Edit About" to update your profile information.'})}):y.jsxs("div",{className:"flex flex-col gap-4 w-full min-w-0",children:[a?y.jsx("p",{className:"text-primary font-mono",children:"Loading data..."}):r.map(Q=>y.jsxs("div",{className:"bg-light-navy/50 border border-primary/10 p-4 rounded-lg flex flex-col md:flex-row justify-between items-start md:items-center gap-4 group hover:border-primary/30 transition-all w-full",children:[y.jsxs("div",{className:"w-full md:w-auto overflow-hidden min-w-0",children:[y.jsx("h3",{className:"font-bold text-lg text-slate-200 truncate",children:Q.data.title||Q.data.name||Q.data.companyName||"Untitled"}),y.jsx("p",{className:"text-sm text-slate-500 font-mono truncate max-w-full md:max-w-md",children:Q.data.description||Q.data.category||Q.data.role||""})]}),y.jsxs("div",{className:"flex gap-2 w-full md:w-auto justify-end opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>B(Q),className:"p-2 bg-blue-500/20 text-blue-400 rounded hover:bg-blue-500/40 transition-colors",title:"Edit",children:y.jsx(K5,{})}),y.jsx("button",{onClick:()=>P(Q.id),className:"p-2 bg-red-500/20 text-red-400 rounded hover:bg-red-500/40 transition-colors",title:"Delete",children:y.jsx(J5,{})})]})]},Q.id)),r.length===0&&!a&&y.jsx("p",{className:"text-slate-500 italic",children:'No items found. Click "Add New" to create one.'})]})]})}),c&&e==="projects"&&y.jsx(QF,{project:p,onClose:O,onSuccess:K}),c&&e==="experience"&&y.jsx(YF,{experience:p,onClose:O,onSuccess:K}),c&&e==="skills"&&y.jsx(XF,{skill:p,onClose:O,onSuccess:K}),c&&e==="about"&&y.jsx(JF,{onClose:O,onSuccess:K})]}):y.jsx("div",{className:"min-h-screen bg-navy flex items-center justify-center",children:v&&y.jsx(xI,{onClose:()=>window.location.href="/"})})},bh=({icon:t,label:e,active:n,onClick:r})=>y.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-4 py-3 rounded transition-all ${n?"bg-primary/10 text-primary border-r-2 border-primary":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:[t,y.jsx("span",{className:"font-mono text-sm",children:e})]});function e9(){const t=tR({query:"(max-width: 600px)"}),[e,n]=R.useState(null);return R.useEffect(()=>{const r=Xd.onAuthStateChanged(i=>{n(i||null)});return()=>r()},[]),y.jsx(ms.Provider,{value:t,children:y.jsx(Lg.Provider,{value:{user:e,setUser:n},children:y.jsx(vA,{children:y.jsxs(QC,{children:[y.jsx(Im,{path:"/",element:y.jsx(GF,{})}),y.jsx(Im,{path:"/admin",element:y.jsx(ZF,{})})]})})})})}var Ih={},qE;function t9(){if(qE)return Ih;qE=1;var t=KE();return Ih.createRoot=t.createRoot,Ih.hydrateRoot=t.hydrateRoot,Ih}var n9=t9();const r9=t=>{const[e,n]=R.useState(window.innerWidth<=600);return R.useEffect(()=>{const r=()=>{n(window.innerWidth<=600)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),y.jsx(ms.Provider,{value:e,children:t.children})},s9=()=>y.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/50 backdrop-blur-sm",children:y.jsx("span",{className:"w-2 h-2 rounded-full bg-white animate-ping"})}),i9=t=>{const[e,n]=R.useState(!1),r=i=>{n(i)};return y.jsxs(av.Provider,{value:{isLoder:e,update:r},children:[t.children,e?y.jsx(s9,{}):""]})},o9=t=>{const[e,n]=R.useState(null),[r,i]=R.useState(!0);return R.useEffect(()=>{const a=tL(Xd,l=>{n(l),i(!1)});return()=>a()},[]),y.jsx(Lg.Provider,{value:{user:e,loading:r},children:t.children})};n9.createRoot(document.getElementById("root")).render(y.jsx(i9,{children:y.jsx(r9,{children:y.jsx(o9,{children:y.jsx(U5,{children:y.jsx(e9,{})})})})}));
